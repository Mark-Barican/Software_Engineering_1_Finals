var Pg=t=>{throw TypeError(t)};var Mf=(t,n,a)=>n.has(t)||Pg("Cannot "+a);var ae=(t,n,a)=>(Mf(t,n,"read from private field"),a?a.call(t):n.get(t)),ht=(t,n,a)=>n.has(t)?Pg("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,a),tt=(t,n,a,o)=>(Mf(t,n,"write to private field"),o?o.call(t,a):n.set(t,a),a),rr=(t,n,a)=>(Mf(t,n,"access private method"),a);var kc=(t,n,a,o)=>({set _(l){tt(t,n,l,a)},get _(){return ae(t,n,o)}});function cS(t,n){for(var a=0;a<n.length;a++){const o=n[a];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();function gy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var If={exports:{}},Oi={},Lf={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function dS(){if(Rg)return st;Rg=1;var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),m=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,b={};function j(M,H,fe){this.props=M,this.context=H,this.refs=b,this.updater=fe||S}j.prototype.isReactComponent={},j.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=j.prototype;function k(M,H,fe){this.props=M,this.context=H,this.refs=b,this.updater=fe||S}var P=k.prototype=new C;P.constructor=k,N(P,j.prototype),P.isPureReactComponent=!0;var A=Array.isArray,T=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function $(M,H,fe){var be,ke={},ve=null,me=null;if(H!=null)for(be in H.ref!==void 0&&(me=H.ref),H.key!==void 0&&(ve=""+H.key),H)T.call(H,be)&&!D.hasOwnProperty(be)&&(ke[be]=H[be]);var je=arguments.length-2;if(je===1)ke.children=fe;else if(1<je){for(var Ee=Array(je),Oe=0;Oe<je;Oe++)Ee[Oe]=arguments[Oe+2];ke.children=Ee}if(M&&M.defaultProps)for(be in je=M.defaultProps,je)ke[be]===void 0&&(ke[be]=je[be]);return{$$typeof:t,type:M,key:ve,ref:me,props:ke,_owner:L.current}}function X(M,H){return{$$typeof:t,type:M.type,key:H,ref:M.ref,props:M.props,_owner:M._owner}}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function ne(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(fe){return H[fe]})}var Z=/\/+/g;function he(M,H){return typeof M=="object"&&M!==null&&M.key!=null?ne(""+M.key):H.toString(36)}function q(M,H,fe,be,ke){var ve=typeof M;(ve==="undefined"||ve==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(ve){case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case t:case n:me=!0}}if(me)return me=M,ke=ke(me),M=be===""?"."+he(me,0):be,A(ke)?(fe="",M!=null&&(fe=M.replace(Z,"$&/")+"/"),q(ke,H,fe,"",function(Oe){return Oe})):ke!=null&&(V(ke)&&(ke=X(ke,fe+(!ke.key||me&&me.key===ke.key?"":(""+ke.key).replace(Z,"$&/")+"/")+M)),H.push(ke)),1;if(me=0,be=be===""?".":be+":",A(M))for(var je=0;je<M.length;je++){ve=M[je];var Ee=be+he(ve,je);me+=q(ve,H,fe,Ee,ke)}else if(Ee=v(M),typeof Ee=="function")for(M=Ee.call(M),je=0;!(ve=M.next()).done;)ve=ve.value,Ee=be+he(ve,je++),me+=q(ve,H,fe,Ee,ke);else if(ve==="object")throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return me}function Q(M,H,fe){if(M==null)return M;var be=[],ke=0;return q(M,be,"","",function(ve){return H.call(fe,ve,ke++)}),be}function te(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(fe){(M._status===0||M._status===-1)&&(M._status=1,M._result=fe)},function(fe){(M._status===0||M._status===-1)&&(M._status=2,M._result=fe)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var xe={current:null},F={transition:null},U={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:F,ReactCurrentOwner:L};function re(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Q,forEach:function(M,H,fe){Q(M,function(){H.apply(this,arguments)},fe)},count:function(M){var H=0;return Q(M,function(){H++}),H},toArray:function(M){return Q(M,function(H){return H})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},st.Component=j,st.Fragment=a,st.Profiler=l,st.PureComponent=k,st.StrictMode=o,st.Suspense=x,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,st.act=re,st.cloneElement=function(M,H,fe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var be=N({},M.props),ke=M.key,ve=M.ref,me=M._owner;if(H!=null){if(H.ref!==void 0&&(ve=H.ref,me=L.current),H.key!==void 0&&(ke=""+H.key),M.type&&M.type.defaultProps)var je=M.type.defaultProps;for(Ee in H)T.call(H,Ee)&&!D.hasOwnProperty(Ee)&&(be[Ee]=H[Ee]===void 0&&je!==void 0?je[Ee]:H[Ee])}var Ee=arguments.length-2;if(Ee===1)be.children=fe;else if(1<Ee){je=Array(Ee);for(var Oe=0;Oe<Ee;Oe++)je[Oe]=arguments[Oe+2];be.children=je}return{$$typeof:t,type:M.type,key:ke,ref:ve,props:be,_owner:me}},st.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:c,_context:M},M.Consumer=M},st.createElement=$,st.createFactory=function(M){var H=$.bind(null,M);return H.type=M,H},st.createRef=function(){return{current:null}},st.forwardRef=function(M){return{$$typeof:f,render:M}},st.isValidElement=V,st.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:te}},st.memo=function(M,H){return{$$typeof:p,type:M,compare:H===void 0?null:H}},st.startTransition=function(M){var H=F.transition;F.transition={};try{M()}finally{F.transition=H}},st.unstable_act=re,st.useCallback=function(M,H){return xe.current.useCallback(M,H)},st.useContext=function(M){return xe.current.useContext(M)},st.useDebugValue=function(){},st.useDeferredValue=function(M){return xe.current.useDeferredValue(M)},st.useEffect=function(M,H){return xe.current.useEffect(M,H)},st.useId=function(){return xe.current.useId()},st.useImperativeHandle=function(M,H,fe){return xe.current.useImperativeHandle(M,H,fe)},st.useInsertionEffect=function(M,H){return xe.current.useInsertionEffect(M,H)},st.useLayoutEffect=function(M,H){return xe.current.useLayoutEffect(M,H)},st.useMemo=function(M,H){return xe.current.useMemo(M,H)},st.useReducer=function(M,H,fe){return xe.current.useReducer(M,H,fe)},st.useRef=function(M){return xe.current.useRef(M)},st.useState=function(M){return xe.current.useState(M)},st.useSyncExternalStore=function(M,H,fe){return xe.current.useSyncExternalStore(M,H,fe)},st.useTransition=function(){return xe.current.useTransition()},st.version="18.3.1",st}var Ag;function rh(){return Ag||(Ag=1,Lf.exports=dS()),Lf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function uS(){if(Tg)return Oi;Tg=1;var t=rh(),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function m(f,x,p){var y,w={},v=null,S=null;p!==void 0&&(v=""+p),x.key!==void 0&&(v=""+x.key),x.ref!==void 0&&(S=x.ref);for(y in x)o.call(x,y)&&!c.hasOwnProperty(y)&&(w[y]=x[y]);if(f&&f.defaultProps)for(y in x=f.defaultProps,x)w[y]===void 0&&(w[y]=x[y]);return{$$typeof:n,type:f,key:v,ref:S,props:w,_owner:l.current}}return Oi.Fragment=a,Oi.jsx=m,Oi.jsxs=m,Oi}var Dg;function fS(){return Dg||(Dg=1,If.exports=uS()),If.exports}var e=fS(),d=rh();const ge=gy(d),vy=cS({__proto__:null,default:ge},[d]),mS=1,hS=1e6;let Of=0;function pS(){return Of=(Of+1)%Number.MAX_SAFE_INTEGER,Of.toString()}const _f=new Map,Mg=t=>{if(_f.has(t))return;const n=setTimeout(()=>{_f.delete(t),Vi({type:"REMOVE_TOAST",toastId:t})},hS);_f.set(t,n)},xS=(t,n)=>{switch(n.type){case"ADD_TOAST":return{...t,toasts:[n.toast,...t.toasts].slice(0,mS)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===n.toast.id?{...a,...n.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=n;return a?Mg(a):t.toasts.forEach(o=>{Mg(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===a||a===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return n.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==n.toastId)}}},Wc=[];let Gc={toasts:[]};function Vi(t){Gc=xS(Gc,t),Wc.forEach(n=>{n(Gc)})}function yt({...t}){const n=pS(),a=l=>Vi({type:"UPDATE_TOAST",toast:{...l,id:n}}),o=()=>Vi({type:"DISMISS_TOAST",toastId:n});return Vi({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:l=>{l||o()}}}),{id:n,dismiss:o,update:a}}function yy(){const[t,n]=d.useState(Gc);return d.useEffect(()=>(Wc.push(n),()=>{const a=Wc.indexOf(n);a>-1&&Wc.splice(a,1)}),[t]),{...t,toast:yt,dismiss:a=>Vi({type:"DISMISS_TOAST",toastId:a})}}var Ff={exports:{}},yr={},$f={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function gS(){return Ig||(Ig=1,function(t){function n(F,U){var re=F.length;F.push(U);e:for(;0<re;){var M=re-1>>>1,H=F[M];if(0<l(H,U))F[M]=U,F[re]=H,re=M;else break e}}function a(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var U=F[0],re=F.pop();if(re!==U){F[0]=re;e:for(var M=0,H=F.length,fe=H>>>1;M<fe;){var be=2*(M+1)-1,ke=F[be],ve=be+1,me=F[ve];if(0>l(ke,re))ve<H&&0>l(me,ke)?(F[M]=me,F[ve]=re,M=ve):(F[M]=ke,F[be]=re,M=be);else if(ve<H&&0>l(me,re))F[M]=me,F[ve]=re,M=ve;else break e}}return U}function l(F,U){var re=F.sortIndex-U.sortIndex;return re!==0?re:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var m=Date,f=m.now();t.unstable_now=function(){return m.now()-f}}var x=[],p=[],y=1,w=null,v=3,S=!1,N=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(F){for(var U=a(p);U!==null;){if(U.callback===null)o(p);else if(U.startTime<=F)o(p),U.sortIndex=U.expirationTime,n(x,U);else break;U=a(p)}}function A(F){if(b=!1,P(F),!N)if(a(x)!==null)N=!0,te(T);else{var U=a(p);U!==null&&xe(A,U.startTime-F)}}function T(F,U){N=!1,b&&(b=!1,C($),$=-1),S=!0;var re=v;try{for(P(U),w=a(x);w!==null&&(!(w.expirationTime>U)||F&&!ne());){var M=w.callback;if(typeof M=="function"){w.callback=null,v=w.priorityLevel;var H=M(w.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?w.callback=H:w===a(x)&&o(x),P(U)}else o(x);w=a(x)}if(w!==null)var fe=!0;else{var be=a(p);be!==null&&xe(A,be.startTime-U),fe=!1}return fe}finally{w=null,v=re,S=!1}}var L=!1,D=null,$=-1,X=5,V=-1;function ne(){return!(t.unstable_now()-V<X)}function Z(){if(D!==null){var F=t.unstable_now();V=F;var U=!0;try{U=D(!0,F)}finally{U?he():(L=!1,D=null)}}else L=!1}var he;if(typeof k=="function")he=function(){k(Z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=Z,he=function(){Q.postMessage(null)}}else he=function(){j(Z,0)};function te(F){D=F,L||(L=!0,he())}function xe(F,U){$=j(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){N||S||(N=!0,te(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return a(x)},t.unstable_next=function(F){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var re=v;v=U;try{return F()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=v;v=F;try{return U()}finally{v=re}},t.unstable_scheduleCallback=function(F,U,re){var M=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?M+re:M):re=M,F){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,F={id:y++,callback:U,priorityLevel:F,startTime:re,expirationTime:H,sortIndex:-1},re>M?(F.sortIndex=re,n(p,F),a(x)===null&&F===a(p)&&(b?(C($),$=-1):b=!0,xe(A,re-M))):(F.sortIndex=H,n(x,F),N||S||(N=!0,te(T))),F},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(F){var U=v;return function(){var re=v;v=U;try{return F.apply(this,arguments)}finally{v=re}}}}(Bf)),Bf}var Lg;function vS(){return Lg||(Lg=1,$f.exports=gS()),$f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function yS(){if(Og)return yr;Og=1;var t=rh(),n=vS();function a(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(r,s){m(r,s),m(r+"Capture",s)}function m(r,s){for(l[r]=s,r=0;r<s.length;r++)o.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function v(r){return x.call(w,r)?!0:x.call(y,r)?!1:p.test(r)?w[r]=!0:(y[r]=!0,!1)}function S(r,s,i,u){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,s,i,u){if(s===null||typeof s>"u"||S(r,s,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,i,u,h,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(C,k);j[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(C,k);j[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(C,k);j[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function P(r,s,i,u){var h=j.hasOwnProperty(s)?j[s]:null;(h!==null?h.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,i,h,u)&&(i=null),u||h===null?v(s)&&(i===null?r.removeAttribute(s):r.setAttribute(s,""+i)):h.mustUseProperty?r[h.propertyName]=i===null?h.type===3?!1:"":i:(s=h.attributeName,u=h.attributeNamespace,i===null?r.removeAttribute(s):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?r.setAttributeNS(u,s,i):r.setAttribute(s,i))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),ne=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),F=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var re=Object.assign,M;function H(r){if(M===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var fe=!1;function be(r,s){if(!r||fe)return"";fe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var u=K}Reflect.construct(r,[],s)}else{try{s.call()}catch(K){u=K}r.call(s.prototype)}else{try{throw Error()}catch(K){u=K}r()}}catch(K){if(K&&u&&typeof K.stack=="string"){for(var h=K.stack.split(`
`),g=u.stack.split(`
`),E=h.length-1,I=g.length-1;1<=E&&0<=I&&h[E]!==g[I];)I--;for(;1<=E&&0<=I;E--,I--)if(h[E]!==g[I]){if(E!==1||I!==1)do if(E--,I--,0>I||h[E]!==g[I]){var O=`
`+h[E].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=E&&0<=I);break}}}finally{fe=!1,Error.prepareStackTrace=i}return(r=r?r.displayName||r.name:"")?H(r):""}function ke(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case L:return"Portal";case X:return"Profiler";case $:return"StrictMode";case he:return"Suspense";case q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ne:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case Z:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Q:return s=r.displayName||null,s!==null?s:ve(r.type)||"Memo";case te:s=r._payload,r=r._init;try{return ve(r(s))}catch{}}return null}function me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ee(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Oe(r){var s=Ee(r)?"checked":"value",i=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,g=i.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qe(r){r._valueTracker||(r._valueTracker=Oe(r))}function qe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var i=s.getValue(),u="";return r&&(u=Ee(r)?r.checked?"true":"false":r.value),r=u,r!==i?(s.setValue(r),!0):!1}function Y(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Fe(r,s){var i=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??r._wrapperState.initialChecked})}function He(r,s){var i=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;i=je(s.value!=null?s.value:i),r._wrapperState={initialChecked:u,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function J(r,s){s=s.checked,s!=null&&P(r,"checked",s,!1)}function Ae(r,s){J(r,s);var i=je(s.value),u=s.type;if(i!=null)u==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+i):r.value!==""+i&&(r.value=""+i);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ze(r,s.type,i):s.hasOwnProperty("defaultValue")&&ze(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Je(r,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,i||s===r.value||(r.value=s),r.defaultValue=s}i=r.name,i!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,i!==""&&(r.name=i)}function ze(r,s,i){(s!=="number"||Y(r.ownerDocument)!==r)&&(i==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+i&&(r.defaultValue=""+i))}var ct=Array.isArray;function rt(r,s,i,u){if(r=r.options,s){s={};for(var h=0;h<i.length;h++)s["$"+i[h]]=!0;for(i=0;i<r.length;i++)h=s.hasOwnProperty("$"+r[i].value),r[i].selected!==h&&(r[i].selected=h),h&&u&&(r[i].defaultSelected=!0)}else{for(i=""+je(i),s=null,h=0;h<r.length;h++){if(r[h].value===i){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function gt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(a(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Tt(r,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(a(92));if(ct(i)){if(1<i.length)throw Error(a(93));i=i[0]}s=i}s==null&&(s=""),i=s}r._wrapperState={initialValue:je(i)}}function Wr(r,s){var i=je(s.value),u=je(s.defaultValue);i!=null&&(i=""+i,i!==r.value&&(r.value=i),s.defaultValue==null&&r.defaultValue!==i&&(r.defaultValue=i)),u!=null&&(r.defaultValue=""+u)}function kn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function fr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?fr(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ie,Ke=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,u,h){MSApp.execUnsafeLocalFunction(function(){return r(s,i,u,h)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ie=Ie||document.createElement("div"),Ie.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ie.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function vt(r,s){if(s){var i=r.firstChild;if(i&&i===r.lastChild&&i.nodeType===3){i.nodeValue=s;return}}r.textContent=s}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qn=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(r){Qn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),En[s]=En[r]})});function dn(r,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||En.hasOwnProperty(r)&&En[r]?(""+s).trim():s+"px"}function Pn(r,s){r=r.style;for(var i in s)if(s.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=dn(i,s[i],u);i==="float"&&(i="cssFloat"),u?r.setProperty(i,h):r[i]=h}}var Ot=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(r,s){if(s){if(Ot[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(a(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(a(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(a(61))}if(s.style!=null&&typeof s.style!="object")throw Error(a(62))}}function Xn(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ge=null;function dt(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ot=null,$t=null,Dt=null;function un(r){if(r=bi(r)){if(typeof ot!="function")throw Error(a(280));var s=r.stateNode;s&&(s=zl(s),ot(r.stateNode,r.type,s))}}function Da(r){$t?Dt?Dt.push(r):Dt=[r]:$t=r}function Ma(){if($t){var r=$t,s=Dt;if(Dt=$t=null,un(r),s)for(r=0;r<s.length;r++)un(s[r])}}function Jn(r,s){return r(s)}function Ia(){}var La=!1;function Zn(r,s,i){if(La)return r(s,i);La=!0;try{return Jn(r,s,i)}finally{La=!1,($t!==null||Dt!==null)&&(Ia(),Ma())}}function Gs(r,s){var i=r.stateNode;if(i===null)return null;var u=zl(i);if(u===null)return null;i=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var Oa=!1;if(f)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Oa=!1}function Kr(r,s,i,u,h,g,E,I,O){var K=Array.prototype.slice.call(arguments,3);try{s.apply(i,K)}catch(ie){this.onError(ie)}}var Rn=!1,Ks=null,es=!1,ti=null,Yd={onError:function(r){Rn=!0,Ks=r}};function qd(r,s,i,u,h,g,E,I,O){Rn=!1,Ks=null,Kr.apply(Yd,arguments)}function wl(r,s,i,u,h,g,E,I,O){if(qd.apply(this,arguments),Rn){if(Rn){var K=Ks;Rn=!1,Ks=null}else throw Error(a(198));es||(es=!0,ti=K)}}function Yr(r){var s=r,i=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(i=s.return),r=s.return;while(r)}return s.tag===3?i:null}function bl(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ri(r){if(Yr(r)!==r)throw Error(a(188))}function ni(r){var s=r.alternate;if(!s){if(s=Yr(r),s===null)throw Error(a(188));return s!==r?null:r}for(var i=r,u=s;;){var h=i.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===i)return ri(h),r;if(g===u)return ri(h),s;g=g.sibling}throw Error(a(188))}if(i.return!==u.return)i=h,u=g;else{for(var E=!1,I=h.child;I;){if(I===i){E=!0,i=h,u=g;break}if(I===u){E=!0,u=h,i=g;break}I=I.sibling}if(!E){for(I=g.child;I;){if(I===i){E=!0,i=g,u=h;break}if(I===u){E=!0,u=g,i=h;break}I=I.sibling}if(!E)throw Error(a(189))}}if(i.alternate!==u)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?r:s}function Ys(r){return r=ni(r),r!==null?_a(r):null}function _a(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=_a(r);if(s!==null)return s;r=r.sibling}return null}var Fa=n.unstable_scheduleCallback,qs=n.unstable_cancelCallback,Qd=n.unstable_shouldYield,Xd=n.unstable_requestPaint,Pt=n.unstable_now,Jd=n.unstable_getCurrentPriorityLevel,si=n.unstable_ImmediatePriority,jl=n.unstable_UserBlockingPriority,$a=n.unstable_NormalPriority,Qs=n.unstable_LowPriority,Nl=n.unstable_IdlePriority,Ba=null,Mr=null;function Zd(r){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Ba,r,void 0,(r.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Cl,eu=Math.log,Sl=Math.LN2;function Cl(r){return r>>>=0,r===0?32:31-(eu(r)/Sl|0)|0}var R=64,ee=4194304;function se(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Re(r,s){var i=r.pendingLanes;if(i===0)return 0;var u=0,h=r.suspendedLanes,g=r.pingedLanes,E=i&268435455;if(E!==0){var I=E&~h;I!==0?u=se(I):(g&=E,g!==0&&(u=se(g)))}else E=i&~h,E!==0?u=se(E):g!==0&&(u=se(g));if(u===0)return 0;if(s!==0&&s!==u&&(s&h)===0&&(h=u&-u,g=s&-s,h>=g||h===16&&(g&4194240)!==0))return s;if((u&4)!==0&&(u|=i&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=u;0<s;)i=31-Nr(s),h=1<<i,u|=r[i],s&=~h;return u}function Ce(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(r,s){for(var i=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Nr(g),I=1<<E,O=h[E];O===-1?((I&i)===0||(I&u)!==0)&&(h[E]=Ce(I,s)):O<=s&&(r.expiredLanes|=I),g&=~I}}function nt(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zt(){var r=R;return R<<=1,(R&4194240)===0&&(R=64),r}function fn(r){for(var s=[],i=0;31>i;i++)s.push(r);return s}function qr(r,s,i){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Nr(s),r[s]=i}function A1(r,s){var i=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<i;){var h=31-Nr(i),g=1<<h;s[h]=0,u[h]=-1,r[h]=-1,i&=~g}}function tu(r,s){var i=r.entangledLanes|=s;for(r=r.entanglements;i;){var u=31-Nr(i),h=1<<u;h&s|r[u]&s&&(r[u]|=s),i&=~h}}var pt=0;function op(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ip,ru,lp,cp,dp,nu=!1,kl=[],ts=null,rs=null,ns=null,ai=new Map,oi=new Map,ss=[],T1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function up(r,s){switch(r){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":ai.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(s.pointerId)}}function ii(r,s,i,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:i,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=bi(s),s!==null&&ru(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function D1(r,s,i,u,h){switch(s){case"focusin":return ts=ii(ts,r,s,i,u,h),!0;case"dragenter":return rs=ii(rs,r,s,i,u,h),!0;case"mouseover":return ns=ii(ns,r,s,i,u,h),!0;case"pointerover":var g=h.pointerId;return ai.set(g,ii(ai.get(g)||null,r,s,i,u,h)),!0;case"gotpointercapture":return g=h.pointerId,oi.set(g,ii(oi.get(g)||null,r,s,i,u,h)),!0}return!1}function fp(r){var s=Xs(r.target);if(s!==null){var i=Yr(s);if(i!==null){if(s=i.tag,s===13){if(s=bl(i),s!==null){r.blockedOn=s,dp(r.priority,function(){lp(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){r.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}r.blockedOn=null}function El(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var i=au(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(i===null){i=r.nativeEvent;var u=new i.constructor(i.type,i);Ge=u,i.target.dispatchEvent(u),Ge=null}else return s=bi(i),s!==null&&ru(s),r.blockedOn=i,!1;s.shift()}return!0}function mp(r,s,i){El(r)&&i.delete(s)}function M1(){nu=!1,ts!==null&&El(ts)&&(ts=null),rs!==null&&El(rs)&&(rs=null),ns!==null&&El(ns)&&(ns=null),ai.forEach(mp),oi.forEach(mp)}function li(r,s){r.blockedOn===s&&(r.blockedOn=null,nu||(nu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,M1)))}function ci(r){function s(h){return li(h,r)}if(0<kl.length){li(kl[0],r);for(var i=1;i<kl.length;i++){var u=kl[i];u.blockedOn===r&&(u.blockedOn=null)}}for(ts!==null&&li(ts,r),rs!==null&&li(rs,r),ns!==null&&li(ns,r),ai.forEach(s),oi.forEach(s),i=0;i<ss.length;i++)u=ss[i],u.blockedOn===r&&(u.blockedOn=null);for(;0<ss.length&&(i=ss[0],i.blockedOn===null);)fp(i),i.blockedOn===null&&ss.shift()}var za=A.ReactCurrentBatchConfig,Pl=!0;function I1(r,s,i,u){var h=pt,g=za.transition;za.transition=null;try{pt=1,su(r,s,i,u)}finally{pt=h,za.transition=g}}function L1(r,s,i,u){var h=pt,g=za.transition;za.transition=null;try{pt=4,su(r,s,i,u)}finally{pt=h,za.transition=g}}function su(r,s,i,u){if(Pl){var h=au(r,s,i,u);if(h===null)ju(r,s,u,Rl,i),up(r,u);else if(D1(h,r,s,i,u))u.stopPropagation();else if(up(r,u),s&4&&-1<T1.indexOf(r)){for(;h!==null;){var g=bi(h);if(g!==null&&ip(g),g=au(r,s,i,u),g===null&&ju(r,s,u,Rl,i),g===h)break;h=g}h!==null&&u.stopPropagation()}else ju(r,s,u,null,i)}}var Rl=null;function au(r,s,i,u){if(Rl=null,r=dt(u),r=Xs(r),r!==null)if(s=Yr(r),s===null)r=null;else if(i=s.tag,i===13){if(r=bl(s),r!==null)return r;r=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Rl=r,null}function hp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jd()){case si:return 1;case jl:return 4;case $a:case Qs:return 16;case Nl:return 536870912;default:return 16}default:return 16}}var as=null,ou=null,Al=null;function pp(){if(Al)return Al;var r,s=ou,i=s.length,u,h="value"in as?as.value:as.textContent,g=h.length;for(r=0;r<i&&s[r]===h[r];r++);var E=i-r;for(u=1;u<=E&&s[i-u]===h[g-u];u++);return Al=h.slice(r,1<u?1-u:void 0)}function Tl(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Dl(){return!0}function xp(){return!1}function Sr(r){function s(i,u,h,g,E){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(i=r[I],this[I]=i?i(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Dl:xp,this.isPropagationStopped=xp,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),s}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=Sr(Ua),di=re({},Ua,{view:0,detail:0}),O1=Sr(di),lu,cu,ui,Ml=re({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ui&&(ui&&r.type==="mousemove"?(lu=r.screenX-ui.screenX,cu=r.screenY-ui.screenY):cu=lu=0,ui=r),lu)},movementY:function(r){return"movementY"in r?r.movementY:cu}}),gp=Sr(Ml),_1=re({},Ml,{dataTransfer:0}),F1=Sr(_1),$1=re({},di,{relatedTarget:0}),du=Sr($1),B1=re({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),z1=Sr(B1),U1=re({},Ua,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),V1=Sr(U1),H1=re({},Ua,{data:0}),vp=Sr(H1),W1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y1(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=K1[r])?!!s[r]:!1}function uu(){return Y1}var q1=re({},di,{key:function(r){if(r.key){var s=W1[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Tl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?G1[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(r){return r.type==="keypress"?Tl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Tl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Q1=Sr(q1),X1=re({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=Sr(X1),J1=re({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),Z1=Sr(J1),e2=re({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),t2=Sr(e2),r2=re({},Ml,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),n2=Sr(r2),s2=[9,13,27,32],fu=f&&"CompositionEvent"in window,fi=null;f&&"documentMode"in document&&(fi=document.documentMode);var a2=f&&"TextEvent"in window&&!fi,wp=f&&(!fu||fi&&8<fi&&11>=fi),bp=" ",jp=!1;function Np(r,s){switch(r){case"keyup":return s2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Va=!1;function o2(r,s){switch(r){case"compositionend":return Sp(s);case"keypress":return s.which!==32?null:(jp=!0,bp);case"textInput":return r=s.data,r===bp&&jp?null:r;default:return null}}function i2(r,s){if(Va)return r==="compositionend"||!fu&&Np(r,s)?(r=pp(),Al=ou=as=null,Va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wp&&s.locale!=="ko"?null:s.data;default:return null}}var l2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!l2[r.type]:s==="textarea"}function kp(r,s,i,u){Da(u),s=Fl(s,"onChange"),0<s.length&&(i=new iu("onChange","change",null,i,u),r.push({event:i,listeners:s}))}var mi=null,hi=null;function c2(r){Hp(r,0)}function Il(r){var s=Ya(r);if(qe(s))return r}function d2(r,s){if(r==="change")return s}var Ep=!1;if(f){var mu;if(f){var hu="oninput"in document;if(!hu){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),hu=typeof Pp.oninput=="function"}mu=hu}else mu=!1;Ep=mu&&(!document.documentMode||9<document.documentMode)}function Rp(){mi&&(mi.detachEvent("onpropertychange",Ap),hi=mi=null)}function Ap(r){if(r.propertyName==="value"&&Il(hi)){var s=[];kp(s,hi,r,dt(r)),Zn(c2,s)}}function u2(r,s,i){r==="focusin"?(Rp(),mi=s,hi=i,mi.attachEvent("onpropertychange",Ap)):r==="focusout"&&Rp()}function f2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Il(hi)}function m2(r,s){if(r==="click")return Il(s)}function h2(r,s){if(r==="input"||r==="change")return Il(s)}function p2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Qr=typeof Object.is=="function"?Object.is:p2;function pi(r,s){if(Qr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var i=Object.keys(r),u=Object.keys(s);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!x.call(s,h)||!Qr(r[h],s[h]))return!1}return!0}function Tp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dp(r,s){var i=Tp(r);r=0;for(var u;i;){if(i.nodeType===3){if(u=r+i.textContent.length,r<=s&&u>=s)return{node:i,offset:s-r};r=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Tp(i)}}function Mp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Mp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ip(){for(var r=window,s=Y();s instanceof r.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)r=s.contentWindow;else break;s=Y(r.document)}return s}function pu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function x2(r){var s=Ip(),i=r.focusedElem,u=r.selectionRange;if(s!==i&&i&&i.ownerDocument&&Mp(i.ownerDocument.documentElement,i)){if(u!==null&&pu(i)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(r,i.value.length);else if(r=(s=i.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=i.textContent.length,g=Math.min(u.start,h);u=u.end===void 0?g:Math.min(u.end,h),!r.extend&&g>u&&(h=u,u=g,g=h),h=Dp(i,g);var E=Dp(i,u);h&&E&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),g>u?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=i;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)r=s[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var g2=f&&"documentMode"in document&&11>=document.documentMode,Ha=null,xu=null,xi=null,gu=!1;function Lp(r,s,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;gu||Ha==null||Ha!==Y(u)||(u=Ha,"selectionStart"in u&&pu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xi&&pi(xi,u)||(xi=u,u=Fl(xu,"onSelect"),0<u.length&&(s=new iu("onSelect","select",null,s,i),r.push({event:s,listeners:u}),s.target=Ha)))}function Ll(r,s){var i={};return i[r.toLowerCase()]=s.toLowerCase(),i["Webkit"+r]="webkit"+s,i["Moz"+r]="moz"+s,i}var Wa={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},vu={},Op={};f&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Ol(r){if(vu[r])return vu[r];if(!Wa[r])return r;var s=Wa[r],i;for(i in s)if(s.hasOwnProperty(i)&&i in Op)return vu[r]=s[i];return r}var _p=Ol("animationend"),Fp=Ol("animationiteration"),$p=Ol("animationstart"),Bp=Ol("transitionend"),zp=new Map,Up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(r,s){zp.set(r,s),c(s,[r])}for(var yu=0;yu<Up.length;yu++){var wu=Up[yu],v2=wu.toLowerCase(),y2=wu[0].toUpperCase()+wu.slice(1);os(v2,"on"+y2)}os(_p,"onAnimationEnd"),os(Fp,"onAnimationIteration"),os($p,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(Bp,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w2=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function Vp(r,s,i){var u=r.type||"unknown-event";r.currentTarget=i,wl(u,s,void 0,r),r.currentTarget=null}function Hp(r,s){s=(s&4)!==0;for(var i=0;i<r.length;i++){var u=r[i],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var I=u[E],O=I.instance,K=I.currentTarget;if(I=I.listener,O!==g&&h.isPropagationStopped())break e;Vp(h,I,K),g=O}else for(E=0;E<u.length;E++){if(I=u[E],O=I.instance,K=I.currentTarget,I=I.listener,O!==g&&h.isPropagationStopped())break e;Vp(h,I,K),g=O}}}if(es)throw r=ti,es=!1,ti=null,r}function Nt(r,s){var i=s[Pu];i===void 0&&(i=s[Pu]=new Set);var u=r+"__bubble";i.has(u)||(Wp(s,r,2,!1),i.add(u))}function bu(r,s,i){var u=0;s&&(u|=4),Wp(i,r,u,s)}var _l="_reactListening"+Math.random().toString(36).slice(2);function vi(r){if(!r[_l]){r[_l]=!0,o.forEach(function(i){i!=="selectionchange"&&(w2.has(i)||bu(i,!1,r),bu(i,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_l]||(s[_l]=!0,bu("selectionchange",!1,s))}}function Wp(r,s,i,u){switch(hp(s)){case 1:var h=I1;break;case 4:h=L1;break;default:h=su}i=h.bind(null,s,i,r),h=void 0,!Oa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,i,{capture:!0,passive:h}):r.addEventListener(s,i,!0):h!==void 0?r.addEventListener(s,i,{passive:h}):r.addEventListener(s,i,!1)}function ju(r,s,i,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var I=u.stateNode.containerInfo;if(I===h||I.nodeType===8&&I.parentNode===h)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===h||O.nodeType===8&&O.parentNode===h))return;E=E.return}for(;I!==null;){if(E=Xs(I),E===null)return;if(O=E.tag,O===5||O===6){u=g=E;continue e}I=I.parentNode}}u=u.return}Zn(function(){var K=g,ie=dt(i),ce=[];e:{var oe=zp.get(r);if(oe!==void 0){var Pe=iu,De=r;switch(r){case"keypress":if(Tl(i)===0)break e;case"keydown":case"keyup":Pe=Q1;break;case"focusin":De="focus",Pe=du;break;case"focusout":De="blur",Pe=du;break;case"beforeblur":case"afterblur":Pe=du;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=F1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=Z1;break;case _p:case Fp:case $p:Pe=z1;break;case Bp:Pe=t2;break;case"scroll":Pe=O1;break;case"wheel":Pe=n2;break;case"copy":case"cut":case"paste":Pe=V1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=yp}var Le=(s&4)!==0,_t=!Le&&r==="scroll",z=Le?oe!==null?oe+"Capture":null:oe;Le=[];for(var _=K,G;_!==null;){G=_;var pe=G.stateNode;if(G.tag===5&&pe!==null&&(G=pe,z!==null&&(pe=Gs(_,z),pe!=null&&Le.push(yi(_,pe,G)))),_t)break;_=_.return}0<Le.length&&(oe=new Pe(oe,De,null,i,ie),ce.push({event:oe,listeners:Le}))}}if((s&7)===0){e:{if(oe=r==="mouseover"||r==="pointerover",Pe=r==="mouseout"||r==="pointerout",oe&&i!==Ge&&(De=i.relatedTarget||i.fromElement)&&(Xs(De)||De[An]))break e;if((Pe||oe)&&(oe=ie.window===ie?ie:(oe=ie.ownerDocument)?oe.defaultView||oe.parentWindow:window,Pe?(De=i.relatedTarget||i.toElement,Pe=K,De=De?Xs(De):null,De!==null&&(_t=Yr(De),De!==_t||De.tag!==5&&De.tag!==6)&&(De=null)):(Pe=null,De=K),Pe!==De)){if(Le=gp,pe="onMouseLeave",z="onMouseEnter",_="mouse",(r==="pointerout"||r==="pointerover")&&(Le=yp,pe="onPointerLeave",z="onPointerEnter",_="pointer"),_t=Pe==null?oe:Ya(Pe),G=De==null?oe:Ya(De),oe=new Le(pe,_+"leave",Pe,i,ie),oe.target=_t,oe.relatedTarget=G,pe=null,Xs(ie)===K&&(Le=new Le(z,_+"enter",De,i,ie),Le.target=G,Le.relatedTarget=_t,pe=Le),_t=pe,Pe&&De)t:{for(Le=Pe,z=De,_=0,G=Le;G;G=Ga(G))_++;for(G=0,pe=z;pe;pe=Ga(pe))G++;for(;0<_-G;)Le=Ga(Le),_--;for(;0<G-_;)z=Ga(z),G--;for(;_--;){if(Le===z||z!==null&&Le===z.alternate)break t;Le=Ga(Le),z=Ga(z)}Le=null}else Le=null;Pe!==null&&Gp(ce,oe,Pe,Le,!1),De!==null&&_t!==null&&Gp(ce,_t,De,Le,!0)}}e:{if(oe=K?Ya(K):window,Pe=oe.nodeName&&oe.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&oe.type==="file")var _e=d2;else if(Cp(oe))if(Ep)_e=h2;else{_e=f2;var Ue=u2}else(Pe=oe.nodeName)&&Pe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(_e=m2);if(_e&&(_e=_e(r,K))){kp(ce,_e,i,ie);break e}Ue&&Ue(r,oe,K),r==="focusout"&&(Ue=oe._wrapperState)&&Ue.controlled&&oe.type==="number"&&ze(oe,"number",oe.value)}switch(Ue=K?Ya(K):window,r){case"focusin":(Cp(Ue)||Ue.contentEditable==="true")&&(Ha=Ue,xu=K,xi=null);break;case"focusout":xi=xu=Ha=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Lp(ce,i,ie);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":Lp(ce,i,ie)}var Ve;if(fu)e:{switch(r){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Va?Np(r,i)&&(Ye="onCompositionEnd"):r==="keydown"&&i.keyCode===229&&(Ye="onCompositionStart");Ye&&(wp&&i.locale!=="ko"&&(Va||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Va&&(Ve=pp()):(as=ie,ou="value"in as?as.value:as.textContent,Va=!0)),Ue=Fl(K,Ye),0<Ue.length&&(Ye=new vp(Ye,r,null,i,ie),ce.push({event:Ye,listeners:Ue}),Ve?Ye.data=Ve:(Ve=Sp(i),Ve!==null&&(Ye.data=Ve)))),(Ve=a2?o2(r,i):i2(r,i))&&(K=Fl(K,"onBeforeInput"),0<K.length&&(ie=new vp("onBeforeInput","beforeinput",null,i,ie),ce.push({event:ie,listeners:K}),ie.data=Ve))}Hp(ce,s)})}function yi(r,s,i){return{instance:r,listener:s,currentTarget:i}}function Fl(r,s){for(var i=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=Gs(r,i),g!=null&&u.unshift(yi(r,g,h)),g=Gs(r,s),g!=null&&u.push(yi(r,g,h))),r=r.return}return u}function Ga(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Gp(r,s,i,u,h){for(var g=s._reactName,E=[];i!==null&&i!==u;){var I=i,O=I.alternate,K=I.stateNode;if(O!==null&&O===u)break;I.tag===5&&K!==null&&(I=K,h?(O=Gs(i,g),O!=null&&E.unshift(yi(i,O,I))):h||(O=Gs(i,g),O!=null&&E.push(yi(i,O,I)))),i=i.return}E.length!==0&&r.push({event:s,listeners:E})}var b2=/\r\n?/g,j2=/\u0000|\uFFFD/g;function Kp(r){return(typeof r=="string"?r:""+r).replace(b2,`
`).replace(j2,"")}function $l(r,s,i){if(s=Kp(s),Kp(r)!==s&&i)throw Error(a(425))}function Bl(){}var Nu=null,Su=null;function Cu(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,N2=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(r){return Yp.resolve(null).then(r).catch(C2)}:ku;function C2(r){setTimeout(function(){throw r})}function Eu(r,s){var i=s,u=0;do{var h=i.nextSibling;if(r.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){r.removeChild(h),ci(s);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);ci(s)}function is(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function qp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return r;s--}else i==="/$"&&s++}r=r.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ka,wi="__reactProps$"+Ka,An="__reactContainer$"+Ka,Pu="__reactEvents$"+Ka,k2="__reactListeners$"+Ka,E2="__reactHandles$"+Ka;function Xs(r){var s=r[mn];if(s)return s;for(var i=r.parentNode;i;){if(s=i[An]||i[mn]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(r=qp(r);r!==null;){if(i=r[mn])return i;r=qp(r)}return s}r=i,i=r.parentNode}return null}function bi(r){return r=r[mn]||r[An],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ya(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(a(33))}function zl(r){return r[wi]||null}var Ru=[],qa=-1;function ls(r){return{current:r}}function St(r){0>qa||(r.current=Ru[qa],Ru[qa]=null,qa--)}function bt(r,s){qa++,Ru[qa]=r.current,r.current=s}var cs={},Jt=ls(cs),hr=ls(!1),Js=cs;function Qa(r,s){var i=r.type.contextTypes;if(!i)return cs;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in i)h[g]=s[g];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function pr(r){return r=r.childContextTypes,r!=null}function Ul(){St(hr),St(Jt)}function Qp(r,s,i){if(Jt.current!==cs)throw Error(a(168));bt(Jt,s),bt(hr,i)}function Xp(r,s,i){var u=r.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in s))throw Error(a(108,me(r)||"Unknown",h));return re({},i,u)}function Vl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||cs,Js=Jt.current,bt(Jt,r),bt(hr,hr.current),!0}function Jp(r,s,i){var u=r.stateNode;if(!u)throw Error(a(169));i?(r=Xp(r,s,Js),u.__reactInternalMemoizedMergedChildContext=r,St(hr),St(Jt),bt(Jt,r)):St(hr),bt(hr,i)}var Tn=null,Hl=!1,Au=!1;function Zp(r){Tn===null?Tn=[r]:Tn.push(r)}function P2(r){Hl=!0,Zp(r)}function ds(){if(!Au&&Tn!==null){Au=!0;var r=0,s=pt;try{var i=Tn;for(pt=1;r<i.length;r++){var u=i[r];do u=u(!0);while(u!==null)}Tn=null,Hl=!1}catch(h){throw Tn!==null&&(Tn=Tn.slice(r+1)),Fa(si,ds),h}finally{pt=s,Au=!1}}return null}var Xa=[],Ja=0,Wl=null,Gl=0,Ir=[],Lr=0,Zs=null,Dn=1,Mn="";function ea(r,s){Xa[Ja++]=Gl,Xa[Ja++]=Wl,Wl=r,Gl=s}function ex(r,s,i){Ir[Lr++]=Dn,Ir[Lr++]=Mn,Ir[Lr++]=Zs,Zs=r;var u=Dn;r=Mn;var h=32-Nr(u)-1;u&=~(1<<h),i+=1;var g=32-Nr(s)+h;if(30<g){var E=h-h%5;g=(u&(1<<E)-1).toString(32),u>>=E,h-=E,Dn=1<<32-Nr(s)+h|i<<h|u,Mn=g+r}else Dn=1<<g|i<<h|u,Mn=r}function Tu(r){r.return!==null&&(ea(r,1),ex(r,1,0))}function Du(r){for(;r===Wl;)Wl=Xa[--Ja],Xa[Ja]=null,Gl=Xa[--Ja],Xa[Ja]=null;for(;r===Zs;)Zs=Ir[--Lr],Ir[Lr]=null,Mn=Ir[--Lr],Ir[Lr]=null,Dn=Ir[--Lr],Ir[Lr]=null}var Cr=null,kr=null,Et=!1,Xr=null;function tx(r,s){var i=$r(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=r,s=r.deletions,s===null?(r.deletions=[i],r.flags|=16):s.push(i)}function rx(r,s){switch(r.tag){case 5:var i=r.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Cr=r,kr=is(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Cr=r,kr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=Zs!==null?{id:Dn,overflow:Mn}:null,r.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=$r(18,null,null,0),i.stateNode=s,i.return=r,r.child=i,Cr=r,kr=null,!0):!1;default:return!1}}function Mu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Iu(r){if(Et){var s=kr;if(s){var i=s;if(!rx(r,s)){if(Mu(r))throw Error(a(418));s=is(i.nextSibling);var u=Cr;s&&rx(r,s)?tx(u,i):(r.flags=r.flags&-4097|2,Et=!1,Cr=r)}}else{if(Mu(r))throw Error(a(418));r.flags=r.flags&-4097|2,Et=!1,Cr=r}}}function nx(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Cr=r}function Kl(r){if(r!==Cr)return!1;if(!Et)return nx(r),Et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Cu(r.type,r.memoizedProps)),s&&(s=kr)){if(Mu(r))throw sx(),Error(a(418));for(;s;)tx(r,s),s=is(s.nextSibling)}if(nx(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="/$"){if(s===0){kr=is(r.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}r=r.nextSibling}kr=null}}else kr=Cr?is(r.stateNode.nextSibling):null;return!0}function sx(){for(var r=kr;r;)r=is(r.nextSibling)}function Za(){kr=Cr=null,Et=!1}function Lu(r){Xr===null?Xr=[r]:Xr.push(r)}var R2=A.ReactCurrentBatchConfig;function ji(r,s,i){if(r=i.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var u=i.stateNode}if(!u)throw Error(a(147,r));var h=u,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var I=h.refs;E===null?delete I[g]:I[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,r))}return r}function Yl(r,s){throw r=Object.prototype.toString.call(s),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ax(r){var s=r._init;return s(r._payload)}function ox(r){function s(z,_){if(r){var G=z.deletions;G===null?(z.deletions=[_],z.flags|=16):G.push(_)}}function i(z,_){if(!r)return null;for(;_!==null;)s(z,_),_=_.sibling;return null}function u(z,_){for(z=new Map;_!==null;)_.key!==null?z.set(_.key,_):z.set(_.index,_),_=_.sibling;return z}function h(z,_){return z=vs(z,_),z.index=0,z.sibling=null,z}function g(z,_,G){return z.index=G,r?(G=z.alternate,G!==null?(G=G.index,G<_?(z.flags|=2,_):G):(z.flags|=2,_)):(z.flags|=1048576,_)}function E(z){return r&&z.alternate===null&&(z.flags|=2),z}function I(z,_,G,pe){return _===null||_.tag!==6?(_=Ef(G,z.mode,pe),_.return=z,_):(_=h(_,G),_.return=z,_)}function O(z,_,G,pe){var _e=G.type;return _e===D?ie(z,_,G.props.children,pe,G.key):_!==null&&(_.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===te&&ax(_e)===_.type)?(pe=h(_,G.props),pe.ref=ji(z,_,G),pe.return=z,pe):(pe=vc(G.type,G.key,G.props,null,z.mode,pe),pe.ref=ji(z,_,G),pe.return=z,pe)}function K(z,_,G,pe){return _===null||_.tag!==4||_.stateNode.containerInfo!==G.containerInfo||_.stateNode.implementation!==G.implementation?(_=Pf(G,z.mode,pe),_.return=z,_):(_=h(_,G.children||[]),_.return=z,_)}function ie(z,_,G,pe,_e){return _===null||_.tag!==7?(_=la(G,z.mode,pe,_e),_.return=z,_):(_=h(_,G),_.return=z,_)}function ce(z,_,G){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ef(""+_,z.mode,G),_.return=z,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case T:return G=vc(_.type,_.key,_.props,null,z.mode,G),G.ref=ji(z,null,_),G.return=z,G;case L:return _=Pf(_,z.mode,G),_.return=z,_;case te:var pe=_._init;return ce(z,pe(_._payload),G)}if(ct(_)||U(_))return _=la(_,z.mode,G,null),_.return=z,_;Yl(z,_)}return null}function oe(z,_,G,pe){var _e=_!==null?_.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return _e!==null?null:I(z,_,""+G,pe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===_e?O(z,_,G,pe):null;case L:return G.key===_e?K(z,_,G,pe):null;case te:return _e=G._init,oe(z,_,_e(G._payload),pe)}if(ct(G)||U(G))return _e!==null?null:ie(z,_,G,pe,null);Yl(z,G)}return null}function Pe(z,_,G,pe,_e){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return z=z.get(G)||null,I(_,z,""+pe,_e);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case T:return z=z.get(pe.key===null?G:pe.key)||null,O(_,z,pe,_e);case L:return z=z.get(pe.key===null?G:pe.key)||null,K(_,z,pe,_e);case te:var Ue=pe._init;return Pe(z,_,G,Ue(pe._payload),_e)}if(ct(pe)||U(pe))return z=z.get(G)||null,ie(_,z,pe,_e,null);Yl(_,pe)}return null}function De(z,_,G,pe){for(var _e=null,Ue=null,Ve=_,Ye=_=0,Gt=null;Ve!==null&&Ye<G.length;Ye++){Ve.index>Ye?(Gt=Ve,Ve=null):Gt=Ve.sibling;var ut=oe(z,Ve,G[Ye],pe);if(ut===null){Ve===null&&(Ve=Gt);break}r&&Ve&&ut.alternate===null&&s(z,Ve),_=g(ut,_,Ye),Ue===null?_e=ut:Ue.sibling=ut,Ue=ut,Ve=Gt}if(Ye===G.length)return i(z,Ve),Et&&ea(z,Ye),_e;if(Ve===null){for(;Ye<G.length;Ye++)Ve=ce(z,G[Ye],pe),Ve!==null&&(_=g(Ve,_,Ye),Ue===null?_e=Ve:Ue.sibling=Ve,Ue=Ve);return Et&&ea(z,Ye),_e}for(Ve=u(z,Ve);Ye<G.length;Ye++)Gt=Pe(Ve,z,Ye,G[Ye],pe),Gt!==null&&(r&&Gt.alternate!==null&&Ve.delete(Gt.key===null?Ye:Gt.key),_=g(Gt,_,Ye),Ue===null?_e=Gt:Ue.sibling=Gt,Ue=Gt);return r&&Ve.forEach(function(ys){return s(z,ys)}),Et&&ea(z,Ye),_e}function Le(z,_,G,pe){var _e=U(G);if(typeof _e!="function")throw Error(a(150));if(G=_e.call(G),G==null)throw Error(a(151));for(var Ue=_e=null,Ve=_,Ye=_=0,Gt=null,ut=G.next();Ve!==null&&!ut.done;Ye++,ut=G.next()){Ve.index>Ye?(Gt=Ve,Ve=null):Gt=Ve.sibling;var ys=oe(z,Ve,ut.value,pe);if(ys===null){Ve===null&&(Ve=Gt);break}r&&Ve&&ys.alternate===null&&s(z,Ve),_=g(ys,_,Ye),Ue===null?_e=ys:Ue.sibling=ys,Ue=ys,Ve=Gt}if(ut.done)return i(z,Ve),Et&&ea(z,Ye),_e;if(Ve===null){for(;!ut.done;Ye++,ut=G.next())ut=ce(z,ut.value,pe),ut!==null&&(_=g(ut,_,Ye),Ue===null?_e=ut:Ue.sibling=ut,Ue=ut);return Et&&ea(z,Ye),_e}for(Ve=u(z,Ve);!ut.done;Ye++,ut=G.next())ut=Pe(Ve,z,Ye,ut.value,pe),ut!==null&&(r&&ut.alternate!==null&&Ve.delete(ut.key===null?Ye:ut.key),_=g(ut,_,Ye),Ue===null?_e=ut:Ue.sibling=ut,Ue=ut);return r&&Ve.forEach(function(lS){return s(z,lS)}),Et&&ea(z,Ye),_e}function _t(z,_,G,pe){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:e:{for(var _e=G.key,Ue=_;Ue!==null;){if(Ue.key===_e){if(_e=G.type,_e===D){if(Ue.tag===7){i(z,Ue.sibling),_=h(Ue,G.props.children),_.return=z,z=_;break e}}else if(Ue.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===te&&ax(_e)===Ue.type){i(z,Ue.sibling),_=h(Ue,G.props),_.ref=ji(z,Ue,G),_.return=z,z=_;break e}i(z,Ue);break}else s(z,Ue);Ue=Ue.sibling}G.type===D?(_=la(G.props.children,z.mode,pe,G.key),_.return=z,z=_):(pe=vc(G.type,G.key,G.props,null,z.mode,pe),pe.ref=ji(z,_,G),pe.return=z,z=pe)}return E(z);case L:e:{for(Ue=G.key;_!==null;){if(_.key===Ue)if(_.tag===4&&_.stateNode.containerInfo===G.containerInfo&&_.stateNode.implementation===G.implementation){i(z,_.sibling),_=h(_,G.children||[]),_.return=z,z=_;break e}else{i(z,_);break}else s(z,_);_=_.sibling}_=Pf(G,z.mode,pe),_.return=z,z=_}return E(z);case te:return Ue=G._init,_t(z,_,Ue(G._payload),pe)}if(ct(G))return De(z,_,G,pe);if(U(G))return Le(z,_,G,pe);Yl(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,_!==null&&_.tag===6?(i(z,_.sibling),_=h(_,G),_.return=z,z=_):(i(z,_),_=Ef(G,z.mode,pe),_.return=z,z=_),E(z)):i(z,_)}return _t}var eo=ox(!0),ix=ox(!1),ql=ls(null),Ql=null,to=null,Ou=null;function _u(){Ou=to=Ql=null}function Fu(r){var s=ql.current;St(ql),r._currentValue=s}function $u(r,s,i){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===i)break;r=r.return}}function ro(r,s){Ql=r,Ou=to=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(xr=!0),r.firstContext=null)}function Or(r){var s=r._currentValue;if(Ou!==r)if(r={context:r,memoizedValue:s,next:null},to===null){if(Ql===null)throw Error(a(308));to=r,Ql.dependencies={lanes:0,firstContext:r}}else to=to.next=r;return s}var ta=null;function Bu(r){ta===null?ta=[r]:ta.push(r)}function lx(r,s,i,u){var h=s.interleaved;return h===null?(i.next=i,Bu(s)):(i.next=h.next,h.next=i),s.interleaved=i,In(r,u)}function In(r,s){r.lanes|=s;var i=r.alternate;for(i!==null&&(i.lanes|=s),i=r,r=r.return;r!==null;)r.childLanes|=s,i=r.alternate,i!==null&&(i.childLanes|=s),i=r,r=r.return;return i.tag===3?i.stateNode:null}var us=!1;function zu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cx(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ln(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function fs(r,s,i){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(lt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,In(r,i)}return h=u.interleaved,h===null?(s.next=s,Bu(u)):(s.next=h.next,h.next=s),u.interleaved=s,In(r,i)}function Xl(r,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var u=s.lanes;u&=r.pendingLanes,i|=u,s.lanes=i,tu(r,i)}}function dx(r,s){var i=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var E={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?h=g=E:g=g.next=E,i=i.next}while(i!==null);g===null?h=g=s:g=g.next=s}else h=g=s;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,effects:u.effects},r.updateQueue=i;return}r=i.lastBaseUpdate,r===null?i.firstBaseUpdate=s:r.next=s,i.lastBaseUpdate=s}function Jl(r,s,i,u){var h=r.updateQueue;us=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var O=I,K=O.next;O.next=null,E===null?g=K:E.next=K,E=O;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,I=ie.lastBaseUpdate,I!==E&&(I===null?ie.firstBaseUpdate=K:I.next=K,ie.lastBaseUpdate=O))}if(g!==null){var ce=h.baseState;E=0,ie=K=O=null,I=g;do{var oe=I.lane,Pe=I.eventTime;if((u&oe)===oe){ie!==null&&(ie=ie.next={eventTime:Pe,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var De=r,Le=I;switch(oe=s,Pe=i,Le.tag){case 1:if(De=Le.payload,typeof De=="function"){ce=De.call(Pe,ce,oe);break e}ce=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Le.payload,oe=typeof De=="function"?De.call(Pe,ce,oe):De,oe==null)break e;ce=re({},ce,oe);break e;case 2:us=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,oe=h.effects,oe===null?h.effects=[I]:oe.push(I))}else Pe={eventTime:Pe,lane:oe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ie===null?(K=ie=Pe,O=ce):ie=ie.next=Pe,E|=oe;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,h.lastBaseUpdate=oe,h.shared.pending=null}}while(!0);if(ie===null&&(O=ce),h.baseState=O,h.firstBaseUpdate=K,h.lastBaseUpdate=ie,s=h.shared.interleaved,s!==null){h=s;do E|=h.lane,h=h.next;while(h!==s)}else g===null&&(h.shared.lanes=0);sa|=E,r.lanes=E,r.memoizedState=ce}}function ux(r,s,i){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var u=r[s],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(a(191,h));h.call(u)}}}var Ni={},hn=ls(Ni),Si=ls(Ni),Ci=ls(Ni);function ra(r){if(r===Ni)throw Error(a(174));return r}function Uu(r,s){switch(bt(Ci,s),bt(Si,r),bt(hn,Ni),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:W(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=W(s,r)}St(hn),bt(hn,s)}function no(){St(hn),St(Si),St(Ci)}function fx(r){ra(Ci.current);var s=ra(hn.current),i=W(s,r.type);s!==i&&(bt(Si,r),bt(hn,i))}function Vu(r){Si.current===r&&(St(hn),St(Si))}var Rt=ls(0);function Zl(r){for(var s=r;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hu=[];function Wu(){for(var r=0;r<Hu.length;r++)Hu[r]._workInProgressVersionPrimary=null;Hu.length=0}var ec=A.ReactCurrentDispatcher,Gu=A.ReactCurrentBatchConfig,na=0,At=null,Ut=null,Ht=null,tc=!1,ki=!1,Ei=0,A2=0;function Zt(){throw Error(a(321))}function Ku(r,s){if(s===null)return!1;for(var i=0;i<s.length&&i<r.length;i++)if(!Qr(r[i],s[i]))return!1;return!0}function Yu(r,s,i,u,h,g){if(na=g,At=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ec.current=r===null||r.memoizedState===null?I2:L2,r=i(u,h),ki){g=0;do{if(ki=!1,Ei=0,25<=g)throw Error(a(301));g+=1,Ht=Ut=null,s.updateQueue=null,ec.current=O2,r=i(u,h)}while(ki)}if(ec.current=sc,s=Ut!==null&&Ut.next!==null,na=0,Ht=Ut=At=null,tc=!1,s)throw Error(a(300));return r}function qu(){var r=Ei!==0;return Ei=0,r}function pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?At.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function _r(){if(Ut===null){var r=At.alternate;r=r!==null?r.memoizedState:null}else r=Ut.next;var s=Ht===null?At.memoizedState:Ht.next;if(s!==null)Ht=s,Ut=r;else{if(r===null)throw Error(a(310));Ut=r,r={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Ht===null?At.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function Pi(r,s){return typeof s=="function"?s(r):s}function Qu(r){var s=_r(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=r;var u=Ut,h=u.baseQueue,g=i.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}u.baseQueue=h=g,i.pending=null}if(h!==null){g=h.next,u=u.baseState;var I=E=null,O=null,K=g;do{var ie=K.lane;if((na&ie)===ie)O!==null&&(O=O.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),u=K.hasEagerState?K.eagerState:r(u,K.action);else{var ce={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};O===null?(I=O=ce,E=u):O=O.next=ce,At.lanes|=ie,sa|=ie}K=K.next}while(K!==null&&K!==g);O===null?E=u:O.next=I,Qr(u,s.memoizedState)||(xr=!0),s.memoizedState=u,s.baseState=E,s.baseQueue=O,i.lastRenderedState=u}if(r=i.interleaved,r!==null){h=r;do g=h.lane,At.lanes|=g,sa|=g,h=h.next;while(h!==r)}else h===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Xu(r){var s=_r(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=r;var u=i.dispatch,h=i.pending,g=s.memoizedState;if(h!==null){i.pending=null;var E=h=h.next;do g=r(g,E.action),E=E.next;while(E!==h);Qr(g,s.memoizedState)||(xr=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),i.lastRenderedState=g}return[g,u]}function mx(){}function hx(r,s){var i=At,u=_r(),h=s(),g=!Qr(u.memoizedState,h);if(g&&(u.memoizedState=h,xr=!0),u=u.queue,Ju(gx.bind(null,i,u,r),[r]),u.getSnapshot!==s||g||Ht!==null&&Ht.memoizedState.tag&1){if(i.flags|=2048,Ri(9,xx.bind(null,i,u,h,s),void 0,null),Wt===null)throw Error(a(349));(na&30)!==0||px(i,s,h)}return h}function px(r,s,i){r.flags|=16384,r={getSnapshot:s,value:i},s=At.updateQueue,s===null?(s={lastEffect:null,stores:null},At.updateQueue=s,s.stores=[r]):(i=s.stores,i===null?s.stores=[r]:i.push(r))}function xx(r,s,i,u){s.value=i,s.getSnapshot=u,vx(s)&&yx(r)}function gx(r,s,i){return i(function(){vx(s)&&yx(r)})}function vx(r){var s=r.getSnapshot;r=r.value;try{var i=s();return!Qr(r,i)}catch{return!0}}function yx(r){var s=In(r,1);s!==null&&tn(s,r,1,-1)}function wx(r){var s=pn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},s.queue=r,r=r.dispatch=M2.bind(null,At,r),[s.memoizedState,r]}function Ri(r,s,i,u){return r={tag:r,create:s,destroy:i,deps:u,next:null},s=At.updateQueue,s===null?(s={lastEffect:null,stores:null},At.updateQueue=s,s.lastEffect=r.next=r):(i=s.lastEffect,i===null?s.lastEffect=r.next=r:(u=i.next,i.next=r,r.next=u,s.lastEffect=r)),r}function bx(){return _r().memoizedState}function rc(r,s,i,u){var h=pn();At.flags|=r,h.memoizedState=Ri(1|s,i,void 0,u===void 0?null:u)}function nc(r,s,i,u){var h=_r();u=u===void 0?null:u;var g=void 0;if(Ut!==null){var E=Ut.memoizedState;if(g=E.destroy,u!==null&&Ku(u,E.deps)){h.memoizedState=Ri(s,i,g,u);return}}At.flags|=r,h.memoizedState=Ri(1|s,i,g,u)}function jx(r,s){return rc(8390656,8,r,s)}function Ju(r,s){return nc(2048,8,r,s)}function Nx(r,s){return nc(4,2,r,s)}function Sx(r,s){return nc(4,4,r,s)}function Cx(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function kx(r,s,i){return i=i!=null?i.concat([r]):null,nc(4,4,Cx.bind(null,s,r),i)}function Zu(){}function Ex(r,s){var i=_r();s=s===void 0?null:s;var u=i.memoizedState;return u!==null&&s!==null&&Ku(s,u[1])?u[0]:(i.memoizedState=[r,s],r)}function Px(r,s){var i=_r();s=s===void 0?null:s;var u=i.memoizedState;return u!==null&&s!==null&&Ku(s,u[1])?u[0]:(r=r(),i.memoizedState=[r,s],r)}function Rx(r,s,i){return(na&21)===0?(r.baseState&&(r.baseState=!1,xr=!0),r.memoizedState=i):(Qr(i,s)||(i=zt(),At.lanes|=i,sa|=i,r.baseState=!0),s)}function T2(r,s){var i=pt;pt=i!==0&&4>i?i:4,r(!0);var u=Gu.transition;Gu.transition={};try{r(!1),s()}finally{pt=i,Gu.transition=u}}function Ax(){return _r().memoizedState}function D2(r,s,i){var u=xs(r);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Tx(r))Dx(s,i);else if(i=lx(r,s,i,u),i!==null){var h=ar();tn(i,r,u,h),Mx(i,s,u)}}function M2(r,s,i){var u=xs(r),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Tx(r))Dx(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,I=g(E,i);if(h.hasEagerState=!0,h.eagerState=I,Qr(I,E)){var O=s.interleaved;O===null?(h.next=h,Bu(s)):(h.next=O.next,O.next=h),s.interleaved=h;return}}catch{}finally{}i=lx(r,s,h,u),i!==null&&(h=ar(),tn(i,r,u,h),Mx(i,s,u))}}function Tx(r){var s=r.alternate;return r===At||s!==null&&s===At}function Dx(r,s){ki=tc=!0;var i=r.pending;i===null?s.next=s:(s.next=i.next,i.next=s),r.pending=s}function Mx(r,s,i){if((i&4194240)!==0){var u=s.lanes;u&=r.pendingLanes,i|=u,s.lanes=i,tu(r,i)}}var sc={readContext:Or,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},I2={readContext:Or,useCallback:function(r,s){return pn().memoizedState=[r,s===void 0?null:s],r},useContext:Or,useEffect:jx,useImperativeHandle:function(r,s,i){return i=i!=null?i.concat([r]):null,rc(4194308,4,Cx.bind(null,s,r),i)},useLayoutEffect:function(r,s){return rc(4194308,4,r,s)},useInsertionEffect:function(r,s){return rc(4,2,r,s)},useMemo:function(r,s){var i=pn();return s=s===void 0?null:s,r=r(),i.memoizedState=[r,s],r},useReducer:function(r,s,i){var u=pn();return s=i!==void 0?i(s):s,u.memoizedState=u.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},u.queue=r,r=r.dispatch=D2.bind(null,At,r),[u.memoizedState,r]},useRef:function(r){var s=pn();return r={current:r},s.memoizedState=r},useState:wx,useDebugValue:Zu,useDeferredValue:function(r){return pn().memoizedState=r},useTransition:function(){var r=wx(!1),s=r[0];return r=T2.bind(null,r[1]),pn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,i){var u=At,h=pn();if(Et){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),Wt===null)throw Error(a(349));(na&30)!==0||px(u,s,i)}h.memoizedState=i;var g={value:i,getSnapshot:s};return h.queue=g,jx(gx.bind(null,u,g,r),[r]),u.flags|=2048,Ri(9,xx.bind(null,u,g,i,s),void 0,null),i},useId:function(){var r=pn(),s=Wt.identifierPrefix;if(Et){var i=Mn,u=Dn;i=(u&~(1<<32-Nr(u)-1)).toString(32)+i,s=":"+s+"R"+i,i=Ei++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=A2++,s=":"+s+"r"+i.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},L2={readContext:Or,useCallback:Ex,useContext:Or,useEffect:Ju,useImperativeHandle:kx,useInsertionEffect:Nx,useLayoutEffect:Sx,useMemo:Px,useReducer:Qu,useRef:bx,useState:function(){return Qu(Pi)},useDebugValue:Zu,useDeferredValue:function(r){var s=_r();return Rx(s,Ut.memoizedState,r)},useTransition:function(){var r=Qu(Pi)[0],s=_r().memoizedState;return[r,s]},useMutableSource:mx,useSyncExternalStore:hx,useId:Ax,unstable_isNewReconciler:!1},O2={readContext:Or,useCallback:Ex,useContext:Or,useEffect:Ju,useImperativeHandle:kx,useInsertionEffect:Nx,useLayoutEffect:Sx,useMemo:Px,useReducer:Xu,useRef:bx,useState:function(){return Xu(Pi)},useDebugValue:Zu,useDeferredValue:function(r){var s=_r();return Ut===null?s.memoizedState=r:Rx(s,Ut.memoizedState,r)},useTransition:function(){var r=Xu(Pi)[0],s=_r().memoizedState;return[r,s]},useMutableSource:mx,useSyncExternalStore:hx,useId:Ax,unstable_isNewReconciler:!1};function Jr(r,s){if(r&&r.defaultProps){s=re({},s),r=r.defaultProps;for(var i in r)s[i]===void 0&&(s[i]=r[i]);return s}return s}function ef(r,s,i,u){s=r.memoizedState,i=i(u,s),i=i==null?s:re({},s,i),r.memoizedState=i,r.lanes===0&&(r.updateQueue.baseState=i)}var ac={isMounted:function(r){return(r=r._reactInternals)?Yr(r)===r:!1},enqueueSetState:function(r,s,i){r=r._reactInternals;var u=ar(),h=xs(r),g=Ln(u,h);g.payload=s,i!=null&&(g.callback=i),s=fs(r,g,h),s!==null&&(tn(s,r,h,u),Xl(s,r,h))},enqueueReplaceState:function(r,s,i){r=r._reactInternals;var u=ar(),h=xs(r),g=Ln(u,h);g.tag=1,g.payload=s,i!=null&&(g.callback=i),s=fs(r,g,h),s!==null&&(tn(s,r,h,u),Xl(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var i=ar(),u=xs(r),h=Ln(i,u);h.tag=2,s!=null&&(h.callback=s),s=fs(r,h,u),s!==null&&(tn(s,r,u,i),Xl(s,r,u))}};function Ix(r,s,i,u,h,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!pi(i,u)||!pi(h,g):!0}function Lx(r,s,i){var u=!1,h=cs,g=s.contextType;return typeof g=="object"&&g!==null?g=Or(g):(h=pr(s)?Js:Jt.current,u=s.contextTypes,g=(u=u!=null)?Qa(r,h):cs),s=new s(i,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ac,r.stateNode=s,s._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ox(r,s,i,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,u),s.state!==r&&ac.enqueueReplaceState(s,s.state,null)}function tf(r,s,i,u){var h=r.stateNode;h.props=i,h.state=r.memoizedState,h.refs={},zu(r);var g=s.contextType;typeof g=="object"&&g!==null?h.context=Or(g):(g=pr(s)?Js:Jt.current,h.context=Qa(r,g)),h.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(ef(r,s,g,i),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&ac.enqueueReplaceState(h,h.state,null),Jl(r,i,h,u),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function so(r,s){try{var i="",u=s;do i+=ke(u),u=u.return;while(u);var h=i}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:h,digest:null}}function rf(r,s,i){return{value:r,source:null,stack:i??null,digest:s??null}}function nf(r,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var _2=typeof WeakMap=="function"?WeakMap:Map;function _x(r,s,i){i=Ln(-1,i),i.tag=3,i.payload={element:null};var u=s.value;return i.callback=function(){fc||(fc=!0,yf=u),nf(r,s)},i}function Fx(r,s,i){i=Ln(-1,i),i.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;i.payload=function(){return u(h)},i.callback=function(){nf(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){nf(r,s),typeof u!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),i}function $x(r,s,i){var u=r.pingCache;if(u===null){u=r.pingCache=new _2;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(i)||(h.add(i),r=X2.bind(null,r,s,i),s.then(r,r))}function Bx(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function zx(r,s,i,u,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=Ln(-1,1),s.tag=2,fs(i,s,1))),i.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var F2=A.ReactCurrentOwner,xr=!1;function sr(r,s,i,u){s.child=r===null?ix(s,null,i,u):eo(s,r.child,i,u)}function Ux(r,s,i,u,h){i=i.render;var g=s.ref;return ro(s,h),u=Yu(r,s,i,u,g,h),i=qu(),r!==null&&!xr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,On(r,s,h)):(Et&&i&&Tu(s),s.flags|=1,sr(r,s,u,h),s.child)}function Vx(r,s,i,u,h){if(r===null){var g=i.type;return typeof g=="function"&&!kf(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=g,Hx(r,s,g,u,h)):(r=vc(i.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&h)===0){var E=g.memoizedProps;if(i=i.compare,i=i!==null?i:pi,i(E,u)&&r.ref===s.ref)return On(r,s,h)}return s.flags|=1,r=vs(g,u),r.ref=s.ref,r.return=s,s.child=r}function Hx(r,s,i,u,h){if(r!==null){var g=r.memoizedProps;if(pi(g,u)&&r.ref===s.ref)if(xr=!1,s.pendingProps=u=g,(r.lanes&h)!==0)(r.flags&131072)!==0&&(xr=!0);else return s.lanes=r.lanes,On(r,s,h)}return sf(r,s,i,u,h)}function Wx(r,s,i){var u=s.pendingProps,h=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(oo,Er),Er|=i;else{if((i&1073741824)===0)return r=g!==null?g.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,bt(oo,Er),Er|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:i,bt(oo,Er),Er|=u}else g!==null?(u=g.baseLanes|i,s.memoizedState=null):u=i,bt(oo,Er),Er|=u;return sr(r,s,h,i),s.child}function Gx(r,s){var i=s.ref;(r===null&&i!==null||r!==null&&r.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function sf(r,s,i,u,h){var g=pr(i)?Js:Jt.current;return g=Qa(s,g),ro(s,h),i=Yu(r,s,i,u,g,h),u=qu(),r!==null&&!xr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,On(r,s,h)):(Et&&u&&Tu(s),s.flags|=1,sr(r,s,i,h),s.child)}function Kx(r,s,i,u,h){if(pr(i)){var g=!0;Vl(s)}else g=!1;if(ro(s,h),s.stateNode===null)ic(r,s),Lx(s,i,u),tf(s,i,u,h),u=!0;else if(r===null){var E=s.stateNode,I=s.memoizedProps;E.props=I;var O=E.context,K=i.contextType;typeof K=="object"&&K!==null?K=Or(K):(K=pr(i)?Js:Jt.current,K=Qa(s,K));var ie=i.getDerivedStateFromProps,ce=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==u||O!==K)&&Ox(s,E,u,K),us=!1;var oe=s.memoizedState;E.state=oe,Jl(s,u,E,h),O=s.memoizedState,I!==u||oe!==O||hr.current||us?(typeof ie=="function"&&(ef(s,i,ie,u),O=s.memoizedState),(I=us||Ix(s,i,I,u,oe,O,K))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=O),E.props=u,E.state=O,E.context=K,u=I):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{E=s.stateNode,cx(r,s),I=s.memoizedProps,K=s.type===s.elementType?I:Jr(s.type,I),E.props=K,ce=s.pendingProps,oe=E.context,O=i.contextType,typeof O=="object"&&O!==null?O=Or(O):(O=pr(i)?Js:Jt.current,O=Qa(s,O));var Pe=i.getDerivedStateFromProps;(ie=typeof Pe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==ce||oe!==O)&&Ox(s,E,u,O),us=!1,oe=s.memoizedState,E.state=oe,Jl(s,u,E,h);var De=s.memoizedState;I!==ce||oe!==De||hr.current||us?(typeof Pe=="function"&&(ef(s,i,Pe,u),De=s.memoizedState),(K=us||Ix(s,i,K,u,oe,De,O)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(u,De,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(u,De,O)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&oe===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&oe===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=De),E.props=u,E.state=De,E.context=O,u=K):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&oe===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&oe===r.memoizedState||(s.flags|=1024),u=!1)}return af(r,s,i,u,g,h)}function af(r,s,i,u,h,g){Gx(r,s);var E=(s.flags&128)!==0;if(!u&&!E)return h&&Jp(s,i,!1),On(r,s,g);u=s.stateNode,F2.current=s;var I=E&&typeof i.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,r!==null&&E?(s.child=eo(s,r.child,null,g),s.child=eo(s,null,I,g)):sr(r,s,I,g),s.memoizedState=u.state,h&&Jp(s,i,!0),s.child}function Yx(r){var s=r.stateNode;s.pendingContext?Qp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Qp(r,s.context,!1),Uu(r,s.containerInfo)}function qx(r,s,i,u,h){return Za(),Lu(h),s.flags|=256,sr(r,s,i,u),s.child}var of={dehydrated:null,treeContext:null,retryLane:0};function lf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Qx(r,s,i){var u=s.pendingProps,h=Rt.current,g=!1,E=(s.flags&128)!==0,I;if((I=E)||(I=r!==null&&r.memoizedState===null?!1:(h&2)!==0),I?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),bt(Rt,h&1),r===null)return Iu(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=u.children,r=u.fallback,g?(u=s.mode,g=s.child,E={mode:"hidden",children:E},(u&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=yc(E,u,0,null),r=la(r,u,i,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=lf(i),s.memoizedState=of,r):cf(s,E));if(h=r.memoizedState,h!==null&&(I=h.dehydrated,I!==null))return $2(r,s,E,u,I,h,i);if(g){g=u.fallback,E=s.mode,h=r.child,I=h.sibling;var O={mode:"hidden",children:u.children};return(E&1)===0&&s.child!==h?(u=s.child,u.childLanes=0,u.pendingProps=O,s.deletions=null):(u=vs(h,O),u.subtreeFlags=h.subtreeFlags&14680064),I!==null?g=vs(I,g):(g=la(g,E,i,null),g.flags|=2),g.return=s,u.return=s,u.sibling=g,s.child=u,u=g,g=s.child,E=r.child.memoizedState,E=E===null?lf(i):{baseLanes:E.baseLanes|i,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~i,s.memoizedState=of,u}return g=r.child,r=g.sibling,u=vs(g,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=i),u.return=s,u.sibling=null,r!==null&&(i=s.deletions,i===null?(s.deletions=[r],s.flags|=16):i.push(r)),s.child=u,s.memoizedState=null,u}function cf(r,s){return s=yc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function oc(r,s,i,u){return u!==null&&Lu(u),eo(s,r.child,null,i),r=cf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function $2(r,s,i,u,h,g,E){if(i)return s.flags&256?(s.flags&=-257,u=rf(Error(a(422))),oc(r,s,E,u)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=u.fallback,h=s.mode,u=yc({mode:"visible",children:u.children},h,0,null),g=la(g,h,E,null),g.flags|=2,u.return=s,g.return=s,u.sibling=g,s.child=u,(s.mode&1)!==0&&eo(s,r.child,null,E),s.child.memoizedState=lf(E),s.memoizedState=of,g);if((s.mode&1)===0)return oc(r,s,E,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var I=u.dgst;return u=I,g=Error(a(419)),u=rf(g,u,void 0),oc(r,s,E,u)}if(I=(E&r.childLanes)!==0,xr||I){if(u=Wt,u!==null){switch(E&-E){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|E))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,In(r,h),tn(u,r,h,-1))}return Cf(),u=rf(Error(a(421))),oc(r,s,E,u)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=J2.bind(null,r),h._reactRetry=s,null):(r=g.treeContext,kr=is(h.nextSibling),Cr=s,Et=!0,Xr=null,r!==null&&(Ir[Lr++]=Dn,Ir[Lr++]=Mn,Ir[Lr++]=Zs,Dn=r.id,Mn=r.overflow,Zs=s),s=cf(s,u.children),s.flags|=4096,s)}function Xx(r,s,i){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),$u(r.return,s,i)}function df(r,s,i,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=i,g.tailMode=h)}function Jx(r,s,i){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(sr(r,s,u.children,i),u=Rt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Xx(r,i,s);else if(r.tag===19)Xx(r,i,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(bt(Rt,u),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(i=s.child,h=null;i!==null;)r=i.alternate,r!==null&&Zl(r)===null&&(h=i),i=i.sibling;i=h,i===null?(h=s.child,s.child=null):(h=i.sibling,i.sibling=null),df(s,!1,h,i,g);break;case"backwards":for(i=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Zl(r)===null){s.child=h;break}r=h.sibling,h.sibling=i,i=h,h=r}df(s,!0,i,null,g);break;case"together":df(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ic(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function On(r,s,i){if(r!==null&&(s.dependencies=r.dependencies),sa|=s.lanes,(i&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(a(153));if(s.child!==null){for(r=s.child,i=vs(r,r.pendingProps),s.child=i,i.return=s;r.sibling!==null;)r=r.sibling,i=i.sibling=vs(r,r.pendingProps),i.return=s;i.sibling=null}return s.child}function B2(r,s,i){switch(s.tag){case 3:Yx(s),Za();break;case 5:fx(s);break;case 1:pr(s.type)&&Vl(s);break;case 4:Uu(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,h=s.memoizedProps.value;bt(ql,u._currentValue),u._currentValue=h;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(bt(Rt,Rt.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?Qx(r,s,i):(bt(Rt,Rt.current&1),r=On(r,s,i),r!==null?r.sibling:null);bt(Rt,Rt.current&1);break;case 19:if(u=(i&s.childLanes)!==0,(r.flags&128)!==0){if(u)return Jx(r,s,i);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),bt(Rt,Rt.current),u)break;return null;case 22:case 23:return s.lanes=0,Wx(r,s,i)}return On(r,s,i)}var Zx,uf,eg,tg;Zx=function(r,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},uf=function(){},eg=function(r,s,i,u){var h=r.memoizedProps;if(h!==u){r=s.stateNode,ra(hn.current);var g=null;switch(i){case"input":h=Fe(r,h),u=Fe(r,u),g=[];break;case"select":h=re({},h,{value:void 0}),u=re({},u,{value:void 0}),g=[];break;case"textarea":h=gt(r,h),u=gt(r,u),g=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=Bl)}mr(i,u);var E;i=null;for(K in h)if(!u.hasOwnProperty(K)&&h.hasOwnProperty(K)&&h[K]!=null)if(K==="style"){var I=h[K];for(E in I)I.hasOwnProperty(E)&&(i||(i={}),i[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(l.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in u){var O=u[K];if(I=h!=null?h[K]:void 0,u.hasOwnProperty(K)&&O!==I&&(O!=null||I!=null))if(K==="style")if(I){for(E in I)!I.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(i||(i={}),i[E]="");for(E in O)O.hasOwnProperty(E)&&I[E]!==O[E]&&(i||(i={}),i[E]=O[E])}else i||(g||(g=[]),g.push(K,i)),i=O;else K==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,I=I?I.__html:void 0,O!=null&&I!==O&&(g=g||[]).push(K,O)):K==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(K,""+O):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(l.hasOwnProperty(K)?(O!=null&&K==="onScroll"&&Nt("scroll",r),g||I===O||(g=[])):(g=g||[]).push(K,O))}i&&(g=g||[]).push("style",i);var K=g;(s.updateQueue=K)&&(s.flags|=4)}},tg=function(r,s,i,u){i!==u&&(s.flags|=4)};function Ai(r,s){if(!Et)switch(r.tailMode){case"hidden":s=r.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?r.tail=null:i.sibling=null;break;case"collapsed":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function er(r){var s=r.alternate!==null&&r.alternate.child===r.child,i=0,u=0;if(s)for(var h=r.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=i,s}function z2(r,s,i){var u=s.pendingProps;switch(Du(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(s),null;case 1:return pr(s.type)&&Ul(),er(s),null;case 3:return u=s.stateNode,no(),St(hr),St(Jt),Wu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Kl(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xr!==null&&(jf(Xr),Xr=null))),uf(r,s),er(s),null;case 5:Vu(s);var h=ra(Ci.current);if(i=s.type,r!==null&&s.stateNode!=null)eg(r,s,i,u,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(a(166));return er(s),null}if(r=ra(hn.current),Kl(s)){u=s.stateNode,i=s.type;var g=s.memoizedProps;switch(u[mn]=s,u[wi]=g,r=(s.mode&1)!==0,i){case"dialog":Nt("cancel",u),Nt("close",u);break;case"iframe":case"object":case"embed":Nt("load",u);break;case"video":case"audio":for(h=0;h<gi.length;h++)Nt(gi[h],u);break;case"source":Nt("error",u);break;case"img":case"image":case"link":Nt("error",u),Nt("load",u);break;case"details":Nt("toggle",u);break;case"input":He(u,g),Nt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},Nt("invalid",u);break;case"textarea":Tt(u,g),Nt("invalid",u)}mr(i,g),h=null;for(var E in g)if(g.hasOwnProperty(E)){var I=g[E];E==="children"?typeof I=="string"?u.textContent!==I&&(g.suppressHydrationWarning!==!0&&$l(u.textContent,I,r),h=["children",I]):typeof I=="number"&&u.textContent!==""+I&&(g.suppressHydrationWarning!==!0&&$l(u.textContent,I,r),h=["children",""+I]):l.hasOwnProperty(E)&&I!=null&&E==="onScroll"&&Nt("scroll",u)}switch(i){case"input":Qe(u),Je(u,g,!0);break;case"textarea":Qe(u),kn(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=Bl)}u=h,s.updateQueue=u,u!==null&&(s.flags|=4)}else{E=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=fr(i)),r==="http://www.w3.org/1999/xhtml"?i==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=E.createElement(i,{is:u.is}):(r=E.createElement(i),i==="select"&&(E=r,u.multiple?E.multiple=!0:u.size&&(E.size=u.size))):r=E.createElementNS(r,i),r[mn]=s,r[wi]=u,Zx(r,s,!1,!1),s.stateNode=r;e:{switch(E=Xn(i,u),i){case"dialog":Nt("cancel",r),Nt("close",r),h=u;break;case"iframe":case"object":case"embed":Nt("load",r),h=u;break;case"video":case"audio":for(h=0;h<gi.length;h++)Nt(gi[h],r);h=u;break;case"source":Nt("error",r),h=u;break;case"img":case"image":case"link":Nt("error",r),Nt("load",r),h=u;break;case"details":Nt("toggle",r),h=u;break;case"input":He(r,u),h=Fe(r,u),Nt("invalid",r);break;case"option":h=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},h=re({},u,{value:void 0}),Nt("invalid",r);break;case"textarea":Tt(r,u),h=gt(r,u),Nt("invalid",r);break;default:h=u}mr(i,h),I=h;for(g in I)if(I.hasOwnProperty(g)){var O=I[g];g==="style"?Pn(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ke(r,O)):g==="children"?typeof O=="string"?(i!=="textarea"||O!=="")&&vt(r,O):typeof O=="number"&&vt(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(l.hasOwnProperty(g)?O!=null&&g==="onScroll"&&Nt("scroll",r):O!=null&&P(r,g,O,E))}switch(i){case"input":Qe(r),Je(r,u,!1);break;case"textarea":Qe(r),kn(r);break;case"option":u.value!=null&&r.setAttribute("value",""+je(u.value));break;case"select":r.multiple=!!u.multiple,g=u.value,g!=null?rt(r,!!u.multiple,g,!1):u.defaultValue!=null&&rt(r,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Bl)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return er(s),null;case 6:if(r&&s.stateNode!=null)tg(r,s,r.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(i=ra(Ci.current),ra(hn.current),Kl(s)){if(u=s.stateNode,i=s.memoizedProps,u[mn]=s,(g=u.nodeValue!==i)&&(r=Cr,r!==null))switch(r.tag){case 3:$l(u.nodeValue,i,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&$l(u.nodeValue,i,(r.mode&1)!==0)}g&&(s.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[mn]=s,s.stateNode=u}return er(s),null;case 13:if(St(Rt),u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Et&&kr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)sx(),Za(),s.flags|=98560,g=!1;else if(g=Kl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!g)throw Error(a(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[mn]=s}else Za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;er(s),g=!1}else Xr!==null&&(jf(Xr),Xr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Rt.current&1)!==0?Vt===0&&(Vt=3):Cf())),s.updateQueue!==null&&(s.flags|=4),er(s),null);case 4:return no(),uf(r,s),r===null&&vi(s.stateNode.containerInfo),er(s),null;case 10:return Fu(s.type._context),er(s),null;case 17:return pr(s.type)&&Ul(),er(s),null;case 19:if(St(Rt),g=s.memoizedState,g===null)return er(s),null;if(u=(s.flags&128)!==0,E=g.rendering,E===null)if(u)Ai(g,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Zl(r),E!==null){for(s.flags|=128,Ai(g,!1),u=E.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=i,i=s.child;i!==null;)g=i,r=u,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i=i.sibling;return bt(Rt,Rt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Pt()>io&&(s.flags|=128,u=!0,Ai(g,!1),s.lanes=4194304)}else{if(!u)if(r=Zl(E),r!==null){if(s.flags|=128,u=!0,i=r.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Ai(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Et)return er(s),null}else 2*Pt()-g.renderingStartTime>io&&i!==1073741824&&(s.flags|=128,u=!0,Ai(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(i=g.last,i!==null?i.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Pt(),s.sibling=null,i=Rt.current,bt(Rt,u?i&1|2:i&1),s):(er(s),null);case 22:case 23:return Sf(),u=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(Er&1073741824)!==0&&(er(s),s.subtreeFlags&6&&(s.flags|=8192)):er(s),null;case 24:return null;case 25:return null}throw Error(a(156,s.tag))}function U2(r,s){switch(Du(s),s.tag){case 1:return pr(s.type)&&Ul(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return no(),St(hr),St(Jt),Wu(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Vu(s),null;case 13:if(St(Rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Za()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return St(Rt),null;case 4:return no(),null;case 10:return Fu(s.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var lc=!1,tr=!1,V2=typeof WeakSet=="function"?WeakSet:Set,Te=null;function ao(r,s){var i=r.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){Mt(r,s,u)}else i.current=null}function ff(r,s,i){try{i()}catch(u){Mt(r,s,u)}}var rg=!1;function H2(r,s){if(Nu=Pl,r=Ip(),pu(r)){if("selectionStart"in r)var i={start:r.selectionStart,end:r.selectionEnd};else e:{i=(i=r.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var E=0,I=-1,O=-1,K=0,ie=0,ce=r,oe=null;t:for(;;){for(var Pe;ce!==i||h!==0&&ce.nodeType!==3||(I=E+h),ce!==g||u!==0&&ce.nodeType!==3||(O=E+u),ce.nodeType===3&&(E+=ce.nodeValue.length),(Pe=ce.firstChild)!==null;)oe=ce,ce=Pe;for(;;){if(ce===r)break t;if(oe===i&&++K===h&&(I=E),oe===g&&++ie===u&&(O=E),(Pe=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=Pe}i=I===-1||O===-1?null:{start:I,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Su={focusedElem:r,selectionRange:i},Pl=!1,Te=s;Te!==null;)if(s=Te,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Te=r;else for(;Te!==null;){s=Te;try{var De=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Le=De.memoizedProps,_t=De.memoizedState,z=s.stateNode,_=z.getSnapshotBeforeUpdate(s.elementType===s.type?Le:Jr(s.type,Le),_t);z.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(pe){Mt(s,s.return,pe)}if(r=s.sibling,r!==null){r.return=s.return,Te=r;break}Te=s.return}return De=rg,rg=!1,De}function Ti(r,s,i){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&r)===r){var g=h.destroy;h.destroy=void 0,g!==void 0&&ff(s,i,g)}h=h.next}while(h!==u)}}function cc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&r)===r){var u=i.create;i.destroy=u()}i=i.next}while(i!==s)}}function mf(r){var s=r.ref;if(s!==null){var i=r.stateNode;switch(r.tag){case 5:r=i;break;default:r=i}typeof s=="function"?s(r):s.current=r}}function ng(r){var s=r.alternate;s!==null&&(r.alternate=null,ng(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[mn],delete s[wi],delete s[Pu],delete s[k2],delete s[E2])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function sg(r){return r.tag===5||r.tag===3||r.tag===4}function ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||sg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hf(r,s,i){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(r,s):i.insertBefore(r,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(r,i)):(s=i,s.appendChild(r)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bl));else if(u!==4&&(r=r.child,r!==null))for(hf(r,s,i),r=r.sibling;r!==null;)hf(r,s,i),r=r.sibling}function pf(r,s,i){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?i.insertBefore(r,s):i.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(pf(r,s,i),r=r.sibling;r!==null;)pf(r,s,i),r=r.sibling}var Yt=null,Zr=!1;function ms(r,s,i){for(i=i.child;i!==null;)og(r,s,i),i=i.sibling}function og(r,s,i){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Ba,i)}catch{}switch(i.tag){case 5:tr||ao(i,s);case 6:var u=Yt,h=Zr;Yt=null,ms(r,s,i),Yt=u,Zr=h,Yt!==null&&(Zr?(r=Yt,i=i.stateNode,r.nodeType===8?r.parentNode.removeChild(i):r.removeChild(i)):Yt.removeChild(i.stateNode));break;case 18:Yt!==null&&(Zr?(r=Yt,i=i.stateNode,r.nodeType===8?Eu(r.parentNode,i):r.nodeType===1&&Eu(r,i),ci(r)):Eu(Yt,i.stateNode));break;case 4:u=Yt,h=Zr,Yt=i.stateNode.containerInfo,Zr=!0,ms(r,s,i),Yt=u,Zr=h;break;case 0:case 11:case 14:case 15:if(!tr&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var g=h,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&ff(i,s,E),h=h.next}while(h!==u)}ms(r,s,i);break;case 1:if(!tr&&(ao(i,s),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(I){Mt(i,s,I)}ms(r,s,i);break;case 21:ms(r,s,i);break;case 22:i.mode&1?(tr=(u=tr)||i.memoizedState!==null,ms(r,s,i),tr=u):ms(r,s,i);break;default:ms(r,s,i)}}function ig(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var i=r.stateNode;i===null&&(i=r.stateNode=new V2),s.forEach(function(u){var h=Z2.bind(null,r,u);i.has(u)||(i.add(u),u.then(h,h))})}}function en(r,s){var i=s.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var g=r,E=s,I=E;e:for(;I!==null;){switch(I.tag){case 5:Yt=I.stateNode,Zr=!1;break e;case 3:Yt=I.stateNode.containerInfo,Zr=!0;break e;case 4:Yt=I.stateNode.containerInfo,Zr=!0;break e}I=I.return}if(Yt===null)throw Error(a(160));og(g,E,h),Yt=null,Zr=!1;var O=h.alternate;O!==null&&(O.return=null),h.return=null}catch(K){Mt(h,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)lg(s,r),s=s.sibling}function lg(r,s){var i=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(en(s,r),xn(r),u&4){try{Ti(3,r,r.return),cc(3,r)}catch(Le){Mt(r,r.return,Le)}try{Ti(5,r,r.return)}catch(Le){Mt(r,r.return,Le)}}break;case 1:en(s,r),xn(r),u&512&&i!==null&&ao(i,i.return);break;case 5:if(en(s,r),xn(r),u&512&&i!==null&&ao(i,i.return),r.flags&32){var h=r.stateNode;try{vt(h,"")}catch(Le){Mt(r,r.return,Le)}}if(u&4&&(h=r.stateNode,h!=null)){var g=r.memoizedProps,E=i!==null?i.memoizedProps:g,I=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{I==="input"&&g.type==="radio"&&g.name!=null&&J(h,g),Xn(I,E);var K=Xn(I,g);for(E=0;E<O.length;E+=2){var ie=O[E],ce=O[E+1];ie==="style"?Pn(h,ce):ie==="dangerouslySetInnerHTML"?Ke(h,ce):ie==="children"?vt(h,ce):P(h,ie,ce,K)}switch(I){case"input":Ae(h,g);break;case"textarea":Wr(h,g);break;case"select":var oe=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var Pe=g.value;Pe!=null?rt(h,!!g.multiple,Pe,!1):oe!==!!g.multiple&&(g.defaultValue!=null?rt(h,!!g.multiple,g.defaultValue,!0):rt(h,!!g.multiple,g.multiple?[]:"",!1))}h[wi]=g}catch(Le){Mt(r,r.return,Le)}}break;case 6:if(en(s,r),xn(r),u&4){if(r.stateNode===null)throw Error(a(162));h=r.stateNode,g=r.memoizedProps;try{h.nodeValue=g}catch(Le){Mt(r,r.return,Le)}}break;case 3:if(en(s,r),xn(r),u&4&&i!==null&&i.memoizedState.isDehydrated)try{ci(s.containerInfo)}catch(Le){Mt(r,r.return,Le)}break;case 4:en(s,r),xn(r);break;case 13:en(s,r),xn(r),h=r.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(vf=Pt())),u&4&&ig(r);break;case 22:if(ie=i!==null&&i.memoizedState!==null,r.mode&1?(tr=(K=tr)||ie,en(s,r),tr=K):en(s,r),xn(r),u&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!ie&&(r.mode&1)!==0)for(Te=r,ie=r.child;ie!==null;){for(ce=Te=ie;Te!==null;){switch(oe=Te,Pe=oe.child,oe.tag){case 0:case 11:case 14:case 15:Ti(4,oe,oe.return);break;case 1:ao(oe,oe.return);var De=oe.stateNode;if(typeof De.componentWillUnmount=="function"){u=oe,i=oe.return;try{s=u,De.props=s.memoizedProps,De.state=s.memoizedState,De.componentWillUnmount()}catch(Le){Mt(u,i,Le)}}break;case 5:ao(oe,oe.return);break;case 22:if(oe.memoizedState!==null){ug(ce);continue}}Pe!==null?(Pe.return=oe,Te=Pe):ug(ce)}ie=ie.sibling}e:for(ie=null,ce=r;;){if(ce.tag===5){if(ie===null){ie=ce;try{h=ce.stateNode,K?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(I=ce.stateNode,O=ce.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,I.style.display=dn("display",E))}catch(Le){Mt(r,r.return,Le)}}}else if(ce.tag===6){if(ie===null)try{ce.stateNode.nodeValue=K?"":ce.memoizedProps}catch(Le){Mt(r,r.return,Le)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===r)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===r)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===r)break e;ie===ce&&(ie=null),ce=ce.return}ie===ce&&(ie=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:en(s,r),xn(r),u&4&&ig(r);break;case 21:break;default:en(s,r),xn(r)}}function xn(r){var s=r.flags;if(s&2){try{e:{for(var i=r.return;i!==null;){if(sg(i)){var u=i;break e}i=i.return}throw Error(a(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(vt(h,""),u.flags&=-33);var g=ag(r);pf(r,g,h);break;case 3:case 4:var E=u.stateNode.containerInfo,I=ag(r);hf(r,I,E);break;default:throw Error(a(161))}}catch(O){Mt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function W2(r,s,i){Te=r,cg(r)}function cg(r,s,i){for(var u=(r.mode&1)!==0;Te!==null;){var h=Te,g=h.child;if(h.tag===22&&u){var E=h.memoizedState!==null||lc;if(!E){var I=h.alternate,O=I!==null&&I.memoizedState!==null||tr;I=lc;var K=tr;if(lc=E,(tr=O)&&!K)for(Te=h;Te!==null;)E=Te,O=E.child,E.tag===22&&E.memoizedState!==null?fg(h):O!==null?(O.return=E,Te=O):fg(h);for(;g!==null;)Te=g,cg(g),g=g.sibling;Te=h,lc=I,tr=K}dg(r)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,Te=g):dg(r)}}function dg(r){for(;Te!==null;){var s=Te;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:tr||cc(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!tr)if(i===null)u.componentDidMount();else{var h=s.elementType===s.type?i.memoizedProps:Jr(s.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&ux(s,g,u);break;case 3:var E=s.updateQueue;if(E!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}ux(s,E,i)}break;case 5:var I=s.stateNode;if(i===null&&s.flags&4){i=I;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&i.focus();break;case"img":O.src&&(i.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var ce=ie.dehydrated;ce!==null&&ci(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}tr||s.flags&512&&mf(s)}catch(oe){Mt(s,s.return,oe)}}if(s===r){Te=null;break}if(i=s.sibling,i!==null){i.return=s.return,Te=i;break}Te=s.return}}function ug(r){for(;Te!==null;){var s=Te;if(s===r){Te=null;break}var i=s.sibling;if(i!==null){i.return=s.return,Te=i;break}Te=s.return}}function fg(r){for(;Te!==null;){var s=Te;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{cc(4,s)}catch(O){Mt(s,i,O)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var h=s.return;try{u.componentDidMount()}catch(O){Mt(s,h,O)}}var g=s.return;try{mf(s)}catch(O){Mt(s,g,O)}break;case 5:var E=s.return;try{mf(s)}catch(O){Mt(s,E,O)}}}catch(O){Mt(s,s.return,O)}if(s===r){Te=null;break}var I=s.sibling;if(I!==null){I.return=s.return,Te=I;break}Te=s.return}}var G2=Math.ceil,dc=A.ReactCurrentDispatcher,xf=A.ReactCurrentOwner,Fr=A.ReactCurrentBatchConfig,lt=0,Wt=null,Bt=null,qt=0,Er=0,oo=ls(0),Vt=0,Di=null,sa=0,uc=0,gf=0,Mi=null,gr=null,vf=0,io=1/0,_n=null,fc=!1,yf=null,hs=null,mc=!1,ps=null,hc=0,Ii=0,wf=null,pc=-1,xc=0;function ar(){return(lt&6)!==0?Pt():pc!==-1?pc:pc=Pt()}function xs(r){return(r.mode&1)===0?1:(lt&2)!==0&&qt!==0?qt&-qt:R2.transition!==null?(xc===0&&(xc=zt()),xc):(r=pt,r!==0||(r=window.event,r=r===void 0?16:hp(r.type)),r)}function tn(r,s,i,u){if(50<Ii)throw Ii=0,wf=null,Error(a(185));qr(r,i,u),((lt&2)===0||r!==Wt)&&(r===Wt&&((lt&2)===0&&(uc|=i),Vt===4&&gs(r,qt)),vr(r,u),i===1&&lt===0&&(s.mode&1)===0&&(io=Pt()+500,Hl&&ds()))}function vr(r,s){var i=r.callbackNode;at(r,s);var u=Re(r,r===Wt?qt:0);if(u===0)i!==null&&qs(i),r.callbackNode=null,r.callbackPriority=0;else if(s=u&-u,r.callbackPriority!==s){if(i!=null&&qs(i),s===1)r.tag===0?P2(hg.bind(null,r)):Zp(hg.bind(null,r)),S2(function(){(lt&6)===0&&ds()}),i=null;else{switch(op(u)){case 1:i=si;break;case 4:i=jl;break;case 16:i=$a;break;case 536870912:i=Nl;break;default:i=$a}i=jg(i,mg.bind(null,r))}r.callbackPriority=s,r.callbackNode=i}}function mg(r,s){if(pc=-1,xc=0,(lt&6)!==0)throw Error(a(327));var i=r.callbackNode;if(lo()&&r.callbackNode!==i)return null;var u=Re(r,r===Wt?qt:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||s)s=gc(r,u);else{s=u;var h=lt;lt|=2;var g=xg();(Wt!==r||qt!==s)&&(_n=null,io=Pt()+500,oa(r,s));do try{q2();break}catch(I){pg(r,I)}while(!0);_u(),dc.current=g,lt=h,Bt!==null?s=0:(Wt=null,qt=0,s=Vt)}if(s!==0){if(s===2&&(h=nt(r),h!==0&&(u=h,s=bf(r,h))),s===1)throw i=Di,oa(r,0),gs(r,u),vr(r,Pt()),i;if(s===6)gs(r,u);else{if(h=r.current.alternate,(u&30)===0&&!K2(h)&&(s=gc(r,u),s===2&&(g=nt(r),g!==0&&(u=g,s=bf(r,g))),s===1))throw i=Di,oa(r,0),gs(r,u),vr(r,Pt()),i;switch(r.finishedWork=h,r.finishedLanes=u,s){case 0:case 1:throw Error(a(345));case 2:ia(r,gr,_n);break;case 3:if(gs(r,u),(u&130023424)===u&&(s=vf+500-Pt(),10<s)){if(Re(r,0)!==0)break;if(h=r.suspendedLanes,(h&u)!==u){ar(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=ku(ia.bind(null,r,gr,_n),s);break}ia(r,gr,_n);break;case 4:if(gs(r,u),(u&4194240)===u)break;for(s=r.eventTimes,h=-1;0<u;){var E=31-Nr(u);g=1<<E,E=s[E],E>h&&(h=E),u&=~g}if(u=h,u=Pt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*G2(u/1960))-u,10<u){r.timeoutHandle=ku(ia.bind(null,r,gr,_n),u);break}ia(r,gr,_n);break;case 5:ia(r,gr,_n);break;default:throw Error(a(329))}}}return vr(r,Pt()),r.callbackNode===i?mg.bind(null,r):null}function bf(r,s){var i=Mi;return r.current.memoizedState.isDehydrated&&(oa(r,s).flags|=256),r=gc(r,s),r!==2&&(s=gr,gr=i,s!==null&&jf(s)),r}function jf(r){gr===null?gr=r:gr.push.apply(gr,r)}function K2(r){for(var s=r;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],g=h.getSnapshot;h=h.value;try{if(!Qr(g(),h))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gs(r,s){for(s&=~gf,s&=~uc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var i=31-Nr(s),u=1<<i;r[i]=-1,s&=~u}}function hg(r){if((lt&6)!==0)throw Error(a(327));lo();var s=Re(r,0);if((s&1)===0)return vr(r,Pt()),null;var i=gc(r,s);if(r.tag!==0&&i===2){var u=nt(r);u!==0&&(s=u,i=bf(r,u))}if(i===1)throw i=Di,oa(r,0),gs(r,s),vr(r,Pt()),i;if(i===6)throw Error(a(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ia(r,gr,_n),vr(r,Pt()),null}function Nf(r,s){var i=lt;lt|=1;try{return r(s)}finally{lt=i,lt===0&&(io=Pt()+500,Hl&&ds())}}function aa(r){ps!==null&&ps.tag===0&&(lt&6)===0&&lo();var s=lt;lt|=1;var i=Fr.transition,u=pt;try{if(Fr.transition=null,pt=1,r)return r()}finally{pt=u,Fr.transition=i,lt=s,(lt&6)===0&&ds()}}function Sf(){Er=oo.current,St(oo)}function oa(r,s){r.finishedWork=null,r.finishedLanes=0;var i=r.timeoutHandle;if(i!==-1&&(r.timeoutHandle=-1,N2(i)),Bt!==null)for(i=Bt.return;i!==null;){var u=i;switch(Du(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ul();break;case 3:no(),St(hr),St(Jt),Wu();break;case 5:Vu(u);break;case 4:no();break;case 13:St(Rt);break;case 19:St(Rt);break;case 10:Fu(u.type._context);break;case 22:case 23:Sf()}i=i.return}if(Wt=r,Bt=r=vs(r.current,null),qt=Er=s,Vt=0,Di=null,gf=uc=sa=0,gr=Mi=null,ta!==null){for(s=0;s<ta.length;s++)if(i=ta[s],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,g=i.pending;if(g!==null){var E=g.next;g.next=h,u.next=E}i.pending=u}ta=null}return r}function pg(r,s){do{var i=Bt;try{if(_u(),ec.current=sc,tc){for(var u=At.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}tc=!1}if(na=0,Ht=Ut=At=null,ki=!1,Ei=0,xf.current=null,i===null||i.return===null){Vt=1,Di=s,Bt=null;break}e:{var g=r,E=i.return,I=i,O=s;if(s=qt,I.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=O,ie=I,ce=ie.tag;if((ie.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=ie.alternate;oe?(ie.updateQueue=oe.updateQueue,ie.memoizedState=oe.memoizedState,ie.lanes=oe.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var Pe=Bx(E);if(Pe!==null){Pe.flags&=-257,zx(Pe,E,I,g,s),Pe.mode&1&&$x(g,K,s),s=Pe,O=K;var De=s.updateQueue;if(De===null){var Le=new Set;Le.add(O),s.updateQueue=Le}else De.add(O);break e}else{if((s&1)===0){$x(g,K,s),Cf();break e}O=Error(a(426))}}else if(Et&&I.mode&1){var _t=Bx(E);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),zx(_t,E,I,g,s),Lu(so(O,I));break e}}g=O=so(O,I),Vt!==4&&(Vt=2),Mi===null?Mi=[g]:Mi.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var z=_x(g,O,s);dx(g,z);break e;case 1:I=O;var _=g.type,G=g.stateNode;if((g.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(hs===null||!hs.has(G)))){g.flags|=65536,s&=-s,g.lanes|=s;var pe=Fx(g,I,s);dx(g,pe);break e}}g=g.return}while(g!==null)}vg(i)}catch(_e){s=_e,Bt===i&&i!==null&&(Bt=i=i.return);continue}break}while(!0)}function xg(){var r=dc.current;return dc.current=sc,r===null?sc:r}function Cf(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Wt===null||(sa&268435455)===0&&(uc&268435455)===0||gs(Wt,qt)}function gc(r,s){var i=lt;lt|=2;var u=xg();(Wt!==r||qt!==s)&&(_n=null,oa(r,s));do try{Y2();break}catch(h){pg(r,h)}while(!0);if(_u(),lt=i,dc.current=u,Bt!==null)throw Error(a(261));return Wt=null,qt=0,Vt}function Y2(){for(;Bt!==null;)gg(Bt)}function q2(){for(;Bt!==null&&!Qd();)gg(Bt)}function gg(r){var s=bg(r.alternate,r,Er);r.memoizedProps=r.pendingProps,s===null?vg(r):Bt=s,xf.current=null}function vg(r){var s=r;do{var i=s.alternate;if(r=s.return,(s.flags&32768)===0){if(i=z2(i,s,Er),i!==null){Bt=i;return}}else{if(i=U2(i,s),i!==null){i.flags&=32767,Bt=i;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Vt=6,Bt=null;return}}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=r}while(s!==null);Vt===0&&(Vt=5)}function ia(r,s,i){var u=pt,h=Fr.transition;try{Fr.transition=null,pt=1,Q2(r,s,i,u)}finally{Fr.transition=h,pt=u}return null}function Q2(r,s,i,u){do lo();while(ps!==null);if((lt&6)!==0)throw Error(a(327));i=r.finishedWork;var h=r.finishedLanes;if(i===null)return null;if(r.finishedWork=null,r.finishedLanes=0,i===r.current)throw Error(a(177));r.callbackNode=null,r.callbackPriority=0;var g=i.lanes|i.childLanes;if(A1(r,g),r===Wt&&(Bt=Wt=null,qt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||mc||(mc=!0,jg($a,function(){return lo(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=Fr.transition,Fr.transition=null;var E=pt;pt=1;var I=lt;lt|=4,xf.current=null,H2(r,i),lg(i,r),x2(Su),Pl=!!Nu,Su=Nu=null,r.current=i,W2(i),Xd(),lt=I,pt=E,Fr.transition=g}else r.current=i;if(mc&&(mc=!1,ps=r,hc=h),g=r.pendingLanes,g===0&&(hs=null),Zd(i.stateNode),vr(r,Pt()),s!==null)for(u=r.onRecoverableError,i=0;i<s.length;i++)h=s[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(fc)throw fc=!1,r=yf,yf=null,r;return(hc&1)!==0&&r.tag!==0&&lo(),g=r.pendingLanes,(g&1)!==0?r===wf?Ii++:(Ii=0,wf=r):Ii=0,ds(),null}function lo(){if(ps!==null){var r=op(hc),s=Fr.transition,i=pt;try{if(Fr.transition=null,pt=16>r?16:r,ps===null)var u=!1;else{if(r=ps,ps=null,hc=0,(lt&6)!==0)throw Error(a(331));var h=lt;for(lt|=4,Te=r.current;Te!==null;){var g=Te,E=g.child;if((Te.flags&16)!==0){var I=g.deletions;if(I!==null){for(var O=0;O<I.length;O++){var K=I[O];for(Te=K;Te!==null;){var ie=Te;switch(ie.tag){case 0:case 11:case 15:Ti(8,ie,g)}var ce=ie.child;if(ce!==null)ce.return=ie,Te=ce;else for(;Te!==null;){ie=Te;var oe=ie.sibling,Pe=ie.return;if(ng(ie),ie===K){Te=null;break}if(oe!==null){oe.return=Pe,Te=oe;break}Te=Pe}}}var De=g.alternate;if(De!==null){var Le=De.child;if(Le!==null){De.child=null;do{var _t=Le.sibling;Le.sibling=null,Le=_t}while(Le!==null)}}Te=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,Te=E;else e:for(;Te!==null;){if(g=Te,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ti(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,Te=z;break e}Te=g.return}}var _=r.current;for(Te=_;Te!==null;){E=Te;var G=E.child;if((E.subtreeFlags&2064)!==0&&G!==null)G.return=E,Te=G;else e:for(E=_;Te!==null;){if(I=Te,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:cc(9,I)}}catch(_e){Mt(I,I.return,_e)}if(I===E){Te=null;break e}var pe=I.sibling;if(pe!==null){pe.return=I.return,Te=pe;break e}Te=I.return}}if(lt=h,ds(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Ba,r)}catch{}u=!0}return u}finally{pt=i,Fr.transition=s}}return!1}function yg(r,s,i){s=so(i,s),s=_x(r,s,1),r=fs(r,s,1),s=ar(),r!==null&&(qr(r,1,s),vr(r,s))}function Mt(r,s,i){if(r.tag===3)yg(r,r,i);else for(;s!==null;){if(s.tag===3){yg(s,r,i);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){r=so(i,r),r=Fx(s,r,1),s=fs(s,r,1),r=ar(),s!==null&&(qr(s,1,r),vr(s,r));break}}s=s.return}}function X2(r,s,i){var u=r.pingCache;u!==null&&u.delete(s),s=ar(),r.pingedLanes|=r.suspendedLanes&i,Wt===r&&(qt&i)===i&&(Vt===4||Vt===3&&(qt&130023424)===qt&&500>Pt()-vf?oa(r,0):gf|=i),vr(r,s)}function wg(r,s){s===0&&((r.mode&1)===0?s=1:(s=ee,ee<<=1,(ee&130023424)===0&&(ee=4194304)));var i=ar();r=In(r,s),r!==null&&(qr(r,s,i),vr(r,i))}function J2(r){var s=r.memoizedState,i=0;s!==null&&(i=s.retryLane),wg(r,i)}function Z2(r,s){var i=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(a(314))}u!==null&&u.delete(s),wg(r,i)}var bg;bg=function(r,s,i){if(r!==null)if(r.memoizedProps!==s.pendingProps||hr.current)xr=!0;else{if((r.lanes&i)===0&&(s.flags&128)===0)return xr=!1,B2(r,s,i);xr=(r.flags&131072)!==0}else xr=!1,Et&&(s.flags&1048576)!==0&&ex(s,Gl,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;ic(r,s),r=s.pendingProps;var h=Qa(s,Jt.current);ro(s,i),h=Yu(null,s,u,r,h,i);var g=qu();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,pr(u)?(g=!0,Vl(s)):g=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,zu(s),h.updater=ac,s.stateNode=h,h._reactInternals=s,tf(s,u,r,i),s=af(null,s,u,!0,g,i)):(s.tag=0,Et&&g&&Tu(s),sr(null,s,h,i),s=s.child),s;case 16:u=s.elementType;e:{switch(ic(r,s),r=s.pendingProps,h=u._init,u=h(u._payload),s.type=u,h=s.tag=tS(u),r=Jr(u,r),h){case 0:s=sf(null,s,u,r,i);break e;case 1:s=Kx(null,s,u,r,i);break e;case 11:s=Ux(null,s,u,r,i);break e;case 14:s=Vx(null,s,u,Jr(u.type,r),i);break e}throw Error(a(306,u,""))}return s;case 0:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Jr(u,h),sf(r,s,u,h,i);case 1:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Jr(u,h),Kx(r,s,u,h,i);case 3:e:{if(Yx(s),r===null)throw Error(a(387));u=s.pendingProps,g=s.memoizedState,h=g.element,cx(r,s),Jl(s,u,null,i);var E=s.memoizedState;if(u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){h=so(Error(a(423)),s),s=qx(r,s,u,i,h);break e}else if(u!==h){h=so(Error(a(424)),s),s=qx(r,s,u,i,h);break e}else for(kr=is(s.stateNode.containerInfo.firstChild),Cr=s,Et=!0,Xr=null,i=ix(s,null,u,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Za(),u===h){s=On(r,s,i);break e}sr(r,s,u,i)}s=s.child}return s;case 5:return fx(s),r===null&&Iu(s),u=s.type,h=s.pendingProps,g=r!==null?r.memoizedProps:null,E=h.children,Cu(u,h)?E=null:g!==null&&Cu(u,g)&&(s.flags|=32),Gx(r,s),sr(r,s,E,i),s.child;case 6:return r===null&&Iu(s),null;case 13:return Qx(r,s,i);case 4:return Uu(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=eo(s,null,u,i):sr(r,s,u,i),s.child;case 11:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Jr(u,h),Ux(r,s,u,h,i);case 7:return sr(r,s,s.pendingProps,i),s.child;case 8:return sr(r,s,s.pendingProps.children,i),s.child;case 12:return sr(r,s,s.pendingProps.children,i),s.child;case 10:e:{if(u=s.type._context,h=s.pendingProps,g=s.memoizedProps,E=h.value,bt(ql,u._currentValue),u._currentValue=E,g!==null)if(Qr(g.value,E)){if(g.children===h.children&&!hr.current){s=On(r,s,i);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var I=g.dependencies;if(I!==null){E=g.child;for(var O=I.firstContext;O!==null;){if(O.context===u){if(g.tag===1){O=Ln(-1,i&-i),O.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),K.pending=O}}g.lanes|=i,O=g.alternate,O!==null&&(O.lanes|=i),$u(g.return,i,s),I.lanes|=i;break}O=O.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(a(341));E.lanes|=i,I=E.alternate,I!==null&&(I.lanes|=i),$u(E,i,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}sr(r,s,h.children,i),s=s.child}return s;case 9:return h=s.type,u=s.pendingProps.children,ro(s,i),h=Or(h),u=u(h),s.flags|=1,sr(r,s,u,i),s.child;case 14:return u=s.type,h=Jr(u,s.pendingProps),h=Jr(u.type,h),Vx(r,s,u,h,i);case 15:return Hx(r,s,s.type,s.pendingProps,i);case 17:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Jr(u,h),ic(r,s),s.tag=1,pr(u)?(r=!0,Vl(s)):r=!1,ro(s,i),Lx(s,u,h),tf(s,u,h,i),af(null,s,u,!0,r,i);case 19:return Jx(r,s,i);case 22:return Wx(r,s,i)}throw Error(a(156,s.tag))};function jg(r,s){return Fa(r,s)}function eS(r,s,i,u){this.tag=r,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(r,s,i,u){return new eS(r,s,i,u)}function kf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function tS(r){if(typeof r=="function")return kf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Z)return 11;if(r===Q)return 14}return 2}function vs(r,s){var i=r.alternate;return i===null?(i=$r(r.tag,s,r.key,r.mode),i.elementType=r.elementType,i.type=r.type,i.stateNode=r.stateNode,i.alternate=r,r.alternate=i):(i.pendingProps=s,i.type=r.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=r.flags&14680064,i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,s=r.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=r.sibling,i.index=r.index,i.ref=r.ref,i}function vc(r,s,i,u,h,g){var E=2;if(u=r,typeof r=="function")kf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return la(i.children,h,g,s);case $:E=8,h|=8;break;case X:return r=$r(12,i,s,h|2),r.elementType=X,r.lanes=g,r;case he:return r=$r(13,i,s,h),r.elementType=he,r.lanes=g,r;case q:return r=$r(19,i,s,h),r.elementType=q,r.lanes=g,r;case xe:return yc(i,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:E=10;break e;case ne:E=9;break e;case Z:E=11;break e;case Q:E=14;break e;case te:E=16,u=null;break e}throw Error(a(130,r==null?r:typeof r,""))}return s=$r(E,i,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function la(r,s,i,u){return r=$r(7,r,u,s),r.lanes=i,r}function yc(r,s,i,u){return r=$r(22,r,u,s),r.elementType=xe,r.lanes=i,r.stateNode={isHidden:!1},r}function Ef(r,s,i){return r=$r(6,r,null,s),r.lanes=i,r}function Pf(r,s,i){return s=$r(4,r.children!==null?r.children:[],r.key,s),s.lanes=i,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function rS(r,s,i,u,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fn(0),this.expirationTimes=fn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fn(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Rf(r,s,i,u,h,g,E,I,O){return r=new rS(r,s,i,I,O),s===1?(s=1,g===!0&&(s|=8)):s=0,g=$r(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(g),r}function nS(r,s,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:u==null?null:""+u,children:r,containerInfo:s,implementation:i}}function Ng(r){if(!r)return cs;r=r._reactInternals;e:{if(Yr(r)!==r||r.tag!==1)throw Error(a(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(pr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(a(171))}if(r.tag===1){var i=r.type;if(pr(i))return Xp(r,i,s)}return s}function Sg(r,s,i,u,h,g,E,I,O){return r=Rf(i,u,!0,r,h,g,E,I,O),r.context=Ng(null),i=r.current,u=ar(),h=xs(i),g=Ln(u,h),g.callback=s??null,fs(i,g,h),r.current.lanes=h,qr(r,h,u),vr(r,u),r}function wc(r,s,i,u){var h=s.current,g=ar(),E=xs(h);return i=Ng(i),s.context===null?s.context=i:s.pendingContext=i,s=Ln(g,E),s.payload={element:r},u=u===void 0?null:u,u!==null&&(s.callback=u),r=fs(h,s,E),r!==null&&(tn(r,h,E,g),Xl(r,h,E)),E}function bc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Cg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var i=r.retryLane;r.retryLane=i!==0&&i<s?i:s}}function Af(r,s){Cg(r,s),(r=r.alternate)&&Cg(r,s)}function sS(){return null}var kg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Tf(r){this._internalRoot=r}jc.prototype.render=Tf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(a(409));wc(r,s,null,null)},jc.prototype.unmount=Tf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;aa(function(){wc(null,r,null,null)}),s[An]=null}};function jc(r){this._internalRoot=r}jc.prototype.unstable_scheduleHydration=function(r){if(r){var s=cp();r={blockedOn:null,target:r,priority:s};for(var i=0;i<ss.length&&s!==0&&s<ss[i].priority;i++);ss.splice(i,0,r),i===0&&fp(r)}};function Df(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Nc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Eg(){}function aS(r,s,i,u,h){if(h){if(typeof u=="function"){var g=u;u=function(){var K=bc(E);g.call(K)}}var E=Sg(s,u,r,0,null,!1,!1,"",Eg);return r._reactRootContainer=E,r[An]=E.current,vi(r.nodeType===8?r.parentNode:r),aa(),E}for(;h=r.lastChild;)r.removeChild(h);if(typeof u=="function"){var I=u;u=function(){var K=bc(O);I.call(K)}}var O=Rf(r,0,!1,null,null,!1,!1,"",Eg);return r._reactRootContainer=O,r[An]=O.current,vi(r.nodeType===8?r.parentNode:r),aa(function(){wc(s,O,i,u)}),O}function Sc(r,s,i,u,h){var g=i._reactRootContainer;if(g){var E=g;if(typeof h=="function"){var I=h;h=function(){var O=bc(E);I.call(O)}}wc(s,E,r,h)}else E=aS(i,s,r,h,u);return bc(E)}ip=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var i=se(s.pendingLanes);i!==0&&(tu(s,i|1),vr(s,Pt()),(lt&6)===0&&(io=Pt()+500,ds()))}break;case 13:aa(function(){var u=In(r,1);if(u!==null){var h=ar();tn(u,r,1,h)}}),Af(r,1)}},ru=function(r){if(r.tag===13){var s=In(r,134217728);if(s!==null){var i=ar();tn(s,r,134217728,i)}Af(r,134217728)}},lp=function(r){if(r.tag===13){var s=xs(r),i=In(r,s);if(i!==null){var u=ar();tn(i,r,s,u)}Af(r,s)}},cp=function(){return pt},dp=function(r,s){var i=pt;try{return pt=r,s()}finally{pt=i}},ot=function(r,s,i){switch(s){case"input":if(Ae(r,i),s=i.name,i.type==="radio"&&s!=null){for(i=r;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var u=i[s];if(u!==r&&u.form===r.form){var h=zl(u);if(!h)throw Error(a(90));qe(u),Ae(u,h)}}}break;case"textarea":Wr(r,i);break;case"select":s=i.value,s!=null&&rt(r,!!i.multiple,s,!1)}},Jn=Nf,Ia=aa;var oS={usingClientEntryPoint:!1,Events:[bi,Ya,zl,Da,Ma,Nf]},Li={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iS={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ys(r),r===null?null:r.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||sS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Ba=Cc.inject(iS),Mr=Cc}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oS,yr.createPortal=function(r,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(s))throw Error(a(200));return nS(r,s,null,i)},yr.createRoot=function(r,s){if(!Df(r))throw Error(a(299));var i=!1,u="",h=kg;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Rf(r,1,!1,null,null,i,!1,u,h),r[An]=s.current,vi(r.nodeType===8?r.parentNode:r),new Tf(s)},yr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=Ys(s),r=r===null?null:r.stateNode,r},yr.flushSync=function(r){return aa(r)},yr.hydrate=function(r,s,i){if(!Nc(s))throw Error(a(200));return Sc(null,r,s,!0,i)},yr.hydrateRoot=function(r,s,i){if(!Df(r))throw Error(a(405));var u=i!=null&&i.hydratedSources||null,h=!1,g="",E=kg;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),s=Sg(s,null,r,1,i??null,h,!1,g,E),r[An]=s.current,vi(r),u)for(r=0;r<u.length;r++)i=u[r],h=i._getVersion,h=h(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,h]:s.mutableSourceEagerHydrationData.push(i,h);return new jc(s)},yr.render=function(r,s,i){if(!Nc(s))throw Error(a(200));return Sc(null,r,s,!1,i)},yr.unmountComponentAtNode=function(r){if(!Nc(r))throw Error(a(40));return r._reactRootContainer?(aa(function(){Sc(null,null,r,!1,function(){r._reactRootContainer=null,r[An]=null})}),!0):!1},yr.unstable_batchedUpdates=Nf,yr.unstable_renderSubtreeIntoContainer=function(r,s,i,u){if(!Nc(i))throw Error(a(200));if(r==null||r._reactInternals===void 0)throw Error(a(38));return Sc(r,s,i,!1,u)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var _g;function wy(){if(_g)return Ff.exports;_g=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Ff.exports=yS(),Ff.exports}var Pa=wy();const Uo=gy(Pa);function le(t,n,{checkForDefaultPrevented:a=!0}={}){return function(l){if(t==null||t(l),a===!1||!l.defaultPrevented)return n==null?void 0:n(l)}}function wS(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function dd(...t){return n=>t.forEach(a=>wS(a,n))}function We(...t){return d.useCallback(dd(...t),t)}function bS(t,n){const a=d.createContext(n);function o(c){const{children:m,...f}=c,x=d.useMemo(()=>f,Object.values(f));return e.jsx(a.Provider,{value:x,children:m})}function l(c){const m=d.useContext(a);if(m)return m;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${t}\``)}return o.displayName=t+"Provider",[o,l]}function dr(t,n=[]){let a=[];function o(c,m){const f=d.createContext(m),x=a.length;a=[...a,m];function p(w){const{scope:v,children:S,...N}=w,b=(v==null?void 0:v[t][x])||f,j=d.useMemo(()=>N,Object.values(N));return e.jsx(b.Provider,{value:j,children:S})}function y(w,v){const S=(v==null?void 0:v[t][x])||f,N=d.useContext(S);if(N)return N;if(m!==void 0)return m;throw new Error(`\`${w}\` must be used within \`${c}\``)}return p.displayName=c+"Provider",[p,y]}const l=()=>{const c=a.map(m=>d.createContext(m));return function(f){const x=(f==null?void 0:f[t])||c;return d.useMemo(()=>({[`__scope${t}`]:{...f,[t]:x}}),[f,x])}};return l.scopeName=t,[o,jS(l,...n)]}function jS(...t){const n=t[0];if(t.length===1)return n;const a=()=>{const o=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const m=o.reduce((f,{useScope:x,scopeName:p})=>{const w=x(c)[`__scope${p}`];return{...f,...w}},{});return d.useMemo(()=>({[`__scope${n.scopeName}`]:m}),[m])}};return a.scopeName=n.scopeName,a}var Hn=d.forwardRef((t,n)=>{const{children:a,...o}=t,l=d.Children.toArray(a),c=l.find(NS);if(c){const m=c.props.children,f=l.map(x=>x===c?d.Children.count(m)>1?d.Children.only(null):d.isValidElement(m)?m.props.children:null:x);return e.jsx(fm,{...o,ref:n,children:d.isValidElement(m)?d.cloneElement(m,void 0,f):null})}return e.jsx(fm,{...o,ref:n,children:a})});Hn.displayName="Slot";var fm=d.forwardRef((t,n)=>{const{children:a,...o}=t;if(d.isValidElement(a)){const l=CS(a);return d.cloneElement(a,{...SS(o,a.props),ref:n?dd(n,l):l})}return d.Children.count(a)>1?d.Children.only(null):null});fm.displayName="SlotClone";var nh=({children:t})=>e.jsx(e.Fragment,{children:t});function NS(t){return d.isValidElement(t)&&t.type===nh}function SS(t,n){const a={...n};for(const o in n){const l=t[o],c=n[o];/^on[A-Z]/.test(o)?l&&c?a[o]=(...f)=>{c(...f),l(...f)}:l&&(a[o]=l):o==="style"?a[o]={...l,...c}:o==="className"&&(a[o]=[l,c].filter(Boolean).join(" "))}return{...t,...a}}function CS(t){var o,l;let n=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function ud(t){const n=t+"CollectionProvider",[a,o]=dr(n),[l,c]=a(n,{collectionRef:{current:null},itemMap:new Map}),m=S=>{const{scope:N,children:b}=S,j=ge.useRef(null),C=ge.useRef(new Map).current;return e.jsx(l,{scope:N,itemMap:C,collectionRef:j,children:b})};m.displayName=n;const f=t+"CollectionSlot",x=ge.forwardRef((S,N)=>{const{scope:b,children:j}=S,C=c(f,b),k=We(N,C.collectionRef);return e.jsx(Hn,{ref:k,children:j})});x.displayName=f;const p=t+"CollectionItemSlot",y="data-radix-collection-item",w=ge.forwardRef((S,N)=>{const{scope:b,children:j,...C}=S,k=ge.useRef(null),P=We(N,k),A=c(p,b);return ge.useEffect(()=>(A.itemMap.set(k,{ref:k,...C}),()=>void A.itemMap.delete(k))),e.jsx(Hn,{[y]:"",ref:P,children:j})});w.displayName=p;function v(S){const N=c(t+"CollectionConsumer",S);return ge.useCallback(()=>{const j=N.collectionRef.current;if(!j)return[];const C=Array.from(j.querySelectorAll(`[${y}]`));return Array.from(N.itemMap.values()).sort((A,T)=>C.indexOf(A.ref.current)-C.indexOf(T.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:m,Slot:x,ItemSlot:w},v,o]}var kS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=kS.reduce((t,n)=>{const a=d.forwardRef((o,l)=>{const{asChild:c,...m}=o,f=c?Hn:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(f,{...m,ref:l})});return a.displayName=`Primitive.${n}`,{...t,[n]:a}},{});function Ra(t,n){t&&Pa.flushSync(()=>t.dispatchEvent(n))}function kt(t){const n=d.useRef(t);return d.useEffect(()=>{n.current=t}),d.useMemo(()=>(...a)=>{var o;return(o=n.current)==null?void 0:o.call(n,...a)},[])}function sl(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t);d.useEffect(()=>{const o=l=>{l.key==="Escape"&&a(l)};return n.addEventListener("keydown",o,{capture:!0}),()=>n.removeEventListener("keydown",o,{capture:!0})},[a,n])}var ES="DismissableLayer",mm="dismissableLayer.update",PS="dismissableLayer.pointerDownOutside",RS="dismissableLayer.focusOutside",Fg,by=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jy=d.forwardRef((t,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:m,onDismiss:f,...x}=t,p=d.useContext(by),[y,w]=d.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=d.useState({}),N=We(n,D=>w(D)),b=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(j),k=y?b.indexOf(y):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,A=k>=C,T=TS(D=>{const $=D.target,X=[...p.branches].some(V=>V.contains($));!A||X||(l==null||l(D),m==null||m(D),D.defaultPrevented||f==null||f())},v),L=DS(D=>{const $=D.target;[...p.branches].some(V=>V.contains($))||(c==null||c(D),m==null||m(D),D.defaultPrevented||f==null||f())},v);return sl(D=>{k===p.layers.size-1&&(o==null||o(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},v),d.useEffect(()=>{if(y)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Fg=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),$g(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Fg)}},[y,v,a,p]),d.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),$g())},[y,p]),d.useEffect(()=>{const D=()=>S({});return document.addEventListener(mm,D),()=>document.removeEventListener(mm,D)},[]),e.jsx(Ne.div,{...x,ref:N,style:{pointerEvents:P?A?"auto":"none":void 0,...t.style},onFocusCapture:le(t.onFocusCapture,L.onFocusCapture),onBlurCapture:le(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:le(t.onPointerDownCapture,T.onPointerDownCapture)})});jy.displayName=ES;var AS="DismissableLayerBranch",Ny=d.forwardRef((t,n)=>{const a=d.useContext(by),o=d.useRef(null),l=We(n,o);return d.useEffect(()=>{const c=o.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),e.jsx(Ne.div,{...t,ref:l})});Ny.displayName=AS;function TS(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1),l=d.useRef(()=>{});return d.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let x=function(){Sy(PS,a,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=x,n.addEventListener("click",l.current,{once:!0})):x()}else n.removeEventListener("click",l.current);o.current=!1},m=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(m),n.removeEventListener("pointerdown",c),n.removeEventListener("click",l.current)}},[n,a]),{onPointerDownCapture:()=>o.current=!0}}function DS(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1);return d.useEffect(()=>{const l=c=>{c.target&&!o.current&&Sy(RS,a,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function $g(){const t=new CustomEvent(mm);document.dispatchEvent(t)}function Sy(t,n,a,{discrete:o}){const l=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});n&&l.addEventListener(t,n,{once:!0}),o?Ra(l,c):l.dispatchEvent(c)}var MS=jy,IS=Ny,jt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},LS="Portal",Cy=d.forwardRef((t,n)=>{var f;const{container:a,...o}=t,[l,c]=d.useState(!1);jt(()=>c(!0),[]);const m=a||l&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return m?Uo.createPortal(e.jsx(Ne.div,{...o,ref:n}),m):null});Cy.displayName=LS;function OS(t,n){return d.useReducer((a,o)=>n[a][o]??a,t)}var Hr=t=>{const{present:n,children:a}=t,o=_S(n),l=typeof a=="function"?a({present:o.isPresent}):d.Children.only(a),c=We(o.ref,FS(l));return typeof a=="function"||o.isPresent?d.cloneElement(l,{ref:c}):null};Hr.displayName="Presence";function _S(t){const[n,a]=d.useState(),o=d.useRef({}),l=d.useRef(t),c=d.useRef("none"),m=t?"mounted":"unmounted",[f,x]=OS(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const p=Ec(o.current);c.current=f==="mounted"?p:"none"},[f]),jt(()=>{const p=o.current,y=l.current;if(y!==t){const v=c.current,S=Ec(p);t?x("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?x("UNMOUNT"):x(y&&v!==S?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,x]),jt(()=>{if(n){const p=w=>{const S=Ec(o.current).includes(w.animationName);w.target===n&&S&&Pa.flushSync(()=>x("ANIMATION_END"))},y=w=>{w.target===n&&(c.current=Ec(o.current))};return n.addEventListener("animationstart",y),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{n.removeEventListener("animationstart",y),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else x("ANIMATION_END")},[n,x]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:d.useCallback(p=>{p&&(o.current=getComputedStyle(p)),a(p)},[])}}function Ec(t){return(t==null?void 0:t.animationName)||"none"}function FS(t){var o,l;let n=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function Vr({prop:t,defaultProp:n,onChange:a=()=>{}}){const[o,l]=$S({defaultProp:n,onChange:a}),c=t!==void 0,m=c?t:o,f=kt(a),x=d.useCallback(p=>{if(c){const w=typeof p=="function"?p(t):p;w!==t&&f(w)}else l(p)},[c,t,l,f]);return[m,x]}function $S({defaultProp:t,onChange:n}){const a=d.useState(t),[o]=a,l=d.useRef(o),c=kt(n);return d.useEffect(()=>{l.current!==o&&(c(o),l.current=o)},[o,l,c]),a}var BS="VisuallyHidden",al=d.forwardRef((t,n)=>e.jsx(Ne.span,{...t,ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));al.displayName=BS;var zS=al,sh="ToastProvider",[ah,US,VS]=ud("Toast"),[ky,sM]=dr("Toast",[VS]),[HS,fd]=ky(sh),Ey=t=>{const{__scopeToast:n,label:a="Notification",duration:o=5e3,swipeDirection:l="right",swipeThreshold:c=50,children:m}=t,[f,x]=d.useState(null),[p,y]=d.useState(0),w=d.useRef(!1),v=d.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${sh}\`. Expected non-empty \`string\`.`),e.jsx(ah.Provider,{scope:n,children:e.jsx(HS,{scope:n,label:a,duration:o,swipeDirection:l,swipeThreshold:c,toastCount:p,viewport:f,onViewportChange:x,onToastAdd:d.useCallback(()=>y(S=>S+1),[]),onToastRemove:d.useCallback(()=>y(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:v,children:m})})};Ey.displayName=sh;var Py="ToastViewport",WS=["F8"],hm="toast.viewportPause",pm="toast.viewportResume",Ry=d.forwardRef((t,n)=>{const{__scopeToast:a,hotkey:o=WS,label:l="Notifications ({hotkey})",...c}=t,m=fd(Py,a),f=US(a),x=d.useRef(null),p=d.useRef(null),y=d.useRef(null),w=d.useRef(null),v=We(n,w,m.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=m.toastCount>0;d.useEffect(()=>{const j=C=>{var P;o.every(A=>C[A]||C.code===A)&&((P=w.current)==null||P.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[o]),d.useEffect(()=>{const j=x.current,C=w.current;if(N&&j&&C){const k=()=>{if(!m.isClosePausedRef.current){const L=new CustomEvent(hm);C.dispatchEvent(L),m.isClosePausedRef.current=!0}},P=()=>{if(m.isClosePausedRef.current){const L=new CustomEvent(pm);C.dispatchEvent(L),m.isClosePausedRef.current=!1}},A=L=>{!j.contains(L.relatedTarget)&&P()},T=()=>{j.contains(document.activeElement)||P()};return j.addEventListener("focusin",k),j.addEventListener("focusout",A),j.addEventListener("pointermove",k),j.addEventListener("pointerleave",T),window.addEventListener("blur",k),window.addEventListener("focus",P),()=>{j.removeEventListener("focusin",k),j.removeEventListener("focusout",A),j.removeEventListener("pointermove",k),j.removeEventListener("pointerleave",T),window.removeEventListener("blur",k),window.removeEventListener("focus",P)}}},[N,m.isClosePausedRef]);const b=d.useCallback(({tabbingDirection:j})=>{const k=f().map(P=>{const A=P.ref.current,T=[A,...sC(A)];return j==="forwards"?T:T.reverse()});return(j==="forwards"?k.reverse():k).flat()},[f]);return d.useEffect(()=>{const j=w.current;if(j){const C=k=>{var T,L,D;const P=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!P){const $=document.activeElement,X=k.shiftKey;if(k.target===j&&X){(T=p.current)==null||T.focus();return}const Z=b({tabbingDirection:X?"backwards":"forwards"}),he=Z.findIndex(q=>q===$);zf(Z.slice(he+1))?k.preventDefault():X?(L=p.current)==null||L.focus():(D=y.current)==null||D.focus()}};return j.addEventListener("keydown",C),()=>j.removeEventListener("keydown",C)}},[f,b]),e.jsxs(IS,{ref:x,role:"region","aria-label":l.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&e.jsx(xm,{ref:p,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"forwards"});zf(j)}}),e.jsx(ah.Slot,{scope:a,children:e.jsx(Ne.ol,{tabIndex:-1,...c,ref:v})}),N&&e.jsx(xm,{ref:y,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"backwards"});zf(j)}})]})});Ry.displayName=Py;var Ay="ToastFocusProxy",xm=d.forwardRef((t,n)=>{const{__scopeToast:a,onFocusFromOutsideViewport:o,...l}=t,c=fd(Ay,a);return e.jsx(al,{"aria-hidden":!0,tabIndex:0,...l,ref:n,style:{position:"fixed"},onFocus:m=>{var p;const f=m.relatedTarget;!((p=c.viewport)!=null&&p.contains(f))&&o()}})});xm.displayName=Ay;var md="Toast",GS="toast.swipeStart",KS="toast.swipeMove",YS="toast.swipeCancel",qS="toast.swipeEnd",Ty=d.forwardRef((t,n)=>{const{forceMount:a,open:o,defaultOpen:l,onOpenChange:c,...m}=t,[f=!0,x]=Vr({prop:o,defaultProp:l,onChange:c});return e.jsx(Hr,{present:a||f,children:e.jsx(JS,{open:f,...m,ref:n,onClose:()=>x(!1),onPause:kt(t.onPause),onResume:kt(t.onResume),onSwipeStart:le(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(t.onSwipeMove,p=>{const{x:y,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:le(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(t.onSwipeEnd,p=>{const{x:y,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),x(!1)})})})});Ty.displayName=md;var[QS,XS]=ky(md,{onClose(){}}),JS=d.forwardRef((t,n)=>{const{__scopeToast:a,type:o="foreground",duration:l,open:c,onClose:m,onEscapeKeyDown:f,onPause:x,onResume:p,onSwipeStart:y,onSwipeMove:w,onSwipeCancel:v,onSwipeEnd:S,...N}=t,b=fd(md,a),[j,C]=d.useState(null),k=We(n,q=>C(q)),P=d.useRef(null),A=d.useRef(null),T=l||b.duration,L=d.useRef(0),D=d.useRef(T),$=d.useRef(0),{onToastAdd:X,onToastRemove:V}=b,ne=kt(()=>{var Q;(j==null?void 0:j.contains(document.activeElement))&&((Q=b.viewport)==null||Q.focus()),m()}),Z=d.useCallback(q=>{!q||q===1/0||(window.clearTimeout($.current),L.current=new Date().getTime(),$.current=window.setTimeout(ne,q))},[ne]);d.useEffect(()=>{const q=b.viewport;if(q){const Q=()=>{Z(D.current),p==null||p()},te=()=>{const xe=new Date().getTime()-L.current;D.current=D.current-xe,window.clearTimeout($.current),x==null||x()};return q.addEventListener(hm,te),q.addEventListener(pm,Q),()=>{q.removeEventListener(hm,te),q.removeEventListener(pm,Q)}}},[b.viewport,T,x,p,Z]),d.useEffect(()=>{c&&!b.isClosePausedRef.current&&Z(T)},[c,T,b.isClosePausedRef,Z]),d.useEffect(()=>(X(),()=>V()),[X,V]);const he=d.useMemo(()=>j?Fy(j):null,[j]);return b.viewport?e.jsxs(e.Fragment,{children:[he&&e.jsx(ZS,{__scopeToast:a,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:he}),e.jsx(QS,{scope:a,onClose:ne,children:Pa.createPortal(e.jsx(ah.ItemSlot,{scope:a,children:e.jsx(MS,{asChild:!0,onEscapeKeyDown:le(f,()=>{b.isFocusedToastEscapeKeyDownRef.current||ne(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":b.swipeDirection,...N,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:le(t.onKeyDown,q=>{q.key==="Escape"&&(f==null||f(q.nativeEvent),q.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,ne()))}),onPointerDown:le(t.onPointerDown,q=>{q.button===0&&(P.current={x:q.clientX,y:q.clientY})}),onPointerMove:le(t.onPointerMove,q=>{if(!P.current)return;const Q=q.clientX-P.current.x,te=q.clientY-P.current.y,xe=!!A.current,F=["left","right"].includes(b.swipeDirection),U=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,re=F?U(0,Q):0,M=F?0:U(0,te),H=q.pointerType==="touch"?10:2,fe={x:re,y:M},be={originalEvent:q,delta:fe};xe?(A.current=fe,Pc(KS,w,be,{discrete:!1})):Bg(fe,b.swipeDirection,H)?(A.current=fe,Pc(GS,y,be,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(Q)>H||Math.abs(te)>H)&&(P.current=null)}),onPointerUp:le(t.onPointerUp,q=>{const Q=A.current,te=q.target;if(te.hasPointerCapture(q.pointerId)&&te.releasePointerCapture(q.pointerId),A.current=null,P.current=null,Q){const xe=q.currentTarget,F={originalEvent:q,delta:Q};Bg(Q,b.swipeDirection,b.swipeThreshold)?Pc(qS,S,F,{discrete:!0}):Pc(YS,v,F,{discrete:!0}),xe.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),ZS=t=>{const{__scopeToast:n,children:a,...o}=t,l=fd(md,n),[c,m]=d.useState(!1),[f,x]=d.useState(!1);return rC(()=>m(!0)),d.useEffect(()=>{const p=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(p)},[]),f?null:e.jsx(Cy,{asChild:!0,children:e.jsx(al,{...o,children:c&&e.jsxs(e.Fragment,{children:[l.label," ",a]})})})},eC="ToastTitle",Dy=d.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t;return e.jsx(Ne.div,{...o,ref:n})});Dy.displayName=eC;var tC="ToastDescription",My=d.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t;return e.jsx(Ne.div,{...o,ref:n})});My.displayName=tC;var Iy="ToastAction",Ly=d.forwardRef((t,n)=>{const{altText:a,...o}=t;return a.trim()?e.jsx(_y,{altText:a,asChild:!0,children:e.jsx(oh,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${Iy}\`. Expected non-empty \`string\`.`),null)});Ly.displayName=Iy;var Oy="ToastClose",oh=d.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t,l=XS(Oy,a);return e.jsx(_y,{asChild:!0,children:e.jsx(Ne.button,{type:"button",...o,ref:n,onClick:le(t.onClick,l.onClose)})})});oh.displayName=Oy;var _y=d.forwardRef((t,n)=>{const{__scopeToast:a,altText:o,...l}=t;return e.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...l,ref:n})});function Fy(t){const n=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),nC(o)){const l=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!l)if(c){const m=o.dataset.radixToastAnnounceAlt;m&&n.push(m)}else n.push(...Fy(o))}}),n}function Pc(t,n,a,{discrete:o}){const l=a.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});n&&l.addEventListener(t,n,{once:!0}),o?Ra(l,c):l.dispatchEvent(c)}var Bg=(t,n,a=0)=>{const o=Math.abs(t.x),l=Math.abs(t.y),c=o>l;return n==="left"||n==="right"?c&&o>a:!c&&l>a};function rC(t=()=>{}){const n=kt(t);jt(()=>{let a=0,o=0;return a=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(o)}},[n])}function nC(t){return t.nodeType===t.ELEMENT_NODE}function sC(t){const n=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function zf(t){const n=document.activeElement;return t.some(a=>a===n?!0:(a.focus(),document.activeElement!==n))}var aC=Ey,$y=Ry,By=Ty,zy=Dy,Uy=My,Vy=Ly,Hy=oh;function Wy(t){var n,a,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(n=0;n<l;n++)t[n]&&(a=Wy(t[n]))&&(o&&(o+=" "),o+=a)}else for(a in t)t[a]&&(o&&(o+=" "),o+=a);return o}function Gy(){for(var t,n,a=0,o="",l=arguments.length;a<l;a++)(t=arguments[a])&&(n=Wy(t))&&(o&&(o+=" "),o+=n);return o}const zg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ug=Gy,ol=(t,n)=>a=>{var o;if((n==null?void 0:n.variants)==null)return Ug(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:l,defaultVariants:c}=n,m=Object.keys(l).map(p=>{const y=a==null?void 0:a[p],w=c==null?void 0:c[p];if(y===null)return null;const v=zg(y)||zg(w);return l[p][v]}),f=a&&Object.entries(a).reduce((p,y)=>{let[w,v]=y;return v===void 0||(p[w]=v),p},{}),x=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((p,y)=>{let{class:w,className:v,...S}=y;return Object.entries(S).every(N=>{let[b,j]=N;return Array.isArray(j)?j.includes({...c,...f}[b]):{...c,...f}[b]===j})?[...p,w,v]:p},[]);return Ug(t,m,x,a==null?void 0:a.class,a==null?void 0:a.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ky=(...t)=>t.filter((n,a,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===a).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=d.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:m,...f},x)=>d.createElement("svg",{ref:x,...iC,width:n,height:n,stroke:t,strokeWidth:o?Number(a)*24/Number(n):a,className:Ky("lucide",l),...f},[...m.map(([p,y])=>d.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,n)=>{const a=d.forwardRef(({className:o,...l},c)=>d.createElement(lC,{ref:c,iconNode:n,className:Ky(`lucide-${oC(t)}`,o),...l}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Se("BookPlus",[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Se("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=Se("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Se("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=Se("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=Se("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Se("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Se("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Se("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=Se("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Se("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Se("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),uh="-",CC=t=>{const n=EC(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:m=>{const f=m.split(uh);return f[0]===""&&f.length!==1&&f.shift(),r0(f,n)||kC(m)},getConflictingClassGroupIds:(m,f)=>{const x=a[m]||[];return f&&o[m]?[...x,...o[m]]:x}}},r0=(t,n)=>{var m;if(t.length===0)return n.classGroupId;const a=t[0],o=n.nextPart.get(a),l=o?r0(t.slice(1),o):void 0;if(l)return l;if(n.validators.length===0)return;const c=t.join(uh);return(m=n.validators.find(({validator:f})=>f(c)))==null?void 0:m.classGroupId},qg=/^\[(.+)\]$/,kC=t=>{if(qg.test(t)){const n=qg.exec(t)[1],a=n==null?void 0:n.substring(0,n.indexOf(":"));if(a)return"arbitrary.."+a}},EC=t=>{const{theme:n,prefix:a}=t,o={nextPart:new Map,validators:[]};return RC(Object.entries(t.classGroups),a).forEach(([c,m])=>{vm(m,o,c,n)}),o},vm=(t,n,a,o)=>{t.forEach(l=>{if(typeof l=="string"){const c=l===""?n:Qg(n,l);c.classGroupId=a;return}if(typeof l=="function"){if(PC(l)){vm(l(o),n,a,o);return}n.validators.push({validator:l,classGroupId:a});return}Object.entries(l).forEach(([c,m])=>{vm(m,Qg(n,c),a,o)})})},Qg=(t,n)=>{let a=t;return n.split(uh).forEach(o=>{a.nextPart.has(o)||a.nextPart.set(o,{nextPart:new Map,validators:[]}),a=a.nextPart.get(o)}),a},PC=t=>t.isThemeGetter,RC=(t,n)=>n?t.map(([a,o])=>{const l=o.map(c=>typeof c=="string"?n+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([m,f])=>[n+m,f])):c);return[a,l]}):t,AC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let n=0,a=new Map,o=new Map;const l=(c,m)=>{a.set(c,m),n++,n>t&&(n=0,o=a,a=new Map)};return{get(c){let m=a.get(c);if(m!==void 0)return m;if((m=o.get(c))!==void 0)return l(c,m),m},set(c,m){a.has(c)?a.set(c,m):l(c,m)}}},n0="!",TC=t=>{const{separator:n,experimentalParseClassName:a}=t,o=n.length===1,l=n[0],c=n.length,m=f=>{const x=[];let p=0,y=0,w;for(let j=0;j<f.length;j++){let C=f[j];if(p===0){if(C===l&&(o||f.slice(j,j+c)===n)){x.push(f.slice(y,j)),y=j+c;continue}if(C==="/"){w=j;continue}}C==="["?p++:C==="]"&&p--}const v=x.length===0?f:f.substring(y),S=v.startsWith(n0),N=S?v.substring(1):v,b=w&&w>y?w-y:void 0;return{modifiers:x,hasImportantModifier:S,baseClassName:N,maybePostfixModifierPosition:b}};return a?f=>a({className:f,parseClassName:m}):m},DC=t=>{if(t.length<=1)return t;const n=[];let a=[];return t.forEach(o=>{o[0]==="["?(n.push(...a.sort(),o),a=[]):a.push(o)}),n.push(...a.sort()),n},MC=t=>({cache:AC(t.cacheSize),parseClassName:TC(t),...CC(t)}),IC=/\s+/,LC=(t,n)=>{const{parseClassName:a,getClassGroupId:o,getConflictingClassGroupIds:l}=n,c=[],m=t.trim().split(IC);let f="";for(let x=m.length-1;x>=0;x-=1){const p=m[x],{modifiers:y,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:S}=a(p);let N=!!S,b=o(N?v.substring(0,S):v);if(!b){if(!N){f=p+(f.length>0?" "+f:f);continue}if(b=o(v),!b){f=p+(f.length>0?" "+f:f);continue}N=!1}const j=DC(y).join(":"),C=w?j+n0:j,k=C+b;if(c.includes(k))continue;c.push(k);const P=l(b,N);for(let A=0;A<P.length;++A){const T=P[A];c.push(C+T)}f=p+(f.length>0?" "+f:f)}return f};function OC(){let t=0,n,a,o="";for(;t<arguments.length;)(n=arguments[t++])&&(a=s0(n))&&(o&&(o+=" "),o+=a);return o}const s0=t=>{if(typeof t=="string")return t;let n,a="";for(let o=0;o<t.length;o++)t[o]&&(n=s0(t[o]))&&(a&&(a+=" "),a+=n);return a};function _C(t,...n){let a,o,l,c=m;function m(x){const p=n.reduce((y,w)=>w(y),t());return a=MC(p),o=a.cache.get,l=a.cache.set,c=f,f(x)}function f(x){const p=o(x);if(p)return p;const y=LC(x,a);return l(x,y),y}return function(){return c(OC.apply(null,arguments))}}const Ct=t=>{const n=a=>a[t]||[];return n.isThemeGetter=!0,n},a0=/^\[(?:([a-z-]+):)?(.+)\]$/i,FC=/^\d+\/\d+$/,$C=new Set(["px","full","screen"]),BC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fn=t=>bo(t)||$C.has(t)||FC.test(t),ws=t=>Vo(t,"length",JC),bo=t=>!!t&&!Number.isNaN(Number(t)),Vf=t=>Vo(t,"number",bo),_i=t=>!!t&&Number.isInteger(Number(t)),WC=t=>t.endsWith("%")&&bo(t.slice(0,-1)),et=t=>a0.test(t),bs=t=>BC.test(t),GC=new Set(["length","size","percentage"]),KC=t=>Vo(t,GC,o0),YC=t=>Vo(t,"position",o0),qC=new Set(["image","url"]),QC=t=>Vo(t,qC,ek),XC=t=>Vo(t,"",ZC),Fi=()=>!0,Vo=(t,n,a)=>{const o=a0.exec(t);return o?o[1]?typeof n=="string"?o[1]===n:n.has(o[1]):a(o[2]):!1},JC=t=>zC.test(t)&&!UC.test(t),o0=()=>!1,ZC=t=>VC.test(t),ek=t=>HC.test(t),tk=()=>{const t=Ct("colors"),n=Ct("spacing"),a=Ct("blur"),o=Ct("brightness"),l=Ct("borderColor"),c=Ct("borderRadius"),m=Ct("borderSpacing"),f=Ct("borderWidth"),x=Ct("contrast"),p=Ct("grayscale"),y=Ct("hueRotate"),w=Ct("invert"),v=Ct("gap"),S=Ct("gradientColorStops"),N=Ct("gradientColorStopPositions"),b=Ct("inset"),j=Ct("margin"),C=Ct("opacity"),k=Ct("padding"),P=Ct("saturate"),A=Ct("scale"),T=Ct("sepia"),L=Ct("skew"),D=Ct("space"),$=Ct("translate"),X=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",et,n],Z=()=>[et,n],he=()=>["",Fn,ws],q=()=>["auto",bo,et],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",et],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[bo,et];return{cacheSize:500,separator:":",theme:{colors:[Fi],spacing:[Fn,ws],blur:["none","",bs,et],brightness:M(),borderColor:[t],borderRadius:["none","","full",bs,et],borderSpacing:Z(),borderWidth:he(),contrast:M(),grayscale:U(),hueRotate:M(),invert:U(),gap:Z(),gradientColorStops:[t],gradientColorStopPositions:[WC,ws],inset:ne(),margin:ne(),opacity:M(),padding:Z(),saturate:M(),scale:M(),sepia:U(),skew:M(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),et]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_i,et]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",_i,et]}],"grid-cols":[{"grid-cols":[Fi]}],"col-start-end":[{col:["auto",{span:["full",_i,et]},et]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Fi]}],"row-start-end":[{row:["auto",{span:[_i,et]},et]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,n]}],"min-w":[{"min-w":[et,n,"min","max","fit"]}],"max-w":[{"max-w":[et,n,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[et,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,n,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vf]}],"font-family":[{font:[Fi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",bo,Vf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fn,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fn,ws]}],"underline-offset":[{"underline-offset":["auto",Fn,et]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),YC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:te()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Fn,et]}],"outline-w":[{outline:[Fn,ws]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Fn,ws]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bs,XC]}],"shadow-color":[{shadow:[Fi]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[o]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",bs,et]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[w]}],saturate:[{saturate:[P]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[m]}],"border-spacing-x":[{"border-spacing-x":[m]}],"border-spacing-y":[{"border-spacing-y":[m]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[_i,et]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fn,ws,Vf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rk=_C(tk),Xg="recentSearches";function fh(t){if(!t.trim())return;let n=JSON.parse(localStorage.getItem(Xg)||"[]");n=n.filter(a=>a.toLowerCase()!==t.toLowerCase()),n.unshift(t),n.length>10&&(n=n.slice(0,10)),localStorage.setItem(Xg,JSON.stringify(n))}function Me(...t){return rk(Gy(t))}const nk=aC,i0=d.forwardRef(({className:t,...n},a)=>e.jsx($y,{ref:a,className:Me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...n}));i0.displayName=$y.displayName;const sk=ol("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),l0=d.forwardRef(({className:t,variant:n,...a},o)=>e.jsx(By,{ref:o,className:Me(sk({variant:n}),t),...a}));l0.displayName=By.displayName;const ak=d.forwardRef(({className:t,...n},a)=>e.jsx(Vy,{ref:a,className:Me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...n}));ak.displayName=Vy.displayName;const c0=d.forwardRef(({className:t,...n},a)=>e.jsx(Hy,{ref:a,className:Me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...n,children:e.jsx(Os,{className:"h-4 w-4"})}));c0.displayName=Hy.displayName;const d0=d.forwardRef(({className:t,...n},a)=>e.jsx(zy,{ref:a,className:Me("text-sm font-semibold",t),...n}));d0.displayName=zy.displayName;const u0=d.forwardRef(({className:t,...n},a)=>e.jsx(Uy,{ref:a,className:Me("text-sm opacity-90",t),...n}));u0.displayName=Uy.displayName;function ok(){const{toasts:t}=yy();return e.jsxs(nk,{children:[t.map(function({id:n,title:a,description:o,action:l,...c}){return e.jsxs(l0,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(d0,{children:a}),o&&e.jsx(u0,{children:o})]}),l,e.jsx(c0,{})]},n)}),e.jsx(i0,{})]})}var Rc={},Jg;function ik(){if(Jg)return Rc;Jg=1;var t=wy();return Rc.createRoot=t.createRoot,Rc.hydrateRoot=t.hydrateRoot,Rc}var lk=ik(),Zg=["light","dark"],ck="(prefers-color-scheme: dark)",dk=d.createContext(void 0),uk={setTheme:t=>{},themes:[]},fk=()=>{var t;return(t=d.useContext(dk))!=null?t:uk};d.memo(({forcedTheme:t,storageKey:n,attribute:a,enableSystem:o,enableColorScheme:l,defaultTheme:c,value:m,attrs:f,nonce:x})=>{let p=c==="system",y=a==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${f.map(N=>`'${N}'`).join(",")})`};`:`var d=document.documentElement,n='${a}',s='setAttribute';`,w=l?Zg.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(N,b=!1,j=!0)=>{let C=m?m[N]:N,k=b?N+"|| ''":`'${C}'`,P="";return l&&j&&!b&&Zg.includes(N)&&(P+=`d.style.colorScheme = '${N}';`),a==="class"?b||C?P+=`c.add(${k})`:P+="null":C&&(P+=`d[s](n,${k})`),P},S=t?`!function(){${y}${v(t)}}()`:o?`!function(){try{${y}var e=localStorage.getItem('${n}');if('system'===e||(!e&&${p})){var t='${ck}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${m?`var x=${JSON.stringify(m)};`:""}${v(m?"x[e]":"e",!0)}}${p?"":"else{"+v(c,!1,!1)+"}"}${w}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${n}');if(e){${m?`var x=${JSON.stringify(m)};`:""}${v(m?"x[e]":"e",!0)}}else{${v(c,!1,!1)};}${w}}catch(t){}}();`;return d.createElement("script",{nonce:x,dangerouslySetInnerHTML:{__html:S}})});var mk=t=>{switch(t){case"success":return xk;case"info":return vk;case"warning":return gk;case"error":return yk;default:return null}},hk=Array(12).fill(0),pk=({visible:t})=>ge.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},ge.createElement("div",{className:"sonner-spinner"},hk.map((n,a)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),xk=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gk=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vk=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yk=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wk=()=>{let[t,n]=ge.useState(document.hidden);return ge.useEffect(()=>{let a=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t},ym=1,bk=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:a,...o}=t,l=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:ym++,c=this.toasts.find(f=>f.id===l),m=t.dismissible===void 0?!0:t.dismissible;return c?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...t,id:l,title:a}),{...f,...t,id:l,dismissible:m,title:a}):f):this.addToast({title:a,...o,dismissible:m,id:l}),l},this.dismiss=t=>(t||this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let o=t instanceof Promise?t:t(),l=a!==void 0;return o.then(async c=>{if(Nk(c)&&!c.ok){l=!1;let m=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:a,type:"error",message:m,description:f})}else if(n.success!==void 0){l=!1;let m=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:a,type:"success",message:m,description:f})}}).catch(async c=>{if(n.error!==void 0){l=!1;let m=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:a,type:"error",message:m,description:f})}}).finally(()=>{var c;l&&(this.dismiss(a),a=void 0),(c=n.finally)==null||c.call(n)}),a},this.custom=(t,n)=>{let a=(n==null?void 0:n.id)||ym++;return this.create({jsx:t(a),id:a,...n}),a},this.subscribers=[],this.toasts=[]}},Ar=new bk,jk=(t,n)=>{let a=(n==null?void 0:n.id)||ym++;return Ar.addToast({title:t,...n,id:a}),a},Nk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Sk=jk,Ck=()=>Ar.toasts,it=Object.assign(Sk,{success:Ar.success,info:Ar.info,warning:Ar.warning,error:Ar.error,custom:Ar.custom,message:Ar.message,promise:Ar.promise,dismiss:Ar.dismiss,loading:Ar.loading},{getHistory:Ck});function kk(t,{insertAt:n}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}kk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ac(t){return t.label!==void 0}var Ek=3,Pk="32px",Rk=4e3,Ak=356,Tk=14,Dk=20,Mk=200;function Ik(...t){return t.filter(Boolean).join(" ")}var Lk=t=>{var n,a,o,l,c,m,f,x,p,y;let{invert:w,toast:v,unstyled:S,interacting:N,setHeights:b,visibleToasts:j,heights:C,index:k,toasts:P,expanded:A,removeToast:T,defaultRichColors:L,closeButton:D,style:$,cancelButtonStyle:X,actionButtonStyle:V,className:ne="",descriptionClassName:Z="",duration:he,position:q,gap:Q,loadingIcon:te,expandByDefault:xe,classNames:F,icons:U,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:M,cn:H}=t,[fe,be]=ge.useState(!1),[ke,ve]=ge.useState(!1),[me,je]=ge.useState(!1),[Ee,Oe]=ge.useState(!1),[Qe,qe]=ge.useState(0),[Y,Fe]=ge.useState(0),He=ge.useRef(null),J=ge.useRef(null),Ae=k===0,Je=k+1<=j,ze=v.type,ct=v.dismissible!==!1,rt=v.className||"",gt=v.descriptionClassName||"",Tt=ge.useMemo(()=>C.findIndex(Ge=>Ge.toastId===v.id)||0,[C,v.id]),Wr=ge.useMemo(()=>{var Ge;return(Ge=v.closeButton)!=null?Ge:D},[v.closeButton,D]),kn=ge.useMemo(()=>v.duration||he||Rk,[v.duration,he]),fr=ge.useRef(0),W=ge.useRef(0),Ie=ge.useRef(0),Ke=ge.useRef(null),[vt,En]=q.split("-"),Qn=ge.useMemo(()=>C.reduce((Ge,dt,ot)=>ot>=Tt?Ge:Ge+dt.height,0),[C,Tt]),dn=wk(),Pn=v.invert||w,Ot=ze==="loading";W.current=ge.useMemo(()=>Tt*Q+Qn,[Tt,Qn]),ge.useEffect(()=>{be(!0)},[]),ge.useLayoutEffect(()=>{if(!fe)return;let Ge=J.current,dt=Ge.style.height;Ge.style.height="auto";let ot=Ge.getBoundingClientRect().height;Ge.style.height=dt,Fe(ot),b($t=>$t.find(Dt=>Dt.toastId===v.id)?$t.map(Dt=>Dt.toastId===v.id?{...Dt,height:ot}:Dt):[{toastId:v.id,height:ot,position:v.position},...$t])},[fe,v.title,v.description,b,v.id]);let mr=ge.useCallback(()=>{ve(!0),qe(W.current),b(Ge=>Ge.filter(dt=>dt.toastId!==v.id)),setTimeout(()=>{T(v)},Mk)},[v,T,b,W]);ge.useEffect(()=>{if(v.promise&&ze==="loading"||v.duration===1/0||v.type==="loading")return;let Ge,dt=kn;return A||N||M&&dn?(()=>{if(Ie.current<fr.current){let ot=new Date().getTime()-fr.current;dt=dt-ot}Ie.current=new Date().getTime()})():dt!==1/0&&(fr.current=new Date().getTime(),Ge=setTimeout(()=>{var ot;(ot=v.onAutoClose)==null||ot.call(v,v),mr()},dt)),()=>clearTimeout(Ge)},[A,N,xe,v,kn,mr,v.promise,ze,M,dn]),ge.useEffect(()=>{let Ge=J.current;if(Ge){let dt=Ge.getBoundingClientRect().height;return Fe(dt),b(ot=>[{toastId:v.id,height:dt,position:v.position},...ot]),()=>b(ot=>ot.filter($t=>$t.toastId!==v.id))}},[b,v.id]),ge.useEffect(()=>{v.delete&&mr()},[mr,v.delete]);function Xn(){return U!=null&&U.loading?ge.createElement("div",{className:"sonner-loader","data-visible":ze==="loading"},U.loading):te?ge.createElement("div",{className:"sonner-loader","data-visible":ze==="loading"},te):ge.createElement(pk,{visible:ze==="loading"})}return ge.createElement("li",{"aria-live":v.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:J,className:H(ne,rt,F==null?void 0:F.toast,(n=v==null?void 0:v.classNames)==null?void 0:n.toast,F==null?void 0:F.default,F==null?void 0:F[ze],(a=v==null?void 0:v.classNames)==null?void 0:a[ze]),"data-sonner-toast":"","data-rich-colors":(o=v.richColors)!=null?o:L,"data-styled":!(v.jsx||v.unstyled||S),"data-mounted":fe,"data-promise":!!v.promise,"data-removed":ke,"data-visible":Je,"data-y-position":vt,"data-x-position":En,"data-index":k,"data-front":Ae,"data-swiping":me,"data-dismissible":ct,"data-type":ze,"data-invert":Pn,"data-swipe-out":Ee,"data-expanded":!!(A||xe&&fe),style:{"--index":k,"--toasts-before":k,"--z-index":P.length-k,"--offset":`${ke?Qe:W.current}px`,"--initial-height":xe?"auto":`${Y}px`,...$,...v.style},onPointerDown:Ge=>{Ot||!ct||(He.current=new Date,qe(W.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(je(!0),Ke.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,dt,ot,$t;if(Ee||!ct)return;Ke.current=null;let Dt=Number(((Ge=J.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount").replace("px",""))||0),un=new Date().getTime()-((dt=He.current)==null?void 0:dt.getTime()),Da=Math.abs(Dt)/un;if(Math.abs(Dt)>=Dk||Da>.11){qe(W.current),(ot=v.onDismiss)==null||ot.call(v,v),mr(),Oe(!0);return}($t=J.current)==null||$t.style.setProperty("--swipe-amount","0px"),je(!1)},onPointerMove:Ge=>{var dt;if(!Ke.current||!ct)return;let ot=Ge.clientY-Ke.current.y,$t=Ge.clientX-Ke.current.x,Dt=(vt==="top"?Math.min:Math.max)(0,ot),un=Ge.pointerType==="touch"?10:2;Math.abs(Dt)>un?(dt=J.current)==null||dt.style.setProperty("--swipe-amount",`${ot}px`):Math.abs($t)>un&&(Ke.current=null)}},Wr&&!v.jsx?ge.createElement("button",{"aria-label":re,"data-disabled":Ot,"data-close-button":!0,onClick:Ot||!ct?()=>{}:()=>{var Ge;mr(),(Ge=v.onDismiss)==null||Ge.call(v,v)},className:H(F==null?void 0:F.closeButton,(l=v==null?void 0:v.classNames)==null?void 0:l.closeButton)},ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,v.jsx||ge.isValidElement(v.title)?v.jsx||v.title:ge.createElement(ge.Fragment,null,ze||v.icon||v.promise?ge.createElement("div",{"data-icon":"",className:H(F==null?void 0:F.icon,(c=v==null?void 0:v.classNames)==null?void 0:c.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Xn():null,v.type!=="loading"?v.icon||(U==null?void 0:U[ze])||mk(ze):null):null,ge.createElement("div",{"data-content":"",className:H(F==null?void 0:F.content,(m=v==null?void 0:v.classNames)==null?void 0:m.content)},ge.createElement("div",{"data-title":"",className:H(F==null?void 0:F.title,(f=v==null?void 0:v.classNames)==null?void 0:f.title)},v.title),v.description?ge.createElement("div",{"data-description":"",className:H(Z,gt,F==null?void 0:F.description,(x=v==null?void 0:v.classNames)==null?void 0:x.description)},v.description):null),ge.isValidElement(v.cancel)?v.cancel:v.cancel&&Ac(v.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||X,onClick:Ge=>{var dt,ot;Ac(v.cancel)&&ct&&((ot=(dt=v.cancel).onClick)==null||ot.call(dt,Ge),mr())},className:H(F==null?void 0:F.cancelButton,(p=v==null?void 0:v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,ge.isValidElement(v.action)?v.action:v.action&&Ac(v.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||V,onClick:Ge=>{var dt,ot;Ac(v.action)&&(Ge.defaultPrevented||((ot=(dt=v.action).onClick)==null||ot.call(dt,Ge),mr()))},className:H(F==null?void 0:F.actionButton,(y=v==null?void 0:v.classNames)==null?void 0:y.actionButton)},v.action.label):null))};function ev(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Ok=t=>{let{invert:n,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:m,offset:f,theme:x="light",richColors:p,duration:y,style:w,visibleToasts:v=Ek,toastOptions:S,dir:N=ev(),gap:b=Tk,loadingIcon:j,icons:C,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:P,cn:A=Ik}=t,[T,L]=ge.useState([]),D=ge.useMemo(()=>Array.from(new Set([a].concat(T.filter(M=>M.position).map(M=>M.position)))),[T,a]),[$,X]=ge.useState([]),[V,ne]=ge.useState(!1),[Z,he]=ge.useState(!1),[q,Q]=ge.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=ge.useRef(null),xe=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=ge.useRef(null),U=ge.useRef(!1),re=ge.useCallback(M=>{var H;(H=T.find(fe=>fe.id===M.id))!=null&&H.delete||Ar.dismiss(M.id),L(fe=>fe.filter(({id:be})=>be!==M.id))},[T]);return ge.useEffect(()=>Ar.subscribe(M=>{if(M.dismiss){L(H=>H.map(fe=>fe.id===M.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{Uo.flushSync(()=>{L(H=>{let fe=H.findIndex(be=>be.id===M.id);return fe!==-1?[...H.slice(0,fe),{...H[fe],...M},...H.slice(fe+1)]:[M,...H]})})})}),[]),ge.useEffect(()=>{if(x!=="system"){Q(x);return}x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:M})=>{Q(M?"dark":"light")})},[x]),ge.useEffect(()=>{T.length<=1&&ne(!1)},[T]),ge.useEffect(()=>{let M=H=>{var fe,be;o.every(ke=>H[ke]||H.code===ke)&&(ne(!0),(fe=te.current)==null||fe.focus()),H.code==="Escape"&&(document.activeElement===te.current||(be=te.current)!=null&&be.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[o]),ge.useEffect(()=>{if(te.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[te.current]),T.length?ge.createElement("section",{"aria-label":`${k} ${xe}`,tabIndex:-1},D.map((M,H)=>{var fe;let[be,ke]=M.split("-");return ge.createElement("ol",{key:M,dir:N==="auto"?ev():N,tabIndex:-1,ref:te,className:m,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":be,"data-x-position":ke,style:{"--front-toast-height":`${((fe=$[0])==null?void 0:fe.height)||0}px`,"--offset":typeof f=="number"?`${f}px`:f||Pk,"--width":`${Ak}px`,"--gap":`${b}px`,...w},onBlur:ve=>{U.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||U.current||(U.current=!0,F.current=ve.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{Z||ne(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||he(!0)},onPointerUp:()=>he(!1)},T.filter(ve=>!ve.position&&H===0||ve.position===M).map((ve,me)=>{var je,Ee;return ge.createElement(Lk,{key:ve.id,icons:C,index:me,toast:ve,defaultRichColors:p,duration:(je=S==null?void 0:S.duration)!=null?je:y,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Ee=S==null?void 0:S.closeButton)!=null?Ee:c,interacting:Z,position:M,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,removeToast:re,toasts:T.filter(Oe=>Oe.position==ve.position),heights:$.filter(Oe=>Oe.position==ve.position),setHeights:X,expandByDefault:l,gap:b,loadingIcon:j,expanded:V,pauseWhenPageIsHidden:P,cn:A})}))})):null};const _k=({...t})=>{const{theme:n="system"}=fk();return e.jsx(Ok,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function Fk(t,n=[]){let a=[];function o(c,m){const f=d.createContext(m),x=a.length;a=[...a,m];const p=w=>{var C;const{scope:v,children:S,...N}=w,b=((C=v==null?void 0:v[t])==null?void 0:C[x])||f,j=d.useMemo(()=>N,Object.values(N));return e.jsx(b.Provider,{value:j,children:S})};p.displayName=c+"Provider";function y(w,v){var b;const S=((b=v==null?void 0:v[t])==null?void 0:b[x])||f,N=d.useContext(S);if(N)return N;if(m!==void 0)return m;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[p,y]}const l=()=>{const c=a.map(m=>d.createContext(m));return function(f){const x=(f==null?void 0:f[t])||c;return d.useMemo(()=>({[`__scope${t}`]:{...f,[t]:x}}),[f,x])}};return l.scopeName=t,[o,$k(l,...n)]}function $k(...t){const n=t[0];if(t.length===1)return n;const a=()=>{const o=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const m=o.reduce((f,{useScope:x,scopeName:p})=>{const w=x(c)[`__scope${p}`];return{...f,...w}},{});return d.useMemo(()=>({[`__scope${n.scopeName}`]:m}),[m])}};return a.scopeName=n.scopeName,a}var Bk="DismissableLayer",wm="dismissableLayer.update",zk="dismissableLayer.pointerDownOutside",Uk="dismissableLayer.focusOutside",tv,f0=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mh=d.forwardRef((t,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:m,onDismiss:f,...x}=t,p=d.useContext(f0),[y,w]=d.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=d.useState({}),N=We(n,D=>w(D)),b=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(j),k=y?b.indexOf(y):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,A=k>=C,T=Wk(D=>{const $=D.target,X=[...p.branches].some(V=>V.contains($));!A||X||(l==null||l(D),m==null||m(D),D.defaultPrevented||f==null||f())},v),L=Gk(D=>{const $=D.target;[...p.branches].some(V=>V.contains($))||(c==null||c(D),m==null||m(D),D.defaultPrevented||f==null||f())},v);return sl(D=>{k===p.layers.size-1&&(o==null||o(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},v),d.useEffect(()=>{if(y)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(tv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),rv(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=tv)}},[y,v,a,p]),d.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),rv())},[y,p]),d.useEffect(()=>{const D=()=>S({});return document.addEventListener(wm,D),()=>document.removeEventListener(wm,D)},[]),e.jsx(Ne.div,{...x,ref:N,style:{pointerEvents:P?A?"auto":"none":void 0,...t.style},onFocusCapture:le(t.onFocusCapture,L.onFocusCapture),onBlurCapture:le(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:le(t.onPointerDownCapture,T.onPointerDownCapture)})});mh.displayName=Bk;var Vk="DismissableLayerBranch",Hk=d.forwardRef((t,n)=>{const a=d.useContext(f0),o=d.useRef(null),l=We(n,o);return d.useEffect(()=>{const c=o.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),e.jsx(Ne.div,{...t,ref:l})});Hk.displayName=Vk;function Wk(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1),l=d.useRef(()=>{});return d.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let x=function(){m0(zk,a,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=x,n.addEventListener("click",l.current,{once:!0})):x()}else n.removeEventListener("click",l.current);o.current=!1},m=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(m),n.removeEventListener("pointerdown",c),n.removeEventListener("click",l.current)}},[n,a]),{onPointerDownCapture:()=>o.current=!0}}function Gk(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1);return d.useEffect(()=>{const l=c=>{c.target&&!o.current&&m0(Uk,a,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function rv(){const t=new CustomEvent(wm);document.dispatchEvent(t)}function m0(t,n,a,{discrete:o}){const l=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});n&&l.addEventListener(t,n,{once:!0}),o?Ra(l,c):l.dispatchEvent(c)}var Kk=vy.useId||(()=>{}),Yk=0;function br(t){const[n,a]=d.useState(Kk());return jt(()=>{a(o=>o??String(Yk++))},[t]),n?`radix-${n}`:""}const qk=["top","right","bottom","left"],_s=Math.min,Tr=Math.max,Xc=Math.round,Tc=Math.floor,Fs=t=>({x:t,y:t}),Qk={left:"right",right:"left",bottom:"top",top:"bottom"},Xk={start:"end",end:"start"};function bm(t,n,a){return Tr(t,_s(n,a))}function Gn(t,n){return typeof t=="function"?t(n):t}function Kn(t){return t.split("-")[0]}function Ho(t){return t.split("-")[1]}function hh(t){return t==="x"?"y":"x"}function ph(t){return t==="y"?"height":"width"}function $s(t){return["top","bottom"].includes(Kn(t))?"y":"x"}function xh(t){return hh($s(t))}function Jk(t,n,a){a===void 0&&(a=!1);const o=Ho(t),l=xh(t),c=ph(l);let m=l==="x"?o===(a?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[c]>n.floating[c]&&(m=Jc(m)),[m,Jc(m)]}function Zk(t){const n=Jc(t);return[jm(t),n,jm(n)]}function jm(t){return t.replace(/start|end/g,n=>Xk[n])}function eE(t,n,a){const o=["left","right"],l=["right","left"],c=["top","bottom"],m=["bottom","top"];switch(t){case"top":case"bottom":return a?n?l:o:n?o:l;case"left":case"right":return n?c:m;default:return[]}}function tE(t,n,a,o){const l=Ho(t);let c=eE(Kn(t),a==="start",o);return l&&(c=c.map(m=>m+"-"+l),n&&(c=c.concat(c.map(jm)))),c}function Jc(t){return t.replace(/left|right|bottom|top/g,n=>Qk[n])}function rE(t){return{top:0,right:0,bottom:0,left:0,...t}}function h0(t){return typeof t!="number"?rE(t):{top:t,right:t,bottom:t,left:t}}function Zc(t){const{x:n,y:a,width:o,height:l}=t;return{width:o,height:l,top:a,left:n,right:n+o,bottom:a+l,x:n,y:a}}function nv(t,n,a){let{reference:o,floating:l}=t;const c=$s(n),m=xh(n),f=ph(m),x=Kn(n),p=c==="y",y=o.x+o.width/2-l.width/2,w=o.y+o.height/2-l.height/2,v=o[f]/2-l[f]/2;let S;switch(x){case"top":S={x:y,y:o.y-l.height};break;case"bottom":S={x:y,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:w};break;case"left":S={x:o.x-l.width,y:w};break;default:S={x:o.x,y:o.y}}switch(Ho(n)){case"start":S[m]-=v*(a&&p?-1:1);break;case"end":S[m]+=v*(a&&p?-1:1);break}return S}const nE=async(t,n,a)=>{const{placement:o="bottom",strategy:l="absolute",middleware:c=[],platform:m}=a,f=c.filter(Boolean),x=await(m.isRTL==null?void 0:m.isRTL(n));let p=await m.getElementRects({reference:t,floating:n,strategy:l}),{x:y,y:w}=nv(p,o,x),v=o,S={},N=0;for(let b=0;b<f.length;b++){const{name:j,fn:C}=f[b],{x:k,y:P,data:A,reset:T}=await C({x:y,y:w,initialPlacement:o,placement:v,strategy:l,middlewareData:S,rects:p,platform:m,elements:{reference:t,floating:n}});y=k??y,w=P??w,S={...S,[j]:{...S[j],...A}},T&&N<=50&&(N++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(p=T.rects===!0?await m.getElementRects({reference:t,floating:n,strategy:l}):T.rects),{x:y,y:w}=nv(p,v,x)),b=-1)}return{x:y,y:w,placement:v,strategy:l,middlewareData:S}};async function Yi(t,n){var a;n===void 0&&(n={});const{x:o,y:l,platform:c,rects:m,elements:f,strategy:x}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:v=!1,padding:S=0}=Gn(n,t),N=h0(S),j=f[v?w==="floating"?"reference":"floating":w],C=Zc(await c.getClippingRect({element:(a=await(c.isElement==null?void 0:c.isElement(j)))==null||a?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:y,strategy:x})),k=w==="floating"?{x:o,y:l,width:m.floating.width,height:m.floating.height}:m.reference,P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),A=await(c.isElement==null?void 0:c.isElement(P))?await(c.getScale==null?void 0:c.getScale(P))||{x:1,y:1}:{x:1,y:1},T=Zc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:k,offsetParent:P,strategy:x}):k);return{top:(C.top-T.top+N.top)/A.y,bottom:(T.bottom-C.bottom+N.bottom)/A.y,left:(C.left-T.left+N.left)/A.x,right:(T.right-C.right+N.right)/A.x}}const sE=t=>({name:"arrow",options:t,async fn(n){const{x:a,y:o,placement:l,rects:c,platform:m,elements:f,middlewareData:x}=n,{element:p,padding:y=0}=Gn(t,n)||{};if(p==null)return{};const w=h0(y),v={x:a,y:o},S=xh(l),N=ph(S),b=await m.getDimensions(p),j=S==="y",C=j?"top":"left",k=j?"bottom":"right",P=j?"clientHeight":"clientWidth",A=c.reference[N]+c.reference[S]-v[S]-c.floating[N],T=v[S]-c.reference[S],L=await(m.getOffsetParent==null?void 0:m.getOffsetParent(p));let D=L?L[P]:0;(!D||!await(m.isElement==null?void 0:m.isElement(L)))&&(D=f.floating[P]||c.floating[N]);const $=A/2-T/2,X=D/2-b[N]/2-1,V=_s(w[C],X),ne=_s(w[k],X),Z=V,he=D-b[N]-ne,q=D/2-b[N]/2+$,Q=bm(Z,q,he),te=!x.arrow&&Ho(l)!=null&&q!==Q&&c.reference[N]/2-(q<Z?V:ne)-b[N]/2<0,xe=te?q<Z?q-Z:q-he:0;return{[S]:v[S]+xe,data:{[S]:Q,centerOffset:q-Q-xe,...te&&{alignmentOffset:xe}},reset:te}}}),aE=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var a,o;const{placement:l,middlewareData:c,rects:m,initialPlacement:f,platform:x,elements:p}=n,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...j}=Gn(t,n);if((a=c.arrow)!=null&&a.alignmentOffset)return{};const C=Kn(l),k=$s(f),P=Kn(f)===f,A=await(x.isRTL==null?void 0:x.isRTL(p.floating)),T=v||(P||!b?[Jc(f)]:Zk(f)),L=N!=="none";!v&&L&&T.push(...tE(f,b,N,A));const D=[f,...T],$=await Yi(n,j),X=[];let V=((o=c.flip)==null?void 0:o.overflows)||[];if(y&&X.push($[C]),w){const q=Jk(l,m,A);X.push($[q[0]],$[q[1]])}if(V=[...V,{placement:l,overflows:X}],!X.every(q=>q<=0)){var ne,Z;const q=(((ne=c.flip)==null?void 0:ne.index)||0)+1,Q=D[q];if(Q)return{data:{index:q,overflows:V},reset:{placement:Q}};let te=(Z=V.filter(xe=>xe.overflows[0]<=0).sort((xe,F)=>xe.overflows[1]-F.overflows[1])[0])==null?void 0:Z.placement;if(!te)switch(S){case"bestFit":{var he;const xe=(he=V.filter(F=>{if(L){const U=$s(F.placement);return U===k||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,re)=>U+re,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:he[0];xe&&(te=xe);break}case"initialPlacement":te=f;break}if(l!==te)return{reset:{placement:te}}}return{}}}};function sv(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function av(t){return qk.some(n=>t[n]>=0)}const oE=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:a}=n,{strategy:o="referenceHidden",...l}=Gn(t,n);switch(o){case"referenceHidden":{const c=await Yi(n,{...l,elementContext:"reference"}),m=sv(c,a.reference);return{data:{referenceHiddenOffsets:m,referenceHidden:av(m)}}}case"escaped":{const c=await Yi(n,{...l,altBoundary:!0}),m=sv(c,a.floating);return{data:{escapedOffsets:m,escaped:av(m)}}}default:return{}}}}};async function iE(t,n){const{placement:a,platform:o,elements:l}=t,c=await(o.isRTL==null?void 0:o.isRTL(l.floating)),m=Kn(a),f=Ho(a),x=$s(a)==="y",p=["left","top"].includes(m)?-1:1,y=c&&x?-1:1,w=Gn(n,t);let{mainAxis:v,crossAxis:S,alignmentAxis:N}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return f&&typeof N=="number"&&(S=f==="end"?N*-1:N),x?{x:S*y,y:v*p}:{x:v*p,y:S*y}}const lE=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var a,o;const{x:l,y:c,placement:m,middlewareData:f}=n,x=await iE(n,t);return m===((a=f.offset)==null?void 0:a.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:l+x.x,y:c+x.y,data:{...x,placement:m}}}}},cE=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:a,y:o,placement:l}=n,{mainAxis:c=!0,crossAxis:m=!1,limiter:f={fn:j=>{let{x:C,y:k}=j;return{x:C,y:k}}},...x}=Gn(t,n),p={x:a,y:o},y=await Yi(n,x),w=$s(Kn(l)),v=hh(w);let S=p[v],N=p[w];if(c){const j=v==="y"?"top":"left",C=v==="y"?"bottom":"right",k=S+y[j],P=S-y[C];S=bm(k,S,P)}if(m){const j=w==="y"?"top":"left",C=w==="y"?"bottom":"right",k=N+y[j],P=N-y[C];N=bm(k,N,P)}const b=f.fn({...n,[v]:S,[w]:N});return{...b,data:{x:b.x-a,y:b.y-o,enabled:{[v]:c,[w]:m}}}}}},dE=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:a,y:o,placement:l,rects:c,middlewareData:m}=n,{offset:f=0,mainAxis:x=!0,crossAxis:p=!0}=Gn(t,n),y={x:a,y:o},w=$s(l),v=hh(w);let S=y[v],N=y[w];const b=Gn(f,n),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(x){const P=v==="y"?"height":"width",A=c.reference[v]-c.floating[P]+j.mainAxis,T=c.reference[v]+c.reference[P]-j.mainAxis;S<A?S=A:S>T&&(S=T)}if(p){var C,k;const P=v==="y"?"width":"height",A=["top","left"].includes(Kn(l)),T=c.reference[w]-c.floating[P]+(A&&((C=m.offset)==null?void 0:C[w])||0)+(A?0:j.crossAxis),L=c.reference[w]+c.reference[P]+(A?0:((k=m.offset)==null?void 0:k[w])||0)-(A?j.crossAxis:0);N<T?N=T:N>L&&(N=L)}return{[v]:S,[w]:N}}}},uE=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var a,o;const{placement:l,rects:c,platform:m,elements:f}=n,{apply:x=()=>{},...p}=Gn(t,n),y=await Yi(n,p),w=Kn(l),v=Ho(l),S=$s(l)==="y",{width:N,height:b}=c.floating;let j,C;w==="top"||w==="bottom"?(j=w,C=v===(await(m.isRTL==null?void 0:m.isRTL(f.floating))?"start":"end")?"left":"right"):(C=w,j=v==="end"?"top":"bottom");const k=b-y.top-y.bottom,P=N-y.left-y.right,A=_s(b-y[j],k),T=_s(N-y[C],P),L=!n.middlewareData.shift;let D=A,$=T;if((a=n.middlewareData.shift)!=null&&a.enabled.x&&($=P),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(D=k),L&&!v){const V=Tr(y.left,0),ne=Tr(y.right,0),Z=Tr(y.top,0),he=Tr(y.bottom,0);S?$=N-2*(V!==0||ne!==0?V+ne:Tr(y.left,y.right)):D=b-2*(Z!==0||he!==0?Z+he:Tr(y.top,y.bottom))}await x({...n,availableWidth:$,availableHeight:D});const X=await m.getDimensions(f.floating);return N!==X.width||b!==X.height?{reset:{rects:!0}}:{}}}};function gd(){return typeof window<"u"}function Wo(t){return p0(t)?(t.nodeName||"").toLowerCase():"#document"}function Dr(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function Cn(t){var n;return(n=(p0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function p0(t){return gd()?t instanceof Node||t instanceof Dr(t).Node:!1}function an(t){return gd()?t instanceof Element||t instanceof Dr(t).Element:!1}function Sn(t){return gd()?t instanceof HTMLElement||t instanceof Dr(t).HTMLElement:!1}function ov(t){return!gd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dr(t).ShadowRoot}function ll(t){const{overflow:n,overflowX:a,overflowY:o,display:l}=on(t);return/auto|scroll|overlay|hidden|clip/.test(n+o+a)&&!["inline","contents"].includes(l)}function fE(t){return["table","td","th"].includes(Wo(t))}function vd(t){return[":popover-open",":modal"].some(n=>{try{return t.matches(n)}catch{return!1}})}function gh(t){const n=vh(),a=an(t)?on(t):t;return a.transform!=="none"||a.perspective!=="none"||(a.containerType?a.containerType!=="normal":!1)||!n&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!n&&(a.filter?a.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(a.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(a.contain||"").includes(o))}function mE(t){let n=Bs(t);for(;Sn(n)&&!Bo(n);){if(gh(n))return n;if(vd(n))return null;n=Bs(n)}return null}function vh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bo(t){return["html","body","#document"].includes(Wo(t))}function on(t){return Dr(t).getComputedStyle(t)}function yd(t){return an(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bs(t){if(Wo(t)==="html")return t;const n=t.assignedSlot||t.parentNode||ov(t)&&t.host||Cn(t);return ov(n)?n.host:n}function x0(t){const n=Bs(t);return Bo(n)?t.ownerDocument?t.ownerDocument.body:t.body:Sn(n)&&ll(n)?n:x0(n)}function qi(t,n,a){var o;n===void 0&&(n=[]),a===void 0&&(a=!0);const l=x0(t),c=l===((o=t.ownerDocument)==null?void 0:o.body),m=Dr(l);if(c){const f=Nm(m);return n.concat(m,m.visualViewport||[],ll(l)?l:[],f&&a?qi(f):[])}return n.concat(l,qi(l,[],a))}function Nm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function g0(t){const n=on(t);let a=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const l=Sn(t),c=l?t.offsetWidth:a,m=l?t.offsetHeight:o,f=Xc(a)!==c||Xc(o)!==m;return f&&(a=c,o=m),{width:a,height:o,$:f}}function yh(t){return an(t)?t:t.contextElement}function jo(t){const n=yh(t);if(!Sn(n))return Fs(1);const a=n.getBoundingClientRect(),{width:o,height:l,$:c}=g0(n);let m=(c?Xc(a.width):a.width)/o,f=(c?Xc(a.height):a.height)/l;return(!m||!Number.isFinite(m))&&(m=1),(!f||!Number.isFinite(f))&&(f=1),{x:m,y:f}}const hE=Fs(0);function v0(t){const n=Dr(t);return!vh()||!n.visualViewport?hE:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function pE(t,n,a){return n===void 0&&(n=!1),!a||n&&a!==Dr(t)?!1:n}function ja(t,n,a,o){n===void 0&&(n=!1),a===void 0&&(a=!1);const l=t.getBoundingClientRect(),c=yh(t);let m=Fs(1);n&&(o?an(o)&&(m=jo(o)):m=jo(t));const f=pE(c,a,o)?v0(c):Fs(0);let x=(l.left+f.x)/m.x,p=(l.top+f.y)/m.y,y=l.width/m.x,w=l.height/m.y;if(c){const v=Dr(c),S=o&&an(o)?Dr(o):o;let N=v,b=Nm(N);for(;b&&o&&S!==N;){const j=jo(b),C=b.getBoundingClientRect(),k=on(b),P=C.left+(b.clientLeft+parseFloat(k.paddingLeft))*j.x,A=C.top+(b.clientTop+parseFloat(k.paddingTop))*j.y;x*=j.x,p*=j.y,y*=j.x,w*=j.y,x+=P,p+=A,N=Dr(b),b=Nm(N)}}return Zc({width:y,height:w,x,y:p})}function xE(t){let{elements:n,rect:a,offsetParent:o,strategy:l}=t;const c=l==="fixed",m=Cn(o),f=n?vd(n.floating):!1;if(o===m||f&&c)return a;let x={scrollLeft:0,scrollTop:0},p=Fs(1);const y=Fs(0),w=Sn(o);if((w||!w&&!c)&&((Wo(o)!=="body"||ll(m))&&(x=yd(o)),Sn(o))){const v=ja(o);p=jo(o),y.x=v.x+o.clientLeft,y.y=v.y+o.clientTop}return{width:a.width*p.x,height:a.height*p.y,x:a.x*p.x-x.scrollLeft*p.x+y.x,y:a.y*p.y-x.scrollTop*p.y+y.y}}function gE(t){return Array.from(t.getClientRects())}function Sm(t,n){const a=yd(t).scrollLeft;return n?n.left+a:ja(Cn(t)).left+a}function vE(t){const n=Cn(t),a=yd(t),o=t.ownerDocument.body,l=Tr(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),c=Tr(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let m=-a.scrollLeft+Sm(t);const f=-a.scrollTop;return on(o).direction==="rtl"&&(m+=Tr(n.clientWidth,o.clientWidth)-l),{width:l,height:c,x:m,y:f}}function yE(t,n){const a=Dr(t),o=Cn(t),l=a.visualViewport;let c=o.clientWidth,m=o.clientHeight,f=0,x=0;if(l){c=l.width,m=l.height;const p=vh();(!p||p&&n==="fixed")&&(f=l.offsetLeft,x=l.offsetTop)}return{width:c,height:m,x:f,y:x}}function wE(t,n){const a=ja(t,!0,n==="fixed"),o=a.top+t.clientTop,l=a.left+t.clientLeft,c=Sn(t)?jo(t):Fs(1),m=t.clientWidth*c.x,f=t.clientHeight*c.y,x=l*c.x,p=o*c.y;return{width:m,height:f,x,y:p}}function iv(t,n,a){let o;if(n==="viewport")o=yE(t,a);else if(n==="document")o=vE(Cn(t));else if(an(n))o=wE(n,a);else{const l=v0(t);o={...n,x:n.x-l.x,y:n.y-l.y}}return Zc(o)}function y0(t,n){const a=Bs(t);return a===n||!an(a)||Bo(a)?!1:on(a).position==="fixed"||y0(a,n)}function bE(t,n){const a=n.get(t);if(a)return a;let o=qi(t,[],!1).filter(f=>an(f)&&Wo(f)!=="body"),l=null;const c=on(t).position==="fixed";let m=c?Bs(t):t;for(;an(m)&&!Bo(m);){const f=on(m),x=gh(m);!x&&f.position==="fixed"&&(l=null),(c?!x&&!l:!x&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||ll(m)&&!x&&y0(t,m))?o=o.filter(y=>y!==m):l=f,m=Bs(m)}return n.set(t,o),o}function jE(t){let{element:n,boundary:a,rootBoundary:o,strategy:l}=t;const m=[...a==="clippingAncestors"?vd(n)?[]:bE(n,this._c):[].concat(a),o],f=m[0],x=m.reduce((p,y)=>{const w=iv(n,y,l);return p.top=Tr(w.top,p.top),p.right=_s(w.right,p.right),p.bottom=_s(w.bottom,p.bottom),p.left=Tr(w.left,p.left),p},iv(n,f,l));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function NE(t){const{width:n,height:a}=g0(t);return{width:n,height:a}}function SE(t,n,a){const o=Sn(n),l=Cn(n),c=a==="fixed",m=ja(t,!0,c,n);let f={scrollLeft:0,scrollTop:0};const x=Fs(0);if(o||!o&&!c)if((Wo(n)!=="body"||ll(l))&&(f=yd(n)),o){const S=ja(n,!0,c,n);x.x=S.x+n.clientLeft,x.y=S.y+n.clientTop}else l&&(x.x=Sm(l));let p=0,y=0;if(l&&!o&&!c){const S=l.getBoundingClientRect();y=S.top+f.scrollTop,p=S.left+f.scrollLeft-Sm(l,S)}const w=m.left+f.scrollLeft-x.x-p,v=m.top+f.scrollTop-x.y-y;return{x:w,y:v,width:m.width,height:m.height}}function Hf(t){return on(t).position==="static"}function lv(t,n){if(!Sn(t)||on(t).position==="fixed")return null;if(n)return n(t);let a=t.offsetParent;return Cn(t)===a&&(a=a.ownerDocument.body),a}function w0(t,n){const a=Dr(t);if(vd(t))return a;if(!Sn(t)){let l=Bs(t);for(;l&&!Bo(l);){if(an(l)&&!Hf(l))return l;l=Bs(l)}return a}let o=lv(t,n);for(;o&&fE(o)&&Hf(o);)o=lv(o,n);return o&&Bo(o)&&Hf(o)&&!gh(o)?a:o||mE(t)||a}const CE=async function(t){const n=this.getOffsetParent||w0,a=this.getDimensions,o=await a(t.floating);return{reference:SE(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function kE(t){return on(t).direction==="rtl"}const EE={convertOffsetParentRelativeRectToViewportRelativeRect:xE,getDocumentElement:Cn,getClippingRect:jE,getOffsetParent:w0,getElementRects:CE,getClientRects:gE,getDimensions:NE,getScale:jo,isElement:an,isRTL:kE};function PE(t,n){let a=null,o;const l=Cn(t);function c(){var f;clearTimeout(o),(f=a)==null||f.disconnect(),a=null}function m(f,x){f===void 0&&(f=!1),x===void 0&&(x=1),c();const{left:p,top:y,width:w,height:v}=t.getBoundingClientRect();if(f||n(),!w||!v)return;const S=Tc(y),N=Tc(l.clientWidth-(p+w)),b=Tc(l.clientHeight-(y+v)),j=Tc(p),k={rootMargin:-S+"px "+-N+"px "+-b+"px "+-j+"px",threshold:Tr(0,_s(1,x))||1};let P=!0;function A(T){const L=T[0].intersectionRatio;if(L!==x){if(!P)return m();L?m(!1,L):o=setTimeout(()=>{m(!1,1e-7)},1e3)}P=!1}try{a=new IntersectionObserver(A,{...k,root:l.ownerDocument})}catch{a=new IntersectionObserver(A,k)}a.observe(t)}return m(!0),c}function RE(t,n,a,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:x=!1}=o,p=yh(t),y=l||c?[...p?qi(p):[],...qi(n)]:[];y.forEach(C=>{l&&C.addEventListener("scroll",a,{passive:!0}),c&&C.addEventListener("resize",a)});const w=p&&f?PE(p,a):null;let v=-1,S=null;m&&(S=new ResizeObserver(C=>{let[k]=C;k&&k.target===p&&S&&(S.unobserve(n),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=S)==null||P.observe(n)})),a()}),p&&!x&&S.observe(p),S.observe(n));let N,b=x?ja(t):null;x&&j();function j(){const C=ja(t);b&&(C.x!==b.x||C.y!==b.y||C.width!==b.width||C.height!==b.height)&&a(),b=C,N=requestAnimationFrame(j)}return a(),()=>{var C;y.forEach(k=>{l&&k.removeEventListener("scroll",a),c&&k.removeEventListener("resize",a)}),w==null||w(),(C=S)==null||C.disconnect(),S=null,x&&cancelAnimationFrame(N)}}const AE=lE,TE=cE,DE=aE,ME=uE,IE=oE,cv=sE,LE=dE,OE=(t,n,a)=>{const o=new Map,l={platform:EE,...a},c={...l.platform,_c:o};return nE(t,n,{...l,platform:c})};var Kc=typeof document<"u"?d.useLayoutEffect:d.useEffect;function ed(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let a,o,l;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==n.length)return!1;for(o=a;o--!==0;)if(!ed(t[o],n[o]))return!1;return!0}if(l=Object.keys(t),a=l.length,a!==Object.keys(n).length)return!1;for(o=a;o--!==0;)if(!{}.hasOwnProperty.call(n,l[o]))return!1;for(o=a;o--!==0;){const c=l[o];if(!(c==="_owner"&&t.$$typeof)&&!ed(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}function b0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dv(t,n){const a=b0(t);return Math.round(n*a)/a}function Wf(t){const n=d.useRef(t);return Kc(()=>{n.current=t}),n}function _E(t){t===void 0&&(t={});const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:l,elements:{reference:c,floating:m}={},transform:f=!0,whileElementsMounted:x,open:p}=t,[y,w]=d.useState({x:0,y:0,strategy:a,placement:n,middlewareData:{},isPositioned:!1}),[v,S]=d.useState(o);ed(v,o)||S(o);const[N,b]=d.useState(null),[j,C]=d.useState(null),k=d.useCallback(F=>{F!==L.current&&(L.current=F,b(F))},[]),P=d.useCallback(F=>{F!==D.current&&(D.current=F,C(F))},[]),A=c||N,T=m||j,L=d.useRef(null),D=d.useRef(null),$=d.useRef(y),X=x!=null,V=Wf(x),ne=Wf(l),Z=Wf(p),he=d.useCallback(()=>{if(!L.current||!D.current)return;const F={placement:n,strategy:a,middleware:v};ne.current&&(F.platform=ne.current),OE(L.current,D.current,F).then(U=>{const re={...U,isPositioned:Z.current!==!1};q.current&&!ed($.current,re)&&($.current=re,Pa.flushSync(()=>{w(re)}))})},[v,n,a,ne,Z]);Kc(()=>{p===!1&&$.current.isPositioned&&($.current.isPositioned=!1,w(F=>({...F,isPositioned:!1})))},[p]);const q=d.useRef(!1);Kc(()=>(q.current=!0,()=>{q.current=!1}),[]),Kc(()=>{if(A&&(L.current=A),T&&(D.current=T),A&&T){if(V.current)return V.current(A,T,he);he()}},[A,T,he,V,X]);const Q=d.useMemo(()=>({reference:L,floating:D,setReference:k,setFloating:P}),[k,P]),te=d.useMemo(()=>({reference:A,floating:T}),[A,T]),xe=d.useMemo(()=>{const F={position:a,left:0,top:0};if(!te.floating)return F;const U=dv(te.floating,y.x),re=dv(te.floating,y.y);return f?{...F,transform:"translate("+U+"px, "+re+"px)",...b0(te.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:U,top:re}},[a,f,te.floating,y.x,y.y]);return d.useMemo(()=>({...y,update:he,refs:Q,elements:te,floatingStyles:xe}),[y,he,Q,te,xe])}const FE=t=>{function n(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:o,padding:l}=typeof t=="function"?t(a):t;return o&&n(o)?o.current!=null?cv({element:o.current,padding:l}).fn(a):{}:o?cv({element:o,padding:l}).fn(a):{}}}},$E=(t,n)=>({...AE(t),options:[t,n]}),BE=(t,n)=>({...TE(t),options:[t,n]}),zE=(t,n)=>({...LE(t),options:[t,n]}),UE=(t,n)=>({...DE(t),options:[t,n]}),VE=(t,n)=>({...ME(t),options:[t,n]}),HE=(t,n)=>({...IE(t),options:[t,n]}),WE=(t,n)=>({...FE(t),options:[t,n]});var GE="Arrow",j0=d.forwardRef((t,n)=>{const{children:a,width:o=10,height:l=5,...c}=t;return e.jsx(Ne.svg,{...c,ref:n,width:o,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});j0.displayName=GE;var KE=j0;function wd(t){const[n,a]=d.useState(void 0);return jt(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let m,f;if("borderBoxSize"in c){const x=c.borderBoxSize,p=Array.isArray(x)?x[0]:x;m=p.inlineSize,f=p.blockSize}else m=t.offsetWidth,f=t.offsetHeight;a({width:m,height:f})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else a(void 0)},[t]),n}var wh="Popper",[N0,Go]=dr(wh),[YE,S0]=N0(wh),C0=t=>{const{__scopePopper:n,children:a}=t,[o,l]=d.useState(null);return e.jsx(YE,{scope:n,anchor:o,onAnchorChange:l,children:a})};C0.displayName=wh;var k0="PopperAnchor",E0=d.forwardRef((t,n)=>{const{__scopePopper:a,virtualRef:o,...l}=t,c=S0(k0,a),m=d.useRef(null),f=We(n,m);return d.useEffect(()=>{c.onAnchorChange((o==null?void 0:o.current)||m.current)}),o?null:e.jsx(Ne.div,{...l,ref:f})});E0.displayName=k0;var bh="PopperContent",[qE,QE]=N0(bh),P0=d.forwardRef((t,n)=>{var me,je,Ee,Oe,Qe,qe;const{__scopePopper:a,side:o="bottom",sideOffset:l=0,align:c="center",alignOffset:m=0,arrowPadding:f=0,avoidCollisions:x=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:N,...b}=t,j=S0(bh,a),[C,k]=d.useState(null),P=We(n,Y=>k(Y)),[A,T]=d.useState(null),L=wd(A),D=(L==null?void 0:L.width)??0,$=(L==null?void 0:L.height)??0,X=o+(c!=="center"?"-"+c:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ne=Array.isArray(p)?p:[p],Z=ne.length>0,he={padding:V,boundary:ne.filter(JE),altBoundary:Z},{refs:q,floatingStyles:Q,placement:te,isPositioned:xe,middlewareData:F}=_E({strategy:"fixed",placement:X,whileElementsMounted:(...Y)=>RE(...Y,{animationFrame:S==="always"}),elements:{reference:j.anchor},middleware:[$E({mainAxis:l+$,alignmentAxis:m}),x&&BE({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?zE():void 0,...he}),x&&UE({...he}),VE({...he,apply:({elements:Y,rects:Fe,availableWidth:He,availableHeight:J})=>{const{width:Ae,height:Je}=Fe.reference,ze=Y.floating.style;ze.setProperty("--radix-popper-available-width",`${He}px`),ze.setProperty("--radix-popper-available-height",`${J}px`),ze.setProperty("--radix-popper-anchor-width",`${Ae}px`),ze.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),A&&WE({element:A,padding:f}),ZE({arrowWidth:D,arrowHeight:$}),v&&HE({strategy:"referenceHidden",...he})]}),[U,re]=T0(te),M=kt(N);jt(()=>{xe&&(M==null||M())},[xe,M]);const H=(me=F.arrow)==null?void 0:me.x,fe=(je=F.arrow)==null?void 0:je.y,be=((Ee=F.arrow)==null?void 0:Ee.centerOffset)!==0,[ke,ve]=d.useState();return jt(()=>{C&&ve(window.getComputedStyle(C).zIndex)},[C]),e.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:xe?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Oe=F.transformOrigin)==null?void 0:Oe.x,(Qe=F.transformOrigin)==null?void 0:Qe.y].join(" "),...((qe=F.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(qE,{scope:a,placedSide:U,onArrowChange:T,arrowX:H,arrowY:fe,shouldHideArrow:be,children:e.jsx(Ne.div,{"data-side":U,"data-align":re,...b,ref:P,style:{...b.style,animation:xe?void 0:"none"}})})})});P0.displayName=bh;var R0="PopperArrow",XE={top:"bottom",right:"left",bottom:"top",left:"right"},A0=d.forwardRef(function(n,a){const{__scopePopper:o,...l}=n,c=QE(R0,o),m=XE[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[m]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(KE,{...l,ref:a,style:{...l.style,display:"block"}})})});A0.displayName=R0;function JE(t){return t!==null}var ZE=t=>({name:"transformOrigin",options:t,fn(n){var j,C,k;const{placement:a,rects:o,middlewareData:l}=n,m=((j=l.arrow)==null?void 0:j.centerOffset)!==0,f=m?0:t.arrowWidth,x=m?0:t.arrowHeight,[p,y]=T0(a),w={start:"0%",center:"50%",end:"100%"}[y],v=(((C=l.arrow)==null?void 0:C.x)??0)+f/2,S=(((k=l.arrow)==null?void 0:k.y)??0)+x/2;let N="",b="";return p==="bottom"?(N=m?w:`${v}px`,b=`${-x}px`):p==="top"?(N=m?w:`${v}px`,b=`${o.floating.height+x}px`):p==="right"?(N=`${-x}px`,b=m?w:`${S}px`):p==="left"&&(N=`${o.floating.width+x}px`,b=m?w:`${S}px`),{data:{x:N,y:b}}}});function T0(t){const[n,a="center"]=t.split("-");return[n,a]}var jh=C0,Nh=E0,Sh=P0,Ch=A0,eP="Portal",D0=d.forwardRef((t,n)=>{var f;const{container:a,...o}=t,[l,c]=d.useState(!1);jt(()=>c(!0),[]);const m=a||l&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return m?Uo.createPortal(e.jsx(Ne.div,{...o,ref:n}),m):null});D0.displayName=eP;function tP(t,n){return d.useReducer((a,o)=>n[a][o]??a,t)}var M0=t=>{const{present:n,children:a}=t,o=rP(n),l=typeof a=="function"?a({present:o.isPresent}):d.Children.only(a),c=We(o.ref,nP(l));return typeof a=="function"||o.isPresent?d.cloneElement(l,{ref:c}):null};M0.displayName="Presence";function rP(t){const[n,a]=d.useState(),o=d.useRef({}),l=d.useRef(t),c=d.useRef("none"),m=t?"mounted":"unmounted",[f,x]=tP(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const p=Dc(o.current);c.current=f==="mounted"?p:"none"},[f]),jt(()=>{const p=o.current,y=l.current;if(y!==t){const v=c.current,S=Dc(p);t?x("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?x("UNMOUNT"):x(y&&v!==S?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,x]),jt(()=>{if(n){let p;const y=n.ownerDocument.defaultView??window,w=S=>{const b=Dc(o.current).includes(S.animationName);if(S.target===n&&b&&(x("ANIMATION_END"),!l.current)){const j=n.style.animationFillMode;n.style.animationFillMode="forwards",p=y.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=j)})}},v=S=>{S.target===n&&(c.current=Dc(o.current))};return n.addEventListener("animationstart",v),n.addEventListener("animationcancel",w),n.addEventListener("animationend",w),()=>{y.clearTimeout(p),n.removeEventListener("animationstart",v),n.removeEventListener("animationcancel",w),n.removeEventListener("animationend",w)}}else x("ANIMATION_END")},[n,x]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:d.useCallback(p=>{p&&(o.current=getComputedStyle(p)),a(p)},[])}}function Dc(t){return(t==null?void 0:t.animationName)||"none"}function nP(t){var o,l;let n=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var[bd,aM]=Fk("Tooltip",[Go]),jd=Go(),I0="TooltipProvider",sP=700,Cm="tooltip.open",[aP,kh]=bd(I0),L0=t=>{const{__scopeTooltip:n,delayDuration:a=sP,skipDelayDuration:o=300,disableHoverableContent:l=!1,children:c}=t,[m,f]=d.useState(!0),x=d.useRef(!1),p=d.useRef(0);return d.useEffect(()=>{const y=p.current;return()=>window.clearTimeout(y)},[]),e.jsx(aP,{scope:n,isOpenDelayed:m,delayDuration:a,onOpen:d.useCallback(()=>{window.clearTimeout(p.current),f(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(!0),o)},[o]),isPointerInTransitRef:x,onPointerInTransitChange:d.useCallback(y=>{x.current=y},[]),disableHoverableContent:l,children:c})};L0.displayName=I0;var Nd="Tooltip",[oP,Sd]=bd(Nd),O0=t=>{const{__scopeTooltip:n,children:a,open:o,defaultOpen:l=!1,onOpenChange:c,disableHoverableContent:m,delayDuration:f}=t,x=kh(Nd,t.__scopeTooltip),p=jd(n),[y,w]=d.useState(null),v=br(),S=d.useRef(0),N=m??x.disableHoverableContent,b=f??x.delayDuration,j=d.useRef(!1),[C=!1,k]=Vr({prop:o,defaultProp:l,onChange:D=>{D?(x.onOpen(),document.dispatchEvent(new CustomEvent(Cm))):x.onClose(),c==null||c(D)}}),P=d.useMemo(()=>C?j.current?"delayed-open":"instant-open":"closed",[C]),A=d.useCallback(()=>{window.clearTimeout(S.current),S.current=0,j.current=!1,k(!0)},[k]),T=d.useCallback(()=>{window.clearTimeout(S.current),S.current=0,k(!1)},[k]),L=d.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{j.current=!0,k(!0),S.current=0},b)},[b,k]);return d.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),e.jsx(jh,{...p,children:e.jsx(oP,{scope:n,contentId:v,open:C,stateAttribute:P,trigger:y,onTriggerChange:w,onTriggerEnter:d.useCallback(()=>{x.isOpenDelayed?L():A()},[x.isOpenDelayed,L,A]),onTriggerLeave:d.useCallback(()=>{N?T():(window.clearTimeout(S.current),S.current=0)},[T,N]),onOpen:A,onClose:T,disableHoverableContent:N,children:a})})};O0.displayName=Nd;var km="TooltipTrigger",_0=d.forwardRef((t,n)=>{const{__scopeTooltip:a,...o}=t,l=Sd(km,a),c=kh(km,a),m=jd(a),f=d.useRef(null),x=We(n,f,l.onTriggerChange),p=d.useRef(!1),y=d.useRef(!1),w=d.useCallback(()=>p.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),e.jsx(Nh,{asChild:!0,...m,children:e.jsx(Ne.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...o,ref:x,onPointerMove:le(t.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),y.current=!0)}),onPointerLeave:le(t.onPointerLeave,()=>{l.onTriggerLeave(),y.current=!1}),onPointerDown:le(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:le(t.onFocus,()=>{p.current||l.onOpen()}),onBlur:le(t.onBlur,l.onClose),onClick:le(t.onClick,l.onClose)})})});_0.displayName=km;var iP="TooltipPortal",[oM,lP]=bd(iP,{forceMount:void 0}),zo="TooltipContent",F0=d.forwardRef((t,n)=>{const a=lP(zo,t.__scopeTooltip),{forceMount:o=a.forceMount,side:l="top",...c}=t,m=Sd(zo,t.__scopeTooltip);return e.jsx(M0,{present:o||m.open,children:m.disableHoverableContent?e.jsx($0,{side:l,...c,ref:n}):e.jsx(cP,{side:l,...c,ref:n})})}),cP=d.forwardRef((t,n)=>{const a=Sd(zo,t.__scopeTooltip),o=kh(zo,t.__scopeTooltip),l=d.useRef(null),c=We(n,l),[m,f]=d.useState(null),{trigger:x,onClose:p}=a,y=l.current,{onPointerInTransitChange:w}=o,v=d.useCallback(()=>{f(null),w(!1)},[w]),S=d.useCallback((N,b)=>{const j=N.currentTarget,C={x:N.clientX,y:N.clientY},k=mP(C,j.getBoundingClientRect()),P=hP(C,k),A=pP(b.getBoundingClientRect()),T=gP([...P,...A]);f(T),w(!0)},[w]);return d.useEffect(()=>()=>v(),[v]),d.useEffect(()=>{if(x&&y){const N=j=>S(j,y),b=j=>S(j,x);return x.addEventListener("pointerleave",N),y.addEventListener("pointerleave",b),()=>{x.removeEventListener("pointerleave",N),y.removeEventListener("pointerleave",b)}}},[x,y,S,v]),d.useEffect(()=>{if(m){const N=b=>{const j=b.target,C={x:b.clientX,y:b.clientY},k=(x==null?void 0:x.contains(j))||(y==null?void 0:y.contains(j)),P=!xP(C,m);k?v():P&&(v(),p())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[x,y,m,p,v]),e.jsx($0,{...t,ref:c})}),[dP,uP]=bd(Nd,{isInside:!1}),$0=d.forwardRef((t,n)=>{const{__scopeTooltip:a,children:o,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:m,...f}=t,x=Sd(zo,a),p=jd(a),{onClose:y}=x;return d.useEffect(()=>(document.addEventListener(Cm,y),()=>document.removeEventListener(Cm,y)),[y]),d.useEffect(()=>{if(x.trigger){const w=v=>{const S=v.target;S!=null&&S.contains(x.trigger)&&y()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[x.trigger,y]),e.jsx(mh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:w=>w.preventDefault(),onDismiss:y,children:e.jsxs(Sh,{"data-state":x.stateAttribute,...p,...f,ref:n,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(nh,{children:o}),e.jsx(dP,{scope:a,isInside:!0,children:e.jsx(zS,{id:x.contentId,role:"tooltip",children:l||o})})]})})});F0.displayName=zo;var B0="TooltipArrow",fP=d.forwardRef((t,n)=>{const{__scopeTooltip:a,...o}=t,l=jd(a);return uP(B0,a).isInside?null:e.jsx(Ch,{...l,...o,ref:n})});fP.displayName=B0;function mP(t,n){const a=Math.abs(n.top-t.y),o=Math.abs(n.bottom-t.y),l=Math.abs(n.right-t.x),c=Math.abs(n.left-t.x);switch(Math.min(a,o,l,c)){case c:return"left";case l:return"right";case a:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function hP(t,n,a=5){const o=[];switch(n){case"top":o.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":o.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":o.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":o.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return o}function pP(t){const{top:n,right:a,bottom:o,left:l}=t;return[{x:l,y:n},{x:a,y:n},{x:a,y:o},{x:l,y:o}]}function xP(t,n){const{x:a,y:o}=t;let l=!1;for(let c=0,m=n.length-1;c<n.length;m=c++){const f=n[c].x,x=n[c].y,p=n[m].x,y=n[m].y;x>o!=y>o&&a<(p-f)*(o-x)/(y-x)+f&&(l=!l)}return l}function gP(t){const n=t.slice();return n.sort((a,o)=>a.x<o.x?-1:a.x>o.x?1:a.y<o.y?-1:a.y>o.y?1:0),vP(n)}function vP(t){if(t.length<=1)return t.slice();const n=[];for(let o=0;o<t.length;o++){const l=t[o];for(;n.length>=2;){const c=n[n.length-1],m=n[n.length-2];if((c.x-m.x)*(l.y-m.y)>=(c.y-m.y)*(l.x-m.x))n.pop();else break}n.push(l)}n.pop();const a=[];for(let o=t.length-1;o>=0;o--){const l=t[o];for(;a.length>=2;){const c=a[a.length-1],m=a[a.length-2];if((c.x-m.x)*(l.y-m.y)>=(c.y-m.y)*(l.x-m.x))a.pop();else break}a.push(l)}return a.pop(),n.length===1&&a.length===1&&n[0].x===a[0].x&&n[0].y===a[0].y?n:n.concat(a)}var yP=L0,wP=O0,bP=_0,z0=F0;const jP=yP,Gf=wP,Kf=bP,Yc=d.forwardRef(({className:t,sideOffset:n=4,...a},o)=>e.jsx(z0,{ref:o,sideOffset:n,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Yc.displayName=z0.displayName;var Cd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kd=typeof window>"u"||"Deno"in globalThis;function nn(){}function NP(t,n){return typeof t=="function"?t(n):t}function SP(t){return typeof t=="number"&&t>=0&&t!==1/0}function CP(t,n){return Math.max(t+(n||0)-Date.now(),0)}function uv(t,n){return typeof t=="function"?t(n):t}function kP(t,n){return typeof t=="function"?t(n):t}function fv(t,n){const{type:a="all",exact:o,fetchStatus:l,predicate:c,queryKey:m,stale:f}=t;if(m){if(o){if(n.queryHash!==Eh(m,n.options))return!1}else if(!Xi(n.queryKey,m))return!1}if(a!=="all"){const x=n.isActive();if(a==="active"&&!x||a==="inactive"&&x)return!1}return!(typeof f=="boolean"&&n.isStale()!==f||l&&l!==n.state.fetchStatus||c&&!c(n))}function mv(t,n){const{exact:a,status:o,predicate:l,mutationKey:c}=t;if(c){if(!n.options.mutationKey)return!1;if(a){if(Qi(n.options.mutationKey)!==Qi(c))return!1}else if(!Xi(n.options.mutationKey,c))return!1}return!(o&&n.state.status!==o||l&&!l(n))}function Eh(t,n){return((n==null?void 0:n.queryKeyHashFn)||Qi)(t)}function Qi(t){return JSON.stringify(t,(n,a)=>Em(a)?Object.keys(a).sort().reduce((o,l)=>(o[l]=a[l],o),{}):a)}function Xi(t,n){return t===n?!0:typeof t!=typeof n?!1:t&&n&&typeof t=="object"&&typeof n=="object"?!Object.keys(n).some(a=>!Xi(t[a],n[a])):!1}function U0(t,n){if(t===n)return t;const a=hv(t)&&hv(n);if(a||Em(t)&&Em(n)){const o=a?t:Object.keys(t),l=o.length,c=a?n:Object.keys(n),m=c.length,f=a?[]:{};let x=0;for(let p=0;p<m;p++){const y=a?p:c[p];(!a&&o.includes(y)||a)&&t[y]===void 0&&n[y]===void 0?(f[y]=void 0,x++):(f[y]=U0(t[y],n[y]),f[y]===t[y]&&t[y]!==void 0&&x++)}return l===m&&x===l?t:f}return n}function hv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Em(t){if(!pv(t))return!1;const n=t.constructor;if(n===void 0)return!0;const a=n.prototype;return!(!pv(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pv(t){return Object.prototype.toString.call(t)==="[object Object]"}function EP(t){return new Promise(n=>{setTimeout(n,t)})}function PP(t,n,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,n):a.structuralSharing!==!1?U0(t,n):n}function RP(t,n,a=0){const o=[...t,n];return a&&o.length>a?o.slice(1):o}function AP(t,n,a=0){const o=[n,...t];return a&&o.length>a?o.slice(0,-1):o}var V0=Symbol();function H0(t,n){return!t.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!t.queryFn||t.queryFn===V0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ua,Cs,Ro,cy,TP=(cy=class extends Cd{constructor(){super();ht(this,ua);ht(this,Cs);ht(this,Ro);tt(this,Ro,n=>{if(!kd&&window.addEventListener){const a=()=>n();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){ae(this,Cs)||this.setEventListener(ae(this,Ro))}onUnsubscribe(){var n;this.hasListeners()||((n=ae(this,Cs))==null||n.call(this),tt(this,Cs,void 0))}setEventListener(n){var a;tt(this,Ro,n),(a=ae(this,Cs))==null||a.call(this),tt(this,Cs,n(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(n){ae(this,ua)!==n&&(tt(this,ua,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(a=>{a(n)})}isFocused(){var n;return typeof ae(this,ua)=="boolean"?ae(this,ua):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},ua=new WeakMap,Cs=new WeakMap,Ro=new WeakMap,cy),W0=new TP,Ao,ks,To,dy,DP=(dy=class extends Cd{constructor(){super();ht(this,Ao,!0);ht(this,ks);ht(this,To);tt(this,To,n=>{if(!kd&&window.addEventListener){const a=()=>n(!0),o=()=>n(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",o)}}})}onSubscribe(){ae(this,ks)||this.setEventListener(ae(this,To))}onUnsubscribe(){var n;this.hasListeners()||((n=ae(this,ks))==null||n.call(this),tt(this,ks,void 0))}setEventListener(n){var a;tt(this,To,n),(a=ae(this,ks))==null||a.call(this),tt(this,ks,n(this.setOnline.bind(this)))}setOnline(n){ae(this,Ao)!==n&&(tt(this,Ao,n),this.listeners.forEach(o=>{o(n)}))}isOnline(){return ae(this,Ao)}},Ao=new WeakMap,ks=new WeakMap,To=new WeakMap,dy),td=new DP;function MP(t){return Math.min(1e3*2**t,3e4)}function G0(t){return(t??"online")==="online"?td.isOnline():!0}var K0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Yf(t){return t instanceof K0}function Y0(t){let n=!1,a=0,o=!1,l,c,m;const f=new Promise((C,k)=>{c=C,m=k}),x=C=>{var k;o||(N(new K0(C)),(k=t.abort)==null||k.call(t))},p=()=>{n=!0},y=()=>{n=!1},w=()=>W0.isFocused()&&(t.networkMode==="always"||td.isOnline())&&t.canRun(),v=()=>G0(t.networkMode)&&t.canRun(),S=C=>{var k;o||(o=!0,(k=t.onSuccess)==null||k.call(t,C),l==null||l(),c(C))},N=C=>{var k;o||(o=!0,(k=t.onError)==null||k.call(t,C),l==null||l(),m(C))},b=()=>new Promise(C=>{var k;l=P=>{(o||w())&&C(P)},(k=t.onPause)==null||k.call(t)}).then(()=>{var C;l=void 0,o||(C=t.onContinue)==null||C.call(t)}),j=()=>{if(o)return;let C;const k=a===0?t.initialPromise:void 0;try{C=k??t.fn()}catch(P){C=Promise.reject(P)}Promise.resolve(C).then(S).catch(P=>{var $;if(o)return;const A=t.retry??(kd?0:3),T=t.retryDelay??MP,L=typeof T=="function"?T(a,P):T,D=A===!0||typeof A=="number"&&a<A||typeof A=="function"&&A(a,P);if(n||!D){N(P);return}a++,($=t.onFail)==null||$.call(t,a,P),EP(L).then(()=>w()?void 0:b()).then(()=>{n?N(P):j()})})};return{promise:f,cancel:x,continue:()=>(l==null||l(),f),cancelRetry:p,continueRetry:y,canStart:v,start:()=>(v()?j():b().then(j),f)}}function IP(){let t=[],n=0,a=f=>{f()},o=f=>{f()},l=f=>setTimeout(f,0);const c=f=>{n?t.push(f):l(()=>{a(f)})},m=()=>{const f=t;t=[],f.length&&l(()=>{o(()=>{f.forEach(x=>{a(x)})})})};return{batch:f=>{let x;n++;try{x=f()}finally{n--,n||m()}return x},batchCalls:f=>(...x)=>{c(()=>{f(...x)})},schedule:c,setNotifyFunction:f=>{a=f},setBatchNotifyFunction:f=>{o=f},setScheduler:f=>{l=f}}}var cr=IP(),fa,uy,q0=(uy=class{constructor(){ht(this,fa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SP(this.gcTime)&&tt(this,fa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kd?1/0:5*60*1e3))}clearGcTimeout(){ae(this,fa)&&(clearTimeout(ae(this,fa)),tt(this,fa,void 0))}},fa=new WeakMap,uy),Do,Mo,Br,nr,rl,ma,sn,$n,fy,LP=(fy=class extends q0{constructor(n){super();ht(this,sn);ht(this,Do);ht(this,Mo);ht(this,Br);ht(this,nr);ht(this,rl);ht(this,ma);tt(this,ma,!1),tt(this,rl,n.defaultOptions),this.setOptions(n.options),this.observers=[],tt(this,Br,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,tt(this,Do,_P(this.options)),this.state=n.state??ae(this,Do),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ae(this,nr))==null?void 0:n.promise}setOptions(n){this.options={...ae(this,rl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Br).remove(this)}setData(n,a){const o=PP(this.state.data,n,this.options);return rr(this,sn,$n).call(this,{data:o,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),o}setState(n,a){rr(this,sn,$n).call(this,{type:"setState",state:n,setStateOptions:a})}cancel(n){var o,l;const a=(o=ae(this,nr))==null?void 0:o.promise;return(l=ae(this,nr))==null||l.cancel(n),a?a.then(nn).catch(nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,Do))}isActive(){return this.observers.some(n=>kP(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!CP(this.state.dataUpdatedAt,n)}onFocus(){var a;const n=this.observers.find(o=>o.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(a=ae(this,nr))==null||a.continue()}onOnline(){var a;const n=this.observers.find(o=>o.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(a=ae(this,nr))==null||a.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ae(this,Br).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(a=>a!==n),this.observers.length||(ae(this,nr)&&(ae(this,ma)?ae(this,nr).cancel({revert:!0}):ae(this,nr).cancelRetry()),this.scheduleGc()),ae(this,Br).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rr(this,sn,$n).call(this,{type:"invalidate"})}fetch(n,a){var x,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(ae(this,nr))return ae(this,nr).continueRetry(),ae(this,nr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const w=this.observers.find(v=>v.options.queryFn);w&&this.setOptions(w.options)}const o=new AbortController,l=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(tt(this,ma,!0),o.signal)})},c=()=>{const w=H0(this.options,a),v={queryKey:this.queryKey,meta:this.meta};return l(v),tt(this,ma,!1),this.options.persister?this.options.persister(w,v,this):w(v)},m={fetchOptions:a,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};l(m),(x=this.options.behavior)==null||x.onFetch(m,this),tt(this,Mo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=m.fetchOptions)==null?void 0:p.meta))&&rr(this,sn,$n).call(this,{type:"fetch",meta:(y=m.fetchOptions)==null?void 0:y.meta});const f=w=>{var v,S,N,b;Yf(w)&&w.silent||rr(this,sn,$n).call(this,{type:"error",error:w}),Yf(w)||((S=(v=ae(this,Br).config).onError)==null||S.call(v,w,this),(b=(N=ae(this,Br).config).onSettled)==null||b.call(N,this.state.data,w,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return tt(this,nr,Y0({initialPromise:a==null?void 0:a.initialPromise,fn:m.fetchFn,abort:o.abort.bind(o),onSuccess:w=>{var v,S,N,b;if(w===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(j){f(j);return}(S=(v=ae(this,Br).config).onSuccess)==null||S.call(v,w,this),(b=(N=ae(this,Br).config).onSettled)==null||b.call(N,w,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(w,v)=>{rr(this,sn,$n).call(this,{type:"failed",failureCount:w,error:v})},onPause:()=>{rr(this,sn,$n).call(this,{type:"pause"})},onContinue:()=>{rr(this,sn,$n).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),ae(this,nr).start()}},Do=new WeakMap,Mo=new WeakMap,Br=new WeakMap,nr=new WeakMap,rl=new WeakMap,ma=new WeakMap,sn=new WeakSet,$n=function(n){const a=o=>{switch(n.type){case"failed":return{...o,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...OP(o.data,this.options),fetchMeta:n.meta??null};case"success":return{...o,data:n.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=n.error;return Yf(l)&&l.revert&&ae(this,Mo)?{...ae(this,Mo),fetchStatus:"idle"}:{...o,error:l,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...n.state}}};this.state=a(this.state),cr.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),ae(this,Br).notify({query:this,type:"updated",action:n})})},fy);function OP(t,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G0(n.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _P(t){const n=typeof t.initialData=="function"?t.initialData():t.initialData,a=n!==void 0,o=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var gn,my,FP=(my=class extends Cd{constructor(n={}){super();ht(this,gn);this.config=n,tt(this,gn,new Map)}build(n,a,o){const l=a.queryKey,c=a.queryHash??Eh(l,a);let m=this.get(c);return m||(m=new LP({cache:this,queryKey:l,queryHash:c,options:n.defaultQueryOptions(a),state:o,defaultOptions:n.getQueryDefaults(l)}),this.add(m)),m}add(n){ae(this,gn).has(n.queryHash)||(ae(this,gn).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const a=ae(this,gn).get(n.queryHash);a&&(n.destroy(),a===n&&ae(this,gn).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){cr.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return ae(this,gn).get(n)}getAll(){return[...ae(this,gn).values()]}find(n){const a={exact:!0,...n};return this.getAll().find(o=>fv(a,o))}findAll(n={}){const a=this.getAll();return Object.keys(n).length>0?a.filter(o=>fv(n,o)):a}notify(n){cr.batch(()=>{this.listeners.forEach(a=>{a(n)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},gn=new WeakMap,my),vn,or,ha,yn,js,hy,$P=(hy=class extends q0{constructor(n){super();ht(this,yn);ht(this,vn);ht(this,or);ht(this,ha);this.mutationId=n.mutationId,tt(this,or,n.mutationCache),tt(this,vn,[]),this.state=n.state||BP(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ae(this,vn).includes(n)||(ae(this,vn).push(n),this.clearGcTimeout(),ae(this,or).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){tt(this,vn,ae(this,vn).filter(a=>a!==n)),this.scheduleGc(),ae(this,or).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ae(this,vn).length||(this.state.status==="pending"?this.scheduleGc():ae(this,or).remove(this))}continue(){var n;return((n=ae(this,ha))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var l,c,m,f,x,p,y,w,v,S,N,b,j,C,k,P,A,T,L,D;tt(this,ha,Y0({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:($,X)=>{rr(this,yn,js).call(this,{type:"failed",failureCount:$,error:X})},onPause:()=>{rr(this,yn,js).call(this,{type:"pause"})},onContinue:()=>{rr(this,yn,js).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,or).canRun(this)}));const a=this.state.status==="pending",o=!ae(this,ha).canStart();try{if(!a){rr(this,yn,js).call(this,{type:"pending",variables:n,isPaused:o}),await((c=(l=ae(this,or).config).onMutate)==null?void 0:c.call(l,n,this));const X=await((f=(m=this.options).onMutate)==null?void 0:f.call(m,n));X!==this.state.context&&rr(this,yn,js).call(this,{type:"pending",context:X,variables:n,isPaused:o})}const $=await ae(this,ha).start();return await((p=(x=ae(this,or).config).onSuccess)==null?void 0:p.call(x,$,n,this.state.context,this)),await((w=(y=this.options).onSuccess)==null?void 0:w.call(y,$,n,this.state.context)),await((S=(v=ae(this,or).config).onSettled)==null?void 0:S.call(v,$,null,this.state.variables,this.state.context,this)),await((b=(N=this.options).onSettled)==null?void 0:b.call(N,$,null,n,this.state.context)),rr(this,yn,js).call(this,{type:"success",data:$}),$}catch($){try{throw await((C=(j=ae(this,or).config).onError)==null?void 0:C.call(j,$,n,this.state.context,this)),await((P=(k=this.options).onError)==null?void 0:P.call(k,$,n,this.state.context)),await((T=(A=ae(this,or).config).onSettled)==null?void 0:T.call(A,void 0,$,this.state.variables,this.state.context,this)),await((D=(L=this.options).onSettled)==null?void 0:D.call(L,void 0,$,n,this.state.context)),$}finally{rr(this,yn,js).call(this,{type:"error",error:$})}}finally{ae(this,or).runNext(this)}}},vn=new WeakMap,or=new WeakMap,ha=new WeakMap,yn=new WeakSet,js=function(n){const a=o=>{switch(n.type){case"failed":return{...o,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...o,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:n.error,failureCount:o.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=a(this.state),cr.batch(()=>{ae(this,vn).forEach(o=>{o.onMutationUpdate(n)}),ae(this,or).notify({mutation:this,type:"updated",action:n})})},hy);function BP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rr,nl,py,zP=(py=class extends Cd{constructor(n={}){super();ht(this,Rr);ht(this,nl);this.config=n,tt(this,Rr,new Map),tt(this,nl,Date.now())}build(n,a,o){const l=new $P({mutationCache:this,mutationId:++kc(this,nl)._,options:n.defaultMutationOptions(a),state:o});return this.add(l),l}add(n){const a=Mc(n),o=ae(this,Rr).get(a)??[];o.push(n),ae(this,Rr).set(a,o),this.notify({type:"added",mutation:n})}remove(n){var o;const a=Mc(n);if(ae(this,Rr).has(a)){const l=(o=ae(this,Rr).get(a))==null?void 0:o.filter(c=>c!==n);l&&(l.length===0?ae(this,Rr).delete(a):ae(this,Rr).set(a,l))}this.notify({type:"removed",mutation:n})}canRun(n){var o;const a=(o=ae(this,Rr).get(Mc(n)))==null?void 0:o.find(l=>l.state.status==="pending");return!a||a===n}runNext(n){var o;const a=(o=ae(this,Rr).get(Mc(n)))==null?void 0:o.find(l=>l!==n&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}clear(){cr.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}getAll(){return[...ae(this,Rr).values()].flat()}find(n){const a={exact:!0,...n};return this.getAll().find(o=>mv(a,o))}findAll(n={}){return this.getAll().filter(a=>mv(n,a))}notify(n){cr.batch(()=>{this.listeners.forEach(a=>{a(n)})})}resumePausedMutations(){const n=this.getAll().filter(a=>a.state.isPaused);return cr.batch(()=>Promise.all(n.map(a=>a.continue().catch(nn))))}},Rr=new WeakMap,nl=new WeakMap,py);function Mc(t){var n;return((n=t.options.scope)==null?void 0:n.id)??String(t.mutationId)}function xv(t){return{onFetch:(n,a)=>{var y,w,v,S,N;const o=n.options,l=(v=(w=(y=n.fetchOptions)==null?void 0:y.meta)==null?void 0:w.fetchMore)==null?void 0:v.direction,c=((S=n.state.data)==null?void 0:S.pages)||[],m=((N=n.state.data)==null?void 0:N.pageParams)||[];let f={pages:[],pageParams:[]},x=0;const p=async()=>{let b=!1;const j=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},C=H0(n.options,n.fetchOptions),k=async(P,A,T)=>{if(b)return Promise.reject();if(A==null&&P.pages.length)return Promise.resolve(P);const L={queryKey:n.queryKey,pageParam:A,direction:T?"backward":"forward",meta:n.options.meta};j(L);const D=await C(L),{maxPages:$}=n.options,X=T?AP:RP;return{pages:X(P.pages,D,$),pageParams:X(P.pageParams,A,$)}};if(l&&c.length){const P=l==="backward",A=P?UP:gv,T={pages:c,pageParams:m},L=A(o,T);f=await k(T,L,P)}else{const P=t??c.length;do{const A=x===0?m[0]??o.initialPageParam:gv(o,f);if(x>0&&A==null)break;f=await k(f,A),x++}while(x<P)}return f};n.options.persister?n.fetchFn=()=>{var b,j;return(j=(b=n.options).persister)==null?void 0:j.call(b,p,{queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},a)}:n.fetchFn=p}}}function gv(t,{pages:n,pageParams:a}){const o=n.length-1;return n.length>0?t.getNextPageParam(n[o],n,a[o],a):void 0}function UP(t,{pages:n,pageParams:a}){var o;return n.length>0?(o=t.getPreviousPageParam)==null?void 0:o.call(t,n[0],n,a[0],a):void 0}var It,Es,Ps,Io,Lo,Rs,Oo,_o,xy,VP=(xy=class{constructor(t={}){ht(this,It);ht(this,Es);ht(this,Ps);ht(this,Io);ht(this,Lo);ht(this,Rs);ht(this,Oo);ht(this,_o);tt(this,It,t.queryCache||new FP),tt(this,Es,t.mutationCache||new zP),tt(this,Ps,t.defaultOptions||{}),tt(this,Io,new Map),tt(this,Lo,new Map),tt(this,Rs,0)}mount(){kc(this,Rs)._++,ae(this,Rs)===1&&(tt(this,Oo,W0.subscribe(async t=>{t&&(await this.resumePausedMutations(),ae(this,It).onFocus())})),tt(this,_o,td.subscribe(async t=>{t&&(await this.resumePausedMutations(),ae(this,It).onOnline())})))}unmount(){var t,n;kc(this,Rs)._--,ae(this,Rs)===0&&((t=ae(this,Oo))==null||t.call(this),tt(this,Oo,void 0),(n=ae(this,_o))==null||n.call(this),tt(this,_o,void 0))}isFetching(t){return ae(this,It).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ae(this,Es).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const n=this.defaultQueryOptions({queryKey:t});return(a=ae(this,It).get(n.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const n=this.getQueryData(t.queryKey);if(n===void 0)return this.fetchQuery(t);{const a=this.defaultQueryOptions(t),o=ae(this,It).build(this,a);return t.revalidateIfStale&&o.isStaleByTime(uv(a.staleTime,o))&&this.prefetchQuery(a),Promise.resolve(n)}}getQueriesData(t){return ae(this,It).findAll(t).map(({queryKey:n,state:a})=>{const o=a.data;return[n,o]})}setQueryData(t,n,a){const o=this.defaultQueryOptions({queryKey:t}),l=ae(this,It).get(o.queryHash),c=l==null?void 0:l.state.data,m=NP(n,c);if(m!==void 0)return ae(this,It).build(this,o).setData(m,{...a,manual:!0})}setQueriesData(t,n,a){return cr.batch(()=>ae(this,It).findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,n,a)]))}getQueryState(t){var a;const n=this.defaultQueryOptions({queryKey:t});return(a=ae(this,It).get(n.queryHash))==null?void 0:a.state}removeQueries(t){const n=ae(this,It);cr.batch(()=>{n.findAll(t).forEach(a=>{n.remove(a)})})}resetQueries(t,n){const a=ae(this,It),o={type:"active",...t};return cr.batch(()=>(a.findAll(t).forEach(l=>{l.reset()}),this.refetchQueries(o,n)))}cancelQueries(t={},n={}){const a={revert:!0,...n},o=cr.batch(()=>ae(this,It).findAll(t).map(l=>l.cancel(a)));return Promise.all(o).then(nn).catch(nn)}invalidateQueries(t={},n={}){return cr.batch(()=>{if(ae(this,It).findAll(t).forEach(o=>{o.invalidate()}),t.refetchType==="none")return Promise.resolve();const a={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(a,n)})}refetchQueries(t={},n){const a={...n,cancelRefetch:(n==null?void 0:n.cancelRefetch)??!0},o=cr.batch(()=>ae(this,It).findAll(t).filter(l=>!l.isDisabled()).map(l=>{let c=l.fetch(void 0,a);return a.throwOnError||(c=c.catch(nn)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(o).then(nn)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const a=ae(this,It).build(this,n);return a.isStaleByTime(uv(n.staleTime,a))?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nn).catch(nn)}fetchInfiniteQuery(t){return t.behavior=xv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nn).catch(nn)}ensureInfiniteQueryData(t){return t.behavior=xv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return td.isOnline()?ae(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,It)}getMutationCache(){return ae(this,Es)}getDefaultOptions(){return ae(this,Ps)}setDefaultOptions(t){tt(this,Ps,t)}setQueryDefaults(t,n){ae(this,Io).set(Qi(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[...ae(this,Io).values()];let a={};return n.forEach(o=>{Xi(t,o.queryKey)&&(a={...a,...o.defaultOptions})}),a}setMutationDefaults(t,n){ae(this,Lo).set(Qi(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[...ae(this,Lo).values()];let a={};return n.forEach(o=>{Xi(t,o.mutationKey)&&(a={...a,...o.defaultOptions})}),a}defaultQueryOptions(t){if(t._defaulted)return t;const n={...ae(this,Ps).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=Eh(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.enabled!==!0&&n.queryFn===V0&&(n.enabled=!1),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ae(this,Ps).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ae(this,It).clear(),ae(this,Es).clear()}},It=new WeakMap,Es=new WeakMap,Ps=new WeakMap,Io=new WeakMap,Lo=new WeakMap,Rs=new WeakMap,Oo=new WeakMap,_o=new WeakMap,xy),HP=d.createContext(void 0),WP=({client:t,children:n})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(HP.Provider,{value:t,children:n}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Ji.apply(this,arguments)}var Ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ds||(Ds={}));const vv="popstate";function GP(t){t===void 0&&(t={});function n(o,l){let{pathname:c,search:m,hash:f}=o.location;return Pm("",{pathname:c,search:m,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(o,l){return typeof l=="string"?l:rd(l)}return YP(n,a,null,t)}function Ft(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Q0(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function KP(){return Math.random().toString(36).substr(2,8)}function yv(t,n){return{usr:t.state,key:t.key,idx:n}}function Pm(t,n,a,o){return a===void 0&&(a=null),Ji({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?Ko(n):n,{state:a,key:n&&n.key||o||KP()})}function rd(t){let{pathname:n="/",search:a="",hash:o=""}=t;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Ko(t){let n={};if(t){let a=t.indexOf("#");a>=0&&(n.hash=t.substr(a),t=t.substr(0,a));let o=t.indexOf("?");o>=0&&(n.search=t.substr(o),t=t.substr(0,o)),t&&(n.pathname=t)}return n}function YP(t,n,a,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:c=!1}=o,m=l.history,f=Ds.Pop,x=null,p=y();p==null&&(p=0,m.replaceState(Ji({},m.state,{idx:p}),""));function y(){return(m.state||{idx:null}).idx}function w(){f=Ds.Pop;let j=y(),C=j==null?null:j-p;p=j,x&&x({action:f,location:b.location,delta:C})}function v(j,C){f=Ds.Push;let k=Pm(b.location,j,C);p=y()+1;let P=yv(k,p),A=b.createHref(k);try{m.pushState(P,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(A)}c&&x&&x({action:f,location:b.location,delta:1})}function S(j,C){f=Ds.Replace;let k=Pm(b.location,j,C);p=y();let P=yv(k,p),A=b.createHref(k);m.replaceState(P,"",A),c&&x&&x({action:f,location:b.location,delta:0})}function N(j){let C=l.location.origin!=="null"?l.location.origin:l.location.href,k=typeof j=="string"?j:rd(j);return k=k.replace(/ $/,"%20"),Ft(C,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,C)}let b={get action(){return f},get location(){return t(l,m)},listen(j){if(x)throw new Error("A history only accepts one active listener");return l.addEventListener(vv,w),x=j,()=>{l.removeEventListener(vv,w),x=null}},createHref(j){return n(l,j)},createURL:N,encodeLocation(j){let C=N(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:S,go(j){return m.go(j)}};return b}var wv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wv||(wv={}));function qP(t,n,a){return a===void 0&&(a="/"),QP(t,n,a)}function QP(t,n,a,o){let l=typeof n=="string"?Ko(n):n,c=Ph(l.pathname||"/",a);if(c==null)return null;let m=X0(t);XP(m);let f=null;for(let x=0;f==null&&x<m.length;++x){let p=c4(c);f=o4(m[x],p)}return f}function X0(t,n,a,o){n===void 0&&(n=[]),a===void 0&&(a=[]),o===void 0&&(o="");let l=(c,m,f)=>{let x={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};x.relativePath.startsWith("/")&&(Ft(x.relativePath.startsWith(o),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(o.length));let p=Is([o,x.relativePath]),y=a.concat(x);c.children&&c.children.length>0&&(Ft(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),X0(c.children,n,y,p)),!(c.path==null&&!c.index)&&n.push({path:p,score:s4(p,c.index),routesMeta:y})};return t.forEach((c,m)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,m);else for(let x of J0(c.path))l(c,m,x)}),n}function J0(t){let n=t.split("/");if(n.length===0)return[];let[a,...o]=n,l=a.endsWith("?"),c=a.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let m=J0(o.join("/")),f=[];return f.push(...m.map(x=>x===""?c:[c,x].join("/"))),l&&f.push(...m),f.map(x=>t.startsWith("/")&&x===""?"/":x)}function XP(t){t.sort((n,a)=>n.score!==a.score?a.score-n.score:a4(n.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const JP=/^:[\w-]+$/,ZP=3,e4=2,t4=1,r4=10,n4=-2,bv=t=>t==="*";function s4(t,n){let a=t.split("/"),o=a.length;return a.some(bv)&&(o+=n4),n&&(o+=e4),a.filter(l=>!bv(l)).reduce((l,c)=>l+(JP.test(c)?ZP:c===""?t4:r4),o)}function a4(t,n){return t.length===n.length&&t.slice(0,-1).every((o,l)=>o===n[l])?t[t.length-1]-n[n.length-1]:0}function o4(t,n,a){let{routesMeta:o}=t,l={},c="/",m=[];for(let f=0;f<o.length;++f){let x=o[f],p=f===o.length-1,y=c==="/"?n:n.slice(c.length)||"/",w=i4({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},y),v=x.route;if(!w)return null;Object.assign(l,w.params),m.push({params:l,pathname:Is([c,w.pathname]),pathnameBase:m4(Is([c,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(c=Is([c,w.pathnameBase]))}return m}function i4(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,o]=l4(t.path,t.caseSensitive,t.end),l=n.match(a);if(!l)return null;let c=l[0],m=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((p,y,w)=>{let{paramName:v,isOptional:S}=y;if(v==="*"){let b=f[w]||"";m=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const N=f[w];return S&&!N?p[v]=void 0:p[v]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:m,pattern:t}}function l4(t,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),Q0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,f,x)=>(o.push({paramName:f,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),o]}function c4(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Q0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function Ph(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,o=t.charAt(a);return o&&o!=="/"?null:t.slice(a)||"/"}function d4(t,n){n===void 0&&(n="/");let{pathname:a,search:o="",hash:l=""}=typeof t=="string"?Ko(t):t;return{pathname:a?a.startsWith("/")?a:u4(a,n):n,search:h4(o),hash:p4(l)}}function u4(t,n){let a=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function qf(t,n,a,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f4(t){return t.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function Rh(t,n){let a=f4(t);return n?a.map((o,l)=>l===a.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function Ah(t,n,a,o){o===void 0&&(o=!1);let l;typeof t=="string"?l=Ko(t):(l=Ji({},t),Ft(!l.pathname||!l.pathname.includes("?"),qf("?","pathname","search",l)),Ft(!l.pathname||!l.pathname.includes("#"),qf("#","pathname","hash",l)),Ft(!l.search||!l.search.includes("#"),qf("#","search","hash",l)));let c=t===""||l.pathname==="",m=c?"/":l.pathname,f;if(m==null)f=a;else{let w=n.length-1;if(!o&&m.startsWith("..")){let v=m.split("/");for(;v[0]==="..";)v.shift(),w-=1;l.pathname=v.join("/")}f=w>=0?n[w]:"/"}let x=d4(l,f),p=m&&m!=="/"&&m.endsWith("/"),y=(c||m===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(p||y)&&(x.pathname+="/"),x}const Is=t=>t.join("/").replace(/\/\/+/g,"/"),m4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z0=["post","put","patch","delete"];new Set(Z0);const g4=["get",...Z0];new Set(g4);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Zi.apply(this,arguments)}const Th=d.createContext(null),v4=d.createContext(null),Us=d.createContext(null),Ed=d.createContext(null),Vs=d.createContext({outlet:null,matches:[],isDataRoute:!1}),ew=d.createContext(null);function y4(t,n){let{relative:a}=n===void 0?{}:n;Yo()||Ft(!1);let{basename:o,navigator:l}=d.useContext(Us),{hash:c,pathname:m,search:f}=rw(t,{relative:a}),x=m;return o!=="/"&&(x=m==="/"?o:Is([o,m])),l.createHref({pathname:x,search:f,hash:c})}function Yo(){return d.useContext(Ed)!=null}function Yn(){return Yo()||Ft(!1),d.useContext(Ed).location}function tw(t){d.useContext(Us).static||d.useLayoutEffect(t)}function jr(){let{isDataRoute:t}=d.useContext(Vs);return t?D4():w4()}function w4(){Yo()||Ft(!1);let t=d.useContext(Th),{basename:n,future:a,navigator:o}=d.useContext(Us),{matches:l}=d.useContext(Vs),{pathname:c}=Yn(),m=JSON.stringify(Rh(l,a.v7_relativeSplatPath)),f=d.useRef(!1);return tw(()=>{f.current=!0}),d.useCallback(function(p,y){if(y===void 0&&(y={}),!f.current)return;if(typeof p=="number"){o.go(p);return}let w=Ah(p,JSON.parse(m),c,y.relative==="path");t==null&&n!=="/"&&(w.pathname=w.pathname==="/"?n:Is([n,w.pathname])),(y.replace?o.replace:o.push)(w,y.state,y)},[n,o,m,c,t])}function rw(t,n){let{relative:a}=n===void 0?{}:n,{future:o}=d.useContext(Us),{matches:l}=d.useContext(Vs),{pathname:c}=Yn(),m=JSON.stringify(Rh(l,o.v7_relativeSplatPath));return d.useMemo(()=>Ah(t,JSON.parse(m),c,a==="path"),[t,m,c,a])}function b4(t,n){return j4(t,n)}function j4(t,n,a,o){Yo()||Ft(!1);let{navigator:l}=d.useContext(Us),{matches:c}=d.useContext(Vs),m=c[c.length-1],f=m?m.params:{};m&&m.pathname;let x=m?m.pathnameBase:"/";m&&m.route;let p=Yn(),y;if(n){var w;let j=typeof n=="string"?Ko(n):n;x==="/"||(w=j.pathname)!=null&&w.startsWith(x)||Ft(!1),y=j}else y=p;let v=y.pathname||"/",S=v;if(x!=="/"){let j=x.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=qP(t,{pathname:S}),b=E4(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Is([x,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?x:Is([x,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,a,o);return n&&b?d.createElement(Ed.Provider,{value:{location:Zi({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ds.Pop}},b):b}function N4(){let t=T4(),n=x4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},n),a?d.createElement("pre",{style:l},a):null,null)}const S4=d.createElement(N4,null);class C4 extends d.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?d.createElement(Vs.Provider,{value:this.props.routeContext},d.createElement(ew.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k4(t){let{routeContext:n,match:a,children:o}=t,l=d.useContext(Th);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),d.createElement(Vs.Provider,{value:n},o)}function E4(t,n,a,o){var l;if(n===void 0&&(n=[]),a===void 0&&(a=null),o===void 0&&(o=null),t==null){var c;if(!a)return null;if(a.errors)t=a.matches;else if((c=o)!=null&&c.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let m=t,f=(l=a)==null?void 0:l.errors;if(f!=null){let y=m.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);y>=0||Ft(!1),m=m.slice(0,Math.min(m.length,y+1))}let x=!1,p=-1;if(a&&o&&o.v7_partialHydration)for(let y=0;y<m.length;y++){let w=m[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:v,errors:S}=a,N=w.route.loader&&v[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||N){x=!0,p>=0?m=m.slice(0,p+1):m=[m[0]];break}}}return m.reduceRight((y,w,v)=>{let S,N=!1,b=null,j=null;a&&(S=f&&w.route.id?f[w.route.id]:void 0,b=w.route.errorElement||S4,x&&(p<0&&v===0?(M4("route-fallback"),N=!0,j=null):p===v&&(N=!0,j=w.route.hydrateFallbackElement||null)));let C=n.concat(m.slice(0,v+1)),k=()=>{let P;return S?P=b:N?P=j:w.route.Component?P=d.createElement(w.route.Component,null):w.route.element?P=w.route.element:P=y,d.createElement(k4,{match:w,routeContext:{outlet:y,matches:C,isDataRoute:a!=null},children:P})};return a&&(w.route.ErrorBoundary||w.route.errorElement||v===0)?d.createElement(C4,{location:a.location,revalidation:a.revalidation,component:b,error:S,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):k()},null)}var nw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nw||{}),sw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sw||{});function P4(t){let n=d.useContext(Th);return n||Ft(!1),n}function R4(t){let n=d.useContext(v4);return n||Ft(!1),n}function A4(t){let n=d.useContext(Vs);return n||Ft(!1),n}function aw(t){let n=A4(),a=n.matches[n.matches.length-1];return a.route.id||Ft(!1),a.route.id}function T4(){var t;let n=d.useContext(ew),a=R4(),o=aw();return n!==void 0?n:(t=a.errors)==null?void 0:t[o]}function D4(){let{router:t}=P4(nw.UseNavigateStable),n=aw(sw.UseNavigateStable),a=d.useRef(!1);return tw(()=>{a.current=!0}),d.useCallback(function(l,c){c===void 0&&(c={}),a.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,Zi({fromRouteId:n},c)))},[t,n])}const jv={};function M4(t,n,a){jv[t]||(jv[t]=!0)}function Na(t){let{to:n,replace:a,state:o,relative:l}=t;Yo()||Ft(!1);let{future:c,static:m}=d.useContext(Us),{matches:f}=d.useContext(Vs),{pathname:x}=Yn(),p=jr(),y=Ah(n,Rh(f,c.v7_relativeSplatPath),x,l==="path"),w=JSON.stringify(y);return d.useEffect(()=>p(JSON.parse(w),{replace:a,state:o,relative:l}),[p,w,l,a,o]),null}function wr(t){Ft(!1)}function I4(t){let{basename:n="/",children:a=null,location:o,navigationType:l=Ds.Pop,navigator:c,static:m=!1,future:f}=t;Yo()&&Ft(!1);let x=n.replace(/^\/*/,"/"),p=d.useMemo(()=>({basename:x,navigator:c,static:m,future:Zi({v7_relativeSplatPath:!1},f)}),[x,f,c,m]);typeof o=="string"&&(o=Ko(o));let{pathname:y="/",search:w="",hash:v="",state:S=null,key:N="default"}=o,b=d.useMemo(()=>{let j=Ph(y,x);return j==null?null:{location:{pathname:j,search:w,hash:v,state:S,key:N},navigationType:l}},[x,y,w,v,S,N,l]);return b==null?null:d.createElement(Us.Provider,{value:p},d.createElement(Ed.Provider,{children:a,value:b}))}function L4(t){let{children:n,location:a}=t;return b4(Rm(n),a)}new Promise(()=>{});function Rm(t,n){n===void 0&&(n=[]);let a=[];return d.Children.forEach(t,(o,l)=>{if(!d.isValidElement(o))return;let c=[...n,l];if(o.type===d.Fragment){a.push.apply(a,Rm(o.props.children,c));return}o.type!==wr&&Ft(!1),!o.props.index||!o.props.children||Ft(!1);let m={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Rm(o.props.children,c)),a.push(m)}),a}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Am.apply(this,arguments)}function O4(t,n){if(t==null)return{};var a={},o=Object.keys(t),l,c;for(c=0;c<o.length;c++)l=o[c],!(n.indexOf(l)>=0)&&(a[l]=t[l]);return a}function _4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F4(t,n){return t.button===0&&(!n||n==="_self")&&!_4(t)}function Tm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,a)=>{let o=t[a];return n.concat(Array.isArray(o)?o.map(l=>[a,l]):[[a,o]])},[]))}function $4(t,n){let a=Tm(t);return n&&n.forEach((o,l)=>{a.has(l)||n.getAll(l).forEach(c=>{a.append(l,c)})}),a}const B4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],z4="6";try{window.__reactRouterVersion=z4}catch{}const U4="startTransition",Nv=vy[U4];function V4(t){let{basename:n,children:a,future:o,window:l}=t,c=d.useRef();c.current==null&&(c.current=GP({window:l,v5Compat:!0}));let m=c.current,[f,x]=d.useState({action:m.action,location:m.location}),{v7_startTransition:p}=o||{},y=d.useCallback(w=>{p&&Nv?Nv(()=>x(w)):x(w)},[x,p]);return d.useLayoutEffect(()=>m.listen(y),[m,y]),d.createElement(I4,{basename:n,children:a,location:f.location,navigationType:f.action,navigator:m,future:o})}const H4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zs=d.forwardRef(function(n,a){let{onClick:o,relative:l,reloadDocument:c,replace:m,state:f,target:x,to:p,preventScrollReset:y,unstable_viewTransition:w}=n,v=O4(n,B4),{basename:S}=d.useContext(Us),N,b=!1;if(typeof p=="string"&&W4.test(p)&&(N=p,H4))try{let P=new URL(window.location.href),A=p.startsWith("//")?new URL(P.protocol+p):new URL(p),T=Ph(A.pathname,S);A.origin===P.origin&&T!=null?p=T+A.search+A.hash:b=!0}catch{}let j=y4(p,{relative:l}),C=G4(p,{replace:m,state:f,target:x,preventScrollReset:y,relative:l,unstable_viewTransition:w});function k(P){o&&o(P),P.defaultPrevented||C(P)}return d.createElement("a",Am({},v,{href:N||j,onClick:b||c?o:k,ref:a,target:x}))});var Sv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sv||(Sv={}));var Cv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cv||(Cv={}));function G4(t,n){let{target:a,replace:o,state:l,preventScrollReset:c,relative:m,unstable_viewTransition:f}=n===void 0?{}:n,x=jr(),p=Yn(),y=rw(t,{relative:m});return d.useCallback(w=>{if(F4(w,a)){w.preventDefault();let v=o!==void 0?o:rd(p)===rd(y);x(t,{replace:v,state:l,preventScrollReset:c,relative:m,unstable_viewTransition:f})}},[p,x,y,o,l,a,t,c,m,f])}function ow(t){let n=d.useRef(Tm(t)),a=d.useRef(!1),o=Yn(),l=d.useMemo(()=>$4(o.search,a.current?null:n.current),[o.search]),c=jr(),m=d.useCallback((f,x)=>{const p=Tm(typeof f=="function"?f(l):f);a.current=!0,c("?"+p,x)},[c,l]);return[l,m]}const iw=d.createContext(void 0),K4=({children:t})=>{const[n,a]=d.useState(null),[o,l]=d.useState(null),[c,m]=d.useState(!1),[f,x]=d.useState(!0);d.useEffect(()=>{const P=localStorage.getItem("token")||sessionStorage.getItem("token");P&&l(P),x(!1)},[]),d.useEffect(()=>{o?p():a(null)},[o]);const p=d.useCallback(async()=>{if(o){m(!0);try{const P=await fetch("/api/profile",{headers:{Authorization:`Bearer ${o}`}});if(P.ok){const A=await P.json();a({id:A.id||A._id,name:A.name,email:A.email,role:A.role||"user",userId:A.userId,department:A.department,preferences:A.preferences,profilePicture:A.profilePicture})}else a(null),P.status===401&&(localStorage.removeItem("token"),sessionStorage.removeItem("token"),l(null))}catch{a(null)}finally{m(!1)}}},[o]),y=d.useCallback(async()=>{if(o)try{await fetch("/api/sessions/refresh",{method:"POST",headers:{Authorization:`Bearer ${o}`}})}catch(P){console.error("Failed to refresh session:",P)}},[o]),w=P=>{l(P),localStorage.setItem("token",P)},v=()=>{l(null),a(null),localStorage.removeItem("token"),sessionStorage.removeItem("token")},S=!!n&&!!o,N=(n==null?void 0:n.role)==="admin",b=(n==null?void 0:n.role)==="librarian"||(n==null?void 0:n.role)==="admin",j=!!n,C=P=>(n==null?void 0:n.role)===P,k=P=>!!n&&P.includes(n.role);return d.useEffect(()=>{if(!S)return;const P=setInterval(()=>{y()},5*60*1e3);return()=>clearInterval(P)},[S,y]),e.jsx(iw.Provider,{value:{user:n,token:o,loading:c,initialLoading:f,login:w,logout:v,fetchUser:p,refreshSession:y,isAuthenticated:S,isAdmin:N,isLibrarian:b,isUser:j,hasRole:C,hasAnyRole:k},children:t})};function Lt(){const t=d.useContext(iw);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const Dh=ol("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=d.forwardRef(({className:t,variant:n,size:a,asChild:o=!1,...l},c)=>{const m=o?Hn:"button";return e.jsx(m,{className:Me(Dh({variant:n,size:a,className:t})),ref:c,...l})});B.displayName="Button";const No=t=>e.jsxs("svg",{width:t.width||"1em",height:t.height||"1em",viewBox:"0 0 36 36",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:[e.jsx("title",{children:"Peso Sign"}),e.jsx("path",{d:"M31,13.2H27.89A6.81,6.81,0,0,0,28,12a7.85,7.85,0,0,0-.1-1.19h2.93a.8.8,0,0,0,0-1.6H27.46A8.44,8.44,0,0,0,19.57,4H11a1,1,0,0,0-1,1V9.2H7a.8.8,0,0,0,0,1.6h3v2.4H7a.8.8,0,0,0,0,1.6h3V31a1,1,0,0,0,2,0V20h7.57a8.45,8.45,0,0,0,7.89-5.2H31a.8.8,0,0,0,0-1.6ZM12,6h7.57a6.51,6.51,0,0,1,5.68,3.2H12Zm0,4.8H25.87a5.6,5.6,0,0,1,0,2.4H12ZM19.57,18H12V14.8H25.25A6.51,6.51,0,0,1,19.57,18Z"})]}),Ze=d.forwardRef(({className:t,type:n,...a},o)=>e.jsx("input",{type:n,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:o,...a}));Ze.displayName="Input";var Y4="Label",lw=d.forwardRef((t,n)=>e.jsx(Ne.label,{...t,ref:n,onMouseDown:a=>{var l;a.target.closest("button, input, select, textarea")||((l=t.onMouseDown)==null||l.call(t,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));lw.displayName=Y4;var cw=lw;const q4=ol("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ye=d.forwardRef(({className:t,...n},a)=>e.jsx(cw,{ref:a,className:Me(q4(),t),...n}));ye.displayName=cw.displayName;function Q4({isOpen:t,onClose:n,onBackToLogin:a}){const[o,l]=d.useState(""),[c,m]=d.useState(!1),[f,x]=d.useState(""),[p,y]=d.useState(!1);if(!t)return null;const w=async S=>{if(S.preventDefault(),!o.trim()){x("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){x("Please enter a valid email address");return}m(!0),x("");try{const N=await fetch("/api/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),b=await N.json();if(!N.ok||!b.success)throw new Error(b.message||"Failed to send reset email");y(!0),it.success("If your email exists in our system, you'll receive a password reset link shortly.")}catch(N){x(N instanceof Error?N.message:"Failed to send reset email")}finally{m(!1)}},v=()=>{l(""),x(""),y(!1),n()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black bg-opacity-50 pt-16 overflow-y-auto",onClick:v,children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 relative",onClick:S=>S.stopPropagation(),children:e.jsx("div",{className:"p-12",children:p?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Hi,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-4xl font-actor text-black mb-4",children:"Check Your Email"}),e.jsx("p",{className:"text-gray-600 font-actor mb-8",children:"If an account with that email exists, we've sent you a password reset link."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{onClick:a,className:"w-full py-4 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-colors",children:"Back to Login"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or try again."})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-brand-orange rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Hi,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-4xl font-actor text-black mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-gray-600 font-actor",children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(ye,{htmlFor:"email",className:"text-black font-bold text-lg",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ze,{id:"email",type:"email",value:o,onChange:S=>l(S.target.value),placeholder:"Enter your email address",className:"mt-2 px-4 py-3 rounded-full border-gray-400 focus:ring-2 focus:ring-brand-orange focus:border-transparent",disabled:c}),f&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:f})]}),e.jsx(B,{type:"submit",disabled:c,className:"w-full py-4 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-all duration-200 disabled:opacity-60 hover:scale-105 disabled:hover:scale-100",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"w-5 h-5 mr-2 animate-spin"}),"Sending Reset Link..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hi,{className:"w-5 h-5 mr-2"}),"Send Reset Link"]})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("button",{onClick:a,className:"flex items-center justify-center gap-2 text-brand-orange hover:text-brand-orange-light font-medium mx-auto",children:[e.jsx(il,{className:"w-4 h-4"}),"Back to Login"]})})]})})})})}function cl({isOpen:t,onClose:n,onLoginSuccess:a}){const[o,l]=d.useState(""),[c,m]=d.useState(""),[f,x]=d.useState(!1),[p,y]=d.useState(!1),[w,v]=d.useState(""),[S,N]=d.useState(""),[b,j]=d.useState(!1),{fetchUser:C}=Lt(),k=jr();if(!t)return null;const P=()=>{window.location.href="http://localhost:3000/api/auth/google"},A=async()=>{y(!0),v(""),N("");try{const T=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:c})}),L=await T.json();!T.ok||!L.success?v(L.message||"Login failed"):(f?localStorage.setItem("token",L.token):sessionStorage.setItem("token",L.token),await C(),N("Login successful!"),setTimeout(()=>{N(""),n(),a?a():k("/my-account"),setTimeout(()=>{window.location.reload()},500)},1200))}catch{v("Network error. Please try again.")}finally{y(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black bg-opacity-50 pt-16 overflow-y-auto",onClick:n,children:[e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 relative",onClick:T=>T.stopPropagation(),children:e.jsxs("div",{className:"p-12",children:[e.jsx("h2",{className:"text-5xl font-actor text-black text-center mb-12",children:"Log In"}),e.jsxs("button",{onClick:P,className:"w-full py-4 px-6 border border-gray-300 rounded-full flex items-center justify-center gap-3 mb-8 hover:bg-gray-50 transition-colors",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Continue with Google"})]}),e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx("div",{className:"flex-1 h-px bg-black"}),e.jsx("span",{className:"px-4 text-black font-bold",children:"or"}),e.jsx("div",{className:"flex-1 h-px bg-black"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-black font-bold text-lg mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:o,onChange:T=>l(T.target.value),placeholder:"Enter an email address",className:"w-full px-6 py-3 border border-gray-400 rounded-full placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-black font-bold text-lg mb-2",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",value:c,onChange:T=>m(T.target.value),placeholder:"Enter your password",className:"w-full px-6 py-3 border border-gray-400 rounded-full placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:T=>x(T.target.checked),className:"w-5 h-5 border border-black rounded mr-3 focus:outline-none focus:ring-2 focus:ring-brand-orange"}),e.jsx("span",{className:"text-black text-sm",children:"Remember me"})]})}),w&&e.jsx("div",{className:"mb-4 text-red-600 text-center font-bold",children:w}),S&&e.jsx("div",{className:"mb-4 text-green-600 text-center font-bold",children:S}),e.jsx("button",{onClick:A,className:"w-full py-4 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-all duration-200 disabled:opacity-60 hover:scale-105 disabled:hover:scale-100",disabled:p,children:p?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Logging in..."})]}):"Log in"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{onClick:()=>j(!0),className:"text-brand-orange hover:text-brand-orange-light font-medium underline",children:"Forgot your password?"})})]})}),e.jsx(Q4,{isOpen:b,onClose:()=>j(!1),onBackToLogin:()=>j(!1)})]})}function dl({isOpen:t,onClose:n,onRegistrationSuccess:a}){const[o,l]=d.useState(""),[c,m]=d.useState(""),[f,x]=d.useState(""),[p,y]=d.useState(!1),[w,v]=d.useState(""),[S,N]=d.useState("");if(jr(),!t)return null;const b=()=>{window.location.href="http://localhost:3000/api/auth/google"},j=async()=>{y(!0),v("");try{const C=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,email:c,password:f})}),k=await C.json();!C.ok||!k.success?v(k.message||"Registration failed"):(N("Account created successfully! Please log in."),it.success("Registration successful! Please log in with your new account."),l(""),m(""),x(""),setTimeout(()=>{N(""),n(),a&&a()},2e3))}catch{v("Network error. Please try again.")}finally{y(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black bg-opacity-50 pt-16 overflow-y-auto",onClick:n,children:e.jsx("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 relative",onClick:C=>C.stopPropagation(),children:e.jsxs("div",{className:"p-12",children:[e.jsx("h2",{className:"text-5xl font-actor text-black text-center mb-12",children:"Register for Free"}),e.jsxs("button",{onClick:b,className:"w-full py-4 px-6 border border-gray-300 rounded-full flex items-center justify-center gap-3 mb-8 hover:bg-gray-50 transition-colors",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Continue with Google"})]}),e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx("div",{className:"flex-1 h-px bg-black"}),e.jsx("span",{className:"px-4 text-black font-bold",children:"or"}),e.jsx("div",{className:"flex-1 h-px bg-black"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-black font-bold text-lg mb-2",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o,onChange:C=>l(C.target.value),placeholder:"Enter your name",className:"w-full px-6 py-3 border border-gray-400 rounded-full placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-black font-bold text-lg mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:c,onChange:C=>m(C.target.value),placeholder:"Enter an email address",className:"w-full px-6 py-3 border border-gray-400 rounded-full placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("label",{className:"block text-black font-bold text-lg mb-2",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",value:f,onChange:C=>x(C.target.value),placeholder:"Enter a password",className:"w-full px-6 py-3 border border-gray-400 rounded-full placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-orange focus:border-transparent"})]}),w&&e.jsx("div",{className:"mb-4 text-red-600 text-center font-bold",children:w}),S&&e.jsx("div",{className:"mb-4 text-green-600 text-center font-bold",children:S}),e.jsx("button",{onClick:j,className:"w-full py-4 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-all duration-200 disabled:opacity-60 hover:scale-105 disabled:hover:scale-100",disabled:p,children:p?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Creating..."})]}):"Create account"})]})})})}var Mh="Avatar",[X4,iM]=dr(Mh),[J4,dw]=X4(Mh),uw=d.forwardRef((t,n)=>{const{__scopeAvatar:a,...o}=t,[l,c]=d.useState("idle");return e.jsx(J4,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:c,children:e.jsx(Ne.span,{...o,ref:n})})});uw.displayName=Mh;var fw="AvatarImage",mw=d.forwardRef((t,n)=>{const{__scopeAvatar:a,src:o,onLoadingStatusChange:l=()=>{},...c}=t,m=dw(fw,a),f=Z4(o),x=kt(p=>{l(p),m.onImageLoadingStatusChange(p)});return jt(()=>{f!=="idle"&&x(f)},[f,x]),f==="loaded"?e.jsx(Ne.img,{...c,ref:n,src:o}):null});mw.displayName=fw;var hw="AvatarFallback",pw=d.forwardRef((t,n)=>{const{__scopeAvatar:a,delayMs:o,...l}=t,c=dw(hw,a),[m,f]=d.useState(o===void 0);return d.useEffect(()=>{if(o!==void 0){const x=window.setTimeout(()=>f(!0),o);return()=>window.clearTimeout(x)}},[o]),m&&c.imageLoadingStatus!=="loaded"?e.jsx(Ne.span,{...l,ref:n}):null});pw.displayName=hw;function Z4(t){const[n,a]=d.useState("idle");return jt(()=>{if(!t){a("error");return}let o=!0;const l=new window.Image,c=m=>()=>{o&&a(m)};return a("loading"),l.onload=c("loaded"),l.onerror=c("error"),l.src=t,()=>{o=!1}},[t]),n}var xw=uw,gw=mw,vw=pw;const yw=d.forwardRef(({className:t,...n},a)=>e.jsx(xw,{ref:a,className:Me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));yw.displayName=xw.displayName;const ww=d.forwardRef(({className:t,...n},a)=>e.jsx(gw,{ref:a,className:Me("aspect-square h-full w-full",t),...n}));ww.displayName=gw.displayName;const bw=d.forwardRef(({className:t,...n},a)=>e.jsx(vw,{ref:a,className:Me("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));bw.displayName=vw.displayName;function Sa({user:t,size:n="md",className:a="",showName:o=!1}){const[l,c]=d.useState(Date.now()),m=d.useCallback(y=>`/api/profile/picture/${y}?t=${l}`,[l]);d.useEffect(()=>{const y=w=>{w.detail.userId===t.id&&c(Date.now())};return window.addEventListener("profilePictureUpdated",y),()=>{window.removeEventListener("profilePictureUpdated",y)}},[t.id]);const f=y=>y.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x={sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base",xl:"h-16 w-16 text-lg"},p={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12",xl:"h-16 w-16"};return e.jsxs("div",{className:`flex items-center gap-2 ${a}`,children:[e.jsxs(yw,{className:x[n],children:[t.profilePicture?e.jsx(ww,{src:m(t.id),alt:t.name,className:"object-cover",onError:y=>{y.currentTarget.style.display="none";const w=y.currentTarget.nextElementSibling;w&&(w.style.display="flex")}}):null,e.jsx(bw,{className:`${p[n]} bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-medium`,children:t.name?f(t.name):e.jsx(Xt,{className:"w-1/2 h-1/2"})})]}),o&&e.jsx("span",{className:"font-medium text-gray-900",children:t.name})]})}const eR=[{id:1,title:"Sunrise on the Reaping",author:"suzanne collins",image:"https://cdn.builder.io/api/v1/image/assets/TEMP/34edae358b26ed6a89538e9afac38d52f316c31c?width=339"},{id:2,title:"Intermezzo",author:"sally rooney",image:"https://cdn.builder.io/api/v1/image/assets/TEMP/13643314ca30ce6917105bcb4ffdce9b411d2806?width=317"},{id:3,title:"Main Street Millionaire",author:"Codie sanchez",image:"https://cdn.builder.io/api/v1/image/assets/TEMP/b3085b1bccc4fb6986e6b397dc396a1fe957eb91?width=348"},{id:4,title:"The Emperor of Gladness",author:"ocean vuong",image:"https://cdn.builder.io/api/v1/image/assets/TEMP/8a157da7bbdb17da560b2cfbafd3a86812ce7788?width=328"},{id:5,title:"Never Flinch",author:"Stephen king",image:"https://cdn.builder.io/api/v1/image/assets/TEMP/f221dededd14a380781475af812f35c224444d72?width=326"}],tR=[{image:"https://m.media-amazon.com/images/I/91xNmlf86yL.jpg",rotation:"-rotate-[6deg]",position:"top-24 left-32",shadow:""},{image:"https://m.media-amazon.com/images/I/71O1It5N1VS.jpg",rotation:"rotate-[6deg]",position:"top-24 left-96",shadow:""}];function rR(){const[t,n]=d.useState(""),[a,o]=d.useState(!1),[l,c]=d.useState(!1),[m,f]=d.useState(0),[x,p]=d.useState([]),[y,w]=d.useState(!1),v=d.useRef(null),S=jr(),{user:N,logout:b,loading:j,isAdmin:C,isLibrarian:k,isUser:P}=Lt();d.useEffect(()=>{if(t.length<2){p([]),w(!1);return}const Q=new AbortController;return fetch(`/api/search/suggestions?q=${encodeURIComponent(t)}`,{signal:Q.signal}).then(te=>te.json()).then(te=>{p(te.suggestions||[]),w((te.suggestions||[]).length>0)}).catch(()=>{}),()=>Q.abort()},[t]),d.useEffect(()=>{function Q(te){v.current&&!v.current.contains(te.target)&&w(!1)}return y?document.addEventListener("mousedown",Q):document.removeEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[y]);const A=Q=>{n(Q),w(!1)},T=()=>{o(!0)},L=()=>{c(!0)},D=()=>{o(!1)},$=()=>{c(!1)},X=()=>{S("/my-account")},V=()=>{c(!1),o(!0)},ne=()=>{if(t.trim()){fh(t.trim());const Q=localStorage.getItem("token")||sessionStorage.getItem("token");N&&Q&&fetch("/api/search/history",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({query:t.trim()})}).catch(()=>{}),S(`/search?q=${encodeURIComponent(t.trim())}`)}},Z=Q=>{Q.key==="Enter"&&ne()},he=()=>{f(Q=>Q===0?2:Q-1)},q=()=>{f(Q=>Q===2?0:Q+1)};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"border-b border-brand-border-light bg-white",children:[!N&&!j&&e.jsx("div",{className:"flex items-center justify-center py-3 border-b border-brand-border-light",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-2xl font-alkalami",children:["Have library access?"," ",e.jsx("button",{onClick:T,className:"font-abhaya underline ml-3 hover:text-brand-orange transition-colors",children:"Log in"})]})})}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/0ec6016b55469bdd045398e228e52ebbbb309517?width=158",alt:"Logo",className:"h-22 w-20"})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"flex items-center gap-2"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[j?null:N?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>S("/my-account"),className:"flex items-center gap-2 px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx(Sa,{user:N,size:"sm"}),e.jsx("span",{children:N.name})]}),C&&e.jsx("button",{onClick:()=>S("/admin"),className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base bg-purple-500 text-white hover:bg-purple-600 transition-colors",children:"Admin"}),k&&!C&&e.jsx("button",{onClick:()=>S("/librarian"),className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Librarian"}),P&&!C&&!k&&e.jsx("button",{onClick:()=>S("/student"),className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base bg-green-500 text-white hover:bg-green-600 transition-colors",children:"My Library"}),e.jsx("button",{onClick:b,className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base bg-red-500 text-white hover:bg-red-600 transition-colors",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:L,className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base hover:bg-gray-50 transition-colors",children:"Register"}),e.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-brand-orange text-white rounded-full font-abhaya text-base hover:bg-brand-orange-light transition-colors",children:[e.jsx(Xt,{size:24}),"Log in"]})]}),e.jsx(zs,{to:"/settings",className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base hover:bg-brand-orange hover:text-white transition-colors flex items-center justify-center",style:{minWidth:"48px",minHeight:"48px",width:"48px",height:"48px",padding:0},children:e.jsx("img",{src:"/settings.png",alt:"Settings",className:"w-6 h-6"})})]})]})]}),e.jsxs("div",{className:"relative px-6 py-16 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-inknut font-normal text-black mb-8 max-w-4xl mx-auto leading-tight",children:"Discover a world, organized for your ease."}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search through a collection of written works",value:t,onChange:Q=>{n(Q.target.value),w(!0)},onKeyPress:Z,className:"w-full px-6 py-5 pr-16 border-2 border-black rounded-full text-base font-abhaya placeholder-brand-text-muted focus:outline-none focus:ring-2 focus:ring-brand-orange",autoComplete:"off",onFocus:()=>{x.length>0&&w(!0)}}),e.jsx("button",{onClick:ne,className:"absolute right-6 top-1/2 transform -translate-y-1/2 hover:text-brand-orange transition-colors",children:e.jsx(Vn,{size:20})}),y&&x.length>0&&e.jsx("div",{ref:v,className:"absolute left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-20 max-h-60 overflow-y-auto",children:x.map((Q,te)=>e.jsx("div",{className:"px-6 py-3 cursor-pointer hover:bg-brand-orange-light/20 text-base text-black",onClick:()=>A(Q),children:Q},te))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>{N?S("/search-history"):o(!0)},className:"px-7 py-3 border-2 border-black rounded-full font-abhaya text-base hover:bg-gray-50 transition-colors",children:"Search History"}),e.jsx(zs,{to:"/advanced-search",className:"font-abhaya text-base underline hover:text-brand-orange transition-colors",children:"Advanced Search"})]})]})]}),e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-b from-white to-brand-orange-gradient min-h-screen",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute w-[888px] h-[888px] rounded-full bg-gradient-to-b from-white via-white to-brand-orange-light opacity-80 top-64 right-0 transform translate-x-1/3"}),e.jsx("div",{className:"absolute w-[488px] h-[488px] rounded-full bg-gradient-to-b from-white via-white to-brand-orange-light opacity-60 bottom-0 left-0 transform -translate-x-1/4"}),e.jsx("div",{className:"absolute w-[165px] h-[165px] rounded-full bg-gradient-to-b from-white to-brand-orange-light bottom-32 left-96"}),e.jsx("div",{className:"absolute w-[105px] h-[105px] rounded-full bg-gradient-to-b from-white to-brand-orange-light top-80 right-96"}),e.jsx("div",{className:"absolute w-[54px] h-[54px] rounded-full bg-gradient-to-b from-white to-brand-orange-light bottom-72 right-80"})]}),e.jsx("div",{className:"relative z-10 px-6 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-5xl md:text-6xl lg:text-7xl font-abhaya font-bold text-brand-text-primary leading-tight",children:"Books take you to a different world"}),e.jsx("p",{className:"text-xl md:text-2xl font-actor text-brand-text-secondary leading-relaxed",children:"All books are rich in story and knowledge and here, you are yet to discover thousands of these stories."}),e.jsx("button",{onClick:()=>S("/search"),className:"bg-brand-orange text-white px-10 py-5 rounded-full text-2xl font-afacad font-bold tracking-tight hover:bg-brand-orange-light transition-colors",children:"BROWSE CATALOG"})]}),e.jsx("div",{className:"relative h-[700px] w-[700px] lg:h-[900px] lg:w-[900px] mx-auto overflow-visible flex items-center justify-center",children:tR.map((Q,te)=>e.jsx("img",{src:Q.image,alt:"Book cover",className:`absolute w-72 aspect-[2/3] object-cover rounded-lg transition-transform duration-300 ease-in-out hover:scale-105 hover:shadow-2xl ${Q.rotation} ${Q.position} ${Q.shadow}`},te))})]})})]}),e.jsx("div",{className:"px-6 py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-5xl md:text-6xl font-inknut font-medium text-brand-text-primary text-center mb-16",children:"NEW ARRIVALS"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:he,className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(dC,{size:28})}),e.jsx("button",{onClick:q,className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(qy,{size:28})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:eR.map(Q=>e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("img",{src:Q.image,alt:Q.title,className:"w-full aspect-[2/3] object-cover rounded-lg mx-auto shadow-lg transition-transform duration-300 ease-in-out hover:scale-105 hover:shadow-2xl"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-brand-text-muted text-sm font-abhaya uppercase tracking-wider",children:Q.author}),e.jsx("h3",{className:"text-lg font-abhaya text-black underline leading-tight",children:Q.title})]})]},Q.id))})]})]})}),e.jsx(cl,{isOpen:a,onClose:D,onLoginSuccess:X}),e.jsx(dl,{isOpen:l,onClose:$,onRegistrationSuccess:V})]})}function nR(){const t=jr(),{user:n,loading:a}=Lt(),[o,l]=d.useState(!1),[c,m]=d.useState(!1),[f,x]=d.useState({title:"",author:"",genre:"All fields",language:"All Languages",fromDate:"",toDate:"",journalTitle:"",isbn:""}),[p,y]=d.useState({articles:!1,researchReports:!1,reviews:!1,books:!1,miscellaneous:!1}),[w,v]=d.useState({}),[S,N]=d.useState([]);d.useEffect(()=>{fetch("/api/books/category-counts").then(V=>V.json()).then(V=>N(V))},[]);const b=()=>l(!0),j=()=>m(!0),C=()=>l(!1),k=()=>m(!1),P=()=>{t("/my-account")},A=()=>{m(!1),l(!0)},T=(V,ne)=>{x(Z=>({...Z,[V]:ne}))},L=(V,ne)=>{y(Z=>({...Z,[V]:ne}))},D=(V,ne)=>{v(Z=>({...Z,[V]:ne}))},$=()=>{const V=new URLSearchParams;Object.entries(f).forEach(([he,q])=>{q&&q!=="All fields"&&q!=="All Languages"&&V.append(he,q)}),Object.entries(p).forEach(([he,q])=>{q&&V.append("filter",he)}),Object.entries(w).forEach(([he,q])=>{q&&V.append("genre",he)});const ne=f.title||f.author||f.genre||f.language||f.journalTitle||f.isbn;ne&&ne.trim()&&fh(ne.trim());const Z=V.toString();t(`/search${Z?`?${Z}`:""}`)},X=()=>{const V=Object.entries(f).some(([he,q])=>he==="genre"&&q==="All fields"||he==="language"&&q==="All Languages"?!1:q&&q.trim()!==""),ne=Object.values(p).some(Boolean),Z=Object.values(w).some(Boolean);return V||ne||Z};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"border-b border-brand-border-light bg-white",children:[!n&&!a&&e.jsxs("div",{className:"flex items-center justify-center py-3 border-b border-brand-border-light",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-2xl font-alkalami",children:["Have library access?"," ",e.jsx("button",{onClick:b,className:"font-abhaya underline ml-3 hover:text-brand-orange transition-colors",children:"Log in"})]})}),e.jsx(ch,{size:24,className:"absolute right-12 top-3"})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(zs,{to:"/",children:e.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/0ec6016b55469bdd045398e228e52ebbbb309517?width=158",alt:"Logo",className:"h-22 w-20"})})}),e.jsx("div",{className:"flex items-center gap-3",children:a||n?null:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base hover:bg-gray-50 transition-colors",children:"Register"}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-brand-orange text-white rounded-full font-abhaya text-base hover:bg-brand-orange-light transition-colors",children:[e.jsx(Xt,{size:24}),"Log in"]})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsx("h1",{className:"text-6xl font-abhaya text-black mb-16",children:"Advanced Search"}),e.jsxs("div",{className:"mb-16",children:[e.jsx("p",{className:"text-2xl font-abhaya text-brand-text-primary mb-8",children:"Construct your search inquiry"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-2xl font-afacad text-brand-text-secondary uppercase mb-4",children:"Title"}),e.jsx("input",{type:"text",value:f.title,onChange:V=>T("title",V.target.value),className:"w-full px-4 py-3 border border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-2xl font-afacad text-brand-text-secondary uppercase mb-4",children:"Genre"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:f.genre,onChange:V=>T("genre",V.target.value),className:"w-full px-4 py-3 border border-gray-400 rounded appearance-none focus:outline-none focus:ring-2 focus:ring-brand-orange",children:[e.jsx("option",{value:"All fields",children:"All fields"}),e.jsx("option",{value:"Fiction",children:"Fiction"}),e.jsx("option",{value:"Non-Fiction",children:"Non-Fiction"}),e.jsx("option",{value:"Academic",children:"Academic"})]}),e.jsx(pa,{className:"absolute right-4 top-1/2 transform -translate-y-1/2",size:20})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-2xl font-afacad text-brand-text-secondary uppercase mb-4",children:"Author"}),e.jsx("input",{type:"text",value:f.author,onChange:V=>T("author",V.target.value),className:"w-full lg:w-1/2 px-4 py-3 border border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),e.jsx("button",{onClick:$,className:"bg-brand-orange text-white px-8 py-4 rounded-full text-2xl font-afacad font-semibold hover:bg-brand-orange-light transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!X(),children:"Submit Advanced Search"})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-6xl font-abhaya text-black mb-8",children:"Narrow Search"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[{key:"articles",label:"Articles"},{key:"researchReports",label:"Research Reports"},{key:"reviews",label:"Reviews"},{key:"miscellaneous",label:"Miscellaneous"},{key:"books",label:"Books"}].map(({key:V,label:ne})=>e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:p[V],onChange:Z=>L(V,Z.target.checked),className:"w-5 h-5 border border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-brand-orange"}),e.jsx("span",{className:"text-2xl font-afacad text-brand-text-secondary underline",children:ne})]},V))}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-2xl font-afacad text-brand-text-secondary uppercase mb-4",children:"Language"}),e.jsxs("div",{className:"relative w-64",children:[e.jsxs("select",{value:f.language,onChange:V=>T("language",V.target.value),className:"w-full px-4 py-3 border border-gray-400 rounded appearance-none focus:outline-none focus:ring-2 focus:ring-brand-orange",children:[e.jsx("option",{value:"All Languages",children:"All Languages"}),e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"Spanish",children:"Spanish"}),e.jsx("option",{value:"French",children:"French"})]}),e.jsx(pa,{className:"absolute right-4 top-1/2 transform -translate-y-1/2",size:20})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-2xl font-afacad text-brand-text-secondary uppercase mb-4",children:"Publication Date"}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xl font-afacad text-gray-600 uppercase mb-2",children:"From"}),e.jsx("input",{type:"text",value:f.fromDate,onChange:V=>T("fromDate",V.target.value),className:"w-48 px-4 py-3 border border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xl font-afacad text-gray-600 uppercase mb-2",children:"To"}),e.jsx("input",{type:"text",value:f.toDate,onChange:V=>T("toDate",V.target.value),className:"w-48 px-4 py-3 border border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-brand-orange"})]})]}),e.jsx("p",{className:"text-xl font-afacad text-gray-500 underline",children:"(yyyy or yyyy/mm or yyyy/mm/dd)"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-xl font-afacad text-gray-600 uppercase mb-2",children:"Journal or Book Title"}),e.jsx("input",{type:"text",value:f.journalTitle,onChange:V=>T("journalTitle",V.target.value),className:"w-full lg:w-2/3 px-4 py-3 border border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-brand-orange"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-xl font-afacad text-gray-600 uppercase mb-2",children:"ISBN"}),e.jsx("input",{type:"text",value:f.isbn,onChange:V=>T("isbn",V.target.value),className:"w-full lg:w-2/3 px-4 py-3 border border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-brand-orange"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-abhaya text-black mb-8",children:"Advanced Filter"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(({_id:V,count:ne})=>e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:!!w[V],onChange:Z=>D(V,Z.target.checked),className:"w-4 h-5 border border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-brand-orange"}),e.jsxs("span",{className:"text-2xl font-afacad text-brand-text-secondary underline",children:[V," (",ne," titles)"]})]},V))})]})]}),e.jsx(cl,{isOpen:o,onClose:C,onLoginSuccess:P}),e.jsx(dl,{isOpen:c,onClose:k,onRegistrationSuccess:A})]})}function sR(t,n){const a=d.createContext(n),o=c=>{const{children:m,...f}=c,x=d.useMemo(()=>f,Object.values(f));return e.jsx(a.Provider,{value:x,children:m})};o.displayName=t+"Provider";function l(c){const m=d.useContext(a);if(m)return m;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[o,l]}function aR(t,n=[]){let a=[];function o(c,m){const f=d.createContext(m),x=a.length;a=[...a,m];const p=w=>{var C;const{scope:v,children:S,...N}=w,b=((C=v==null?void 0:v[t])==null?void 0:C[x])||f,j=d.useMemo(()=>N,Object.values(N));return e.jsx(b.Provider,{value:j,children:S})};p.displayName=c+"Provider";function y(w,v){var b;const S=((b=v==null?void 0:v[t])==null?void 0:b[x])||f,N=d.useContext(S);if(N)return N;if(m!==void 0)return m;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[p,y]}const l=()=>{const c=a.map(m=>d.createContext(m));return function(f){const x=(f==null?void 0:f[t])||c;return d.useMemo(()=>({[`__scope${t}`]:{...f,[t]:x}}),[f,x])}};return l.scopeName=t,[o,oR(l,...n)]}function oR(...t){const n=t[0];if(t.length===1)return n;const a=()=>{const o=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const m=o.reduce((f,{useScope:x,scopeName:p})=>{const w=x(c)[`__scope${p}`];return{...f,...w}},{});return d.useMemo(()=>({[`__scope${n.scopeName}`]:m}),[m])}};return a.scopeName=n.scopeName,a}var Qf="focusScope.autoFocusOnMount",Xf="focusScope.autoFocusOnUnmount",kv={bubbles:!1,cancelable:!0},iR="FocusScope",ul=d.forwardRef((t,n)=>{const{loop:a=!1,trapped:o=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...m}=t,[f,x]=d.useState(null),p=kt(l),y=kt(c),w=d.useRef(null),v=We(n,b=>x(b)),S=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(o){let b=function(P){if(S.paused||!f)return;const A=P.target;f.contains(A)?w.current=A:Ns(w.current,{select:!0})},j=function(P){if(S.paused||!f)return;const A=P.relatedTarget;A!==null&&(f.contains(A)||Ns(w.current,{select:!0}))},C=function(P){if(document.activeElement===document.body)for(const T of P)T.removedNodes.length>0&&Ns(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const k=new MutationObserver(C);return f&&k.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),k.disconnect()}}},[o,f,S.paused]),d.useEffect(()=>{if(f){Pv.add(S);const b=document.activeElement;if(!f.contains(b)){const C=new CustomEvent(Qf,kv);f.addEventListener(Qf,p),f.dispatchEvent(C),C.defaultPrevented||(lR(mR(jw(f)),{select:!0}),document.activeElement===b&&Ns(f))}return()=>{f.removeEventListener(Qf,p),setTimeout(()=>{const C=new CustomEvent(Xf,kv);f.addEventListener(Xf,y),f.dispatchEvent(C),C.defaultPrevented||Ns(b??document.body,{select:!0}),f.removeEventListener(Xf,y),Pv.remove(S)},0)}}},[f,p,y,S]);const N=d.useCallback(b=>{if(!a&&!o||S.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(j&&C){const k=b.currentTarget,[P,A]=cR(k);P&&A?!b.shiftKey&&C===A?(b.preventDefault(),a&&Ns(P,{select:!0})):b.shiftKey&&C===P&&(b.preventDefault(),a&&Ns(A,{select:!0})):C===k&&b.preventDefault()}},[a,o,S.paused]);return e.jsx(Ne.div,{tabIndex:-1,...m,ref:v,onKeyDown:N})});ul.displayName=iR;function lR(t,{select:n=!1}={}){const a=document.activeElement;for(const o of t)if(Ns(o,{select:n}),document.activeElement!==a)return}function cR(t){const n=jw(t),a=Ev(n,t),o=Ev(n.reverse(),t);return[a,o]}function jw(t){const n=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function Ev(t,n){for(const a of t)if(!dR(a,{upTo:n}))return a}function dR(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uR(t){return t instanceof HTMLInputElement&&"select"in t}function Ns(t,{select:n=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&uR(t)&&n&&t.select()}}var Pv=fR();function fR(){let t=[];return{add(n){const a=t[0];n!==a&&(a==null||a.pause()),t=Rv(t,n),t.unshift(n)},remove(n){var a;t=Rv(t,n),(a=t[0])==null||a.resume()}}}function Rv(t,n){const a=[...t],o=a.indexOf(n);return o!==-1&&a.splice(o,1),a}function mR(t){return t.filter(n=>n.tagName!=="A")}function hR(t,n){return d.useReducer((a,o)=>n[a][o]??a,t)}var Pd=t=>{const{present:n,children:a}=t,o=pR(n),l=typeof a=="function"?a({present:o.isPresent}):d.Children.only(a),c=We(o.ref,xR(l));return typeof a=="function"||o.isPresent?d.cloneElement(l,{ref:c}):null};Pd.displayName="Presence";function pR(t){const[n,a]=d.useState(),o=d.useRef({}),l=d.useRef(t),c=d.useRef("none"),m=t?"mounted":"unmounted",[f,x]=hR(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const p=Ic(o.current);c.current=f==="mounted"?p:"none"},[f]),jt(()=>{const p=o.current,y=l.current;if(y!==t){const v=c.current,S=Ic(p);t?x("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?x("UNMOUNT"):x(y&&v!==S?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,x]),jt(()=>{if(n){let p;const y=n.ownerDocument.defaultView??window,w=S=>{const b=Ic(o.current).includes(S.animationName);if(S.target===n&&b&&(x("ANIMATION_END"),!l.current)){const j=n.style.animationFillMode;n.style.animationFillMode="forwards",p=y.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=j)})}},v=S=>{S.target===n&&(c.current=Ic(o.current))};return n.addEventListener("animationstart",v),n.addEventListener("animationcancel",w),n.addEventListener("animationend",w),()=>{y.clearTimeout(p),n.removeEventListener("animationstart",v),n.removeEventListener("animationcancel",w),n.removeEventListener("animationend",w)}}else x("ANIMATION_END")},[n,x]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:d.useCallback(p=>{p&&(o.current=getComputedStyle(p)),a(p)},[])}}function Ic(t){return(t==null?void 0:t.animationName)||"none"}function xR(t){var o,l;let n=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Jf=0;function gR(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Av()),document.body.insertAdjacentElement("beforeend",t[1]??Av()),Jf++,()=>{Jf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Jf--}},[])}function Av(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xt=function(){return xt=Object.assign||function(n){for(var a,o=1,l=arguments.length;o<l;o++){a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},xt.apply(this,arguments)};function fl(t,n){var a={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(a[o[l]]=t[o[l]]);return a}function Rd(t,n,a){if(a||arguments.length===2)for(var o=0,l=n.length,c;o<l;o++)(c||!(o in n))&&(c||(c=Array.prototype.slice.call(n,0,o)),c[o]=n[o]);return t.concat(c||Array.prototype.slice.call(n))}var va="right-scroll-bar-position",ya="width-before-scroll-bar",vR="with-scroll-bars-hidden",yR="--removed-body-scroll-bar-size";function Zf(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function wR(t,n){var a=d.useState(function(){return{value:t,callback:n,facade:{get current(){return a.value},set current(o){var l=a.value;l!==o&&(a.value=o,a.callback(o,l))}}}})[0];return a.callback=n,a.facade}var bR=typeof window<"u"?d.useLayoutEffect:d.useEffect,Tv=new WeakMap;function Ad(t,n){var a=wR(null,function(o){return t.forEach(function(l){return Zf(l,o)})});return bR(function(){var o=Tv.get(a);if(o){var l=new Set(o),c=new Set(t),m=a.current;l.forEach(function(f){c.has(f)||Zf(f,null)}),c.forEach(function(f){l.has(f)||Zf(f,m)})}Tv.set(a,t)},[t]),a}function jR(t){return t}function NR(t,n){n===void 0&&(n=jR);var a=[],o=!1,l={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(c){var m=n(c,o);return a.push(m),function(){a=a.filter(function(f){return f!==m})}},assignSyncMedium:function(c){for(o=!0;a.length;){var m=a;a=[],m.forEach(c)}a={push:function(f){return c(f)},filter:function(){return a}}},assignMedium:function(c){o=!0;var m=[];if(a.length){var f=a;a=[],f.forEach(c),m=a}var x=function(){var y=m;m=[],y.forEach(c)},p=function(){return Promise.resolve().then(x)};p(),a={push:function(y){m.push(y),p()},filter:function(y){return m=m.filter(y),a}}}};return l}function Td(t){t===void 0&&(t={});var n=NR(null);return n.options=xt({async:!0,ssr:!1},t),n}var Nw=function(t){var n=t.sideCar,a=fl(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return d.createElement(o,xt({},a))};Nw.isSideCarExport=!0;function Dd(t,n){return t.useMedium(n),Nw}var Sw=Td(),em=function(){},Md=d.forwardRef(function(t,n){var a=d.useRef(null),o=d.useState({onScrollCapture:em,onWheelCapture:em,onTouchMoveCapture:em}),l=o[0],c=o[1],m=t.forwardProps,f=t.children,x=t.className,p=t.removeScrollBar,y=t.enabled,w=t.shards,v=t.sideCar,S=t.noIsolation,N=t.inert,b=t.allowPinchZoom,j=t.as,C=j===void 0?"div":j,k=t.gapMode,P=fl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=v,T=Ad([a,n]),L=xt(xt({},P),l);return d.createElement(d.Fragment,null,y&&d.createElement(A,{sideCar:Sw,removeScrollBar:p,shards:w,noIsolation:S,inert:N,setCallbacks:c,allowPinchZoom:!!b,lockRef:a,gapMode:k}),m?d.cloneElement(d.Children.only(f),xt(xt({},L),{ref:T})):d.createElement(C,xt({},L,{className:x,ref:T}),f))});Md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Md.classNames={fullWidth:ya,zeroRight:va};var SR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=SR();return n&&t.setAttribute("nonce",n),t}function kR(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function ER(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var PR=function(){var t=0,n=null;return{add:function(a){t==0&&(n=CR())&&(kR(n,a),ER(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},RR=function(){var t=PR();return function(n,a){d.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&a])}},ml=function(){var t=RR(),n=function(a){var o=a.styles,l=a.dynamic;return t(o,l),null};return n},AR={left:0,top:0,right:0,gap:0},tm=function(t){return parseInt(t||"",10)||0},TR=function(t){var n=window.getComputedStyle(document.body),a=n[t==="padding"?"paddingLeft":"marginLeft"],o=n[t==="padding"?"paddingTop":"marginTop"],l=n[t==="padding"?"paddingRight":"marginRight"];return[tm(a),tm(o),tm(l)]},DR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return AR;var n=TR(t),a=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-a+n[2]-n[0])}},MR=ml(),So="data-scroll-locked",IR=function(t,n,a,o){var l=t.left,c=t.top,m=t.right,f=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(vR,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),a==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),a==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(va,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(ya,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(va," .").concat(va,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(ya," .").concat(ya,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(So,`] {
    `).concat(yR,": ").concat(f,`px;
  }
`)},Dv=function(){var t=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(t)?t:0},LR=function(){d.useEffect(function(){return document.body.setAttribute(So,(Dv()+1).toString()),function(){var t=Dv()-1;t<=0?document.body.removeAttribute(So):document.body.setAttribute(So,t.toString())}},[])},Id=function(t){var n=t.noRelative,a=t.noImportant,o=t.gapMode,l=o===void 0?"margin":o;LR();var c=d.useMemo(function(){return DR(l)},[l]);return d.createElement(MR,{styles:IR(c,!n,l,a?"":"!important")})},Dm=!1;if(typeof window<"u")try{var Lc=Object.defineProperty({},"passive",{get:function(){return Dm=!0,!0}});window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{Dm=!1}var uo=Dm?{passive:!1}:!1,OR=function(t){return t.tagName==="TEXTAREA"},Cw=function(t,n){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[n]!=="hidden"&&!(a.overflowY===a.overflowX&&!OR(t)&&a[n]==="visible")},_R=function(t){return Cw(t,"overflowY")},FR=function(t){return Cw(t,"overflowX")},Mv=function(t,n){var a=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var l=kw(t,o);if(l){var c=Ew(t,o),m=c[1],f=c[2];if(m>f)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},$R=function(t){var n=t.scrollTop,a=t.scrollHeight,o=t.clientHeight;return[n,a,o]},BR=function(t){var n=t.scrollLeft,a=t.scrollWidth,o=t.clientWidth;return[n,a,o]},kw=function(t,n){return t==="v"?_R(n):FR(n)},Ew=function(t,n){return t==="v"?$R(n):BR(n)},zR=function(t,n){return t==="h"&&n==="rtl"?-1:1},UR=function(t,n,a,o,l){var c=zR(t,window.getComputedStyle(n).direction),m=c*o,f=a.target,x=n.contains(f),p=!1,y=m>0,w=0,v=0;do{var S=Ew(t,f),N=S[0],b=S[1],j=S[2],C=b-j-c*N;(N||C)&&kw(t,f)&&(w+=C,v+=N),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!x&&f!==document.body||x&&(n.contains(f)||n===f));return(y&&Math.abs(w)<1||!y&&Math.abs(v)<1)&&(p=!0),p},Oc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Iv=function(t){return[t.deltaX,t.deltaY]},Lv=function(t){return t&&"current"in t?t.current:t},VR=function(t,n){return t[0]===n[0]&&t[1]===n[1]},HR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},WR=0,fo=[];function GR(t){var n=d.useRef([]),a=d.useRef([0,0]),o=d.useRef(),l=d.useState(WR++)[0],c=d.useState(ml)[0],m=d.useRef(t);d.useEffect(function(){m.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var b=Rd([t.lockRef.current],(t.shards||[]).map(Lv),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var f=d.useCallback(function(b,j){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!m.current.allowPinchZoom;var C=Oc(b),k=a.current,P="deltaX"in b?b.deltaX:k[0]-C[0],A="deltaY"in b?b.deltaY:k[1]-C[1],T,L=b.target,D=Math.abs(P)>Math.abs(A)?"h":"v";if("touches"in b&&D==="h"&&L.type==="range")return!1;var $=Mv(D,L);if(!$)return!0;if($?T=D:(T=D==="v"?"h":"v",$=Mv(D,L)),!$)return!1;if(!o.current&&"changedTouches"in b&&(P||A)&&(o.current=T),!T)return!0;var X=o.current||T;return UR(X,j,b,X==="h"?P:A)},[]),x=d.useCallback(function(b){var j=b;if(!(!fo.length||fo[fo.length-1]!==c)){var C="deltaY"in j?Iv(j):Oc(j),k=n.current.filter(function(T){return T.name===j.type&&(T.target===j.target||j.target===T.shadowParent)&&VR(T.delta,C)})[0];if(k&&k.should){j.cancelable&&j.preventDefault();return}if(!k){var P=(m.current.shards||[]).map(Lv).filter(Boolean).filter(function(T){return T.contains(j.target)}),A=P.length>0?f(j,P[0]):!m.current.noIsolation;A&&j.cancelable&&j.preventDefault()}}},[]),p=d.useCallback(function(b,j,C,k){var P={name:b,delta:j,target:C,should:k,shadowParent:KR(C)};n.current.push(P),setTimeout(function(){n.current=n.current.filter(function(A){return A!==P})},1)},[]),y=d.useCallback(function(b){a.current=Oc(b),o.current=void 0},[]),w=d.useCallback(function(b){p(b.type,Iv(b),b.target,f(b,t.lockRef.current))},[]),v=d.useCallback(function(b){p(b.type,Oc(b),b.target,f(b,t.lockRef.current))},[]);d.useEffect(function(){return fo.push(c),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:v}),document.addEventListener("wheel",x,uo),document.addEventListener("touchmove",x,uo),document.addEventListener("touchstart",y,uo),function(){fo=fo.filter(function(b){return b!==c}),document.removeEventListener("wheel",x,uo),document.removeEventListener("touchmove",x,uo),document.removeEventListener("touchstart",y,uo)}},[]);var S=t.removeScrollBar,N=t.inert;return d.createElement(d.Fragment,null,N?d.createElement(c,{styles:HR(l)}):null,S?d.createElement(Id,{gapMode:t.gapMode}):null)}function KR(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const YR=Dd(Sw,GR);var Pw=d.forwardRef(function(t,n){return d.createElement(Md,xt({},t,{ref:n,sideCar:YR}))});Pw.classNames=Md.classNames;var qR=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},mo=new WeakMap,_c=new WeakMap,Fc={},rm=0,Rw=function(t){return t&&(t.host||Rw(t.parentNode))},QR=function(t,n){return n.map(function(a){if(t.contains(a))return a;var o=Rw(a);return o&&t.contains(o)?o:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},XR=function(t,n,a,o){var l=QR(n,Array.isArray(t)?t:[t]);Fc[a]||(Fc[a]=new WeakMap);var c=Fc[a],m=[],f=new Set,x=new Set(l),p=function(w){!w||f.has(w)||(f.add(w),p(w.parentNode))};l.forEach(p);var y=function(w){!w||x.has(w)||Array.prototype.forEach.call(w.children,function(v){if(f.has(v))y(v);else try{var S=v.getAttribute(o),N=S!==null&&S!=="false",b=(mo.get(v)||0)+1,j=(c.get(v)||0)+1;mo.set(v,b),c.set(v,j),m.push(v),b===1&&N&&_c.set(v,!0),j===1&&v.setAttribute(a,"true"),N||v.setAttribute(o,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return y(n),f.clear(),rm++,function(){m.forEach(function(w){var v=mo.get(w)-1,S=c.get(w)-1;mo.set(w,v),c.set(w,S),v||(_c.has(w)||w.removeAttribute(o),_c.delete(w)),S||w.removeAttribute(a)}),rm--,rm||(mo=new WeakMap,mo=new WeakMap,_c=new WeakMap,Fc={})}},Ld=function(t,n,a){a===void 0&&(a="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),l=qR(t);return l?(o.push.apply(o,Array.from(l.querySelectorAll("[aria-live]"))),XR(o,l,a,"aria-hidden")):function(){return null}},Ih="Dialog",[Aw,lM]=aR(Ih),[JR,ln]=Aw(Ih),Tw=t=>{const{__scopeDialog:n,children:a,open:o,defaultOpen:l,onOpenChange:c,modal:m=!0}=t,f=d.useRef(null),x=d.useRef(null),[p=!1,y]=Vr({prop:o,defaultProp:l,onChange:c});return e.jsx(JR,{scope:n,triggerRef:f,contentRef:x,contentId:br(),titleId:br(),descriptionId:br(),open:p,onOpenChange:y,onOpenToggle:d.useCallback(()=>y(w=>!w),[y]),modal:m,children:a})};Tw.displayName=Ih;var Dw="DialogTrigger",ZR=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=ln(Dw,a),c=We(n,l.triggerRef);return e.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":_h(l.open),...o,ref:c,onClick:le(t.onClick,l.onOpenToggle)})});ZR.displayName=Dw;var Lh="DialogPortal",[eA,Mw]=Aw(Lh,{forceMount:void 0}),Iw=t=>{const{__scopeDialog:n,forceMount:a,children:o,container:l}=t,c=ln(Lh,n);return e.jsx(eA,{scope:n,forceMount:a,children:d.Children.map(o,m=>e.jsx(Pd,{present:a||c.open,children:e.jsx(D0,{asChild:!0,container:l,children:m})}))})};Iw.displayName=Lh;var nd="DialogOverlay",Lw=d.forwardRef((t,n)=>{const a=Mw(nd,t.__scopeDialog),{forceMount:o=a.forceMount,...l}=t,c=ln(nd,t.__scopeDialog);return c.modal?e.jsx(Pd,{present:o||c.open,children:e.jsx(tA,{...l,ref:n})}):null});Lw.displayName=nd;var tA=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=ln(nd,a);return e.jsx(Pw,{as:Hn,allowPinchZoom:!0,shards:[l.contentRef],children:e.jsx(Ne.div,{"data-state":_h(l.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),Ca="DialogContent",Ow=d.forwardRef((t,n)=>{const a=Mw(Ca,t.__scopeDialog),{forceMount:o=a.forceMount,...l}=t,c=ln(Ca,t.__scopeDialog);return e.jsx(Pd,{present:o||c.open,children:c.modal?e.jsx(rA,{...l,ref:n}):e.jsx(nA,{...l,ref:n})})});Ow.displayName=Ca;var rA=d.forwardRef((t,n)=>{const a=ln(Ca,t.__scopeDialog),o=d.useRef(null),l=We(n,a.contentRef,o);return d.useEffect(()=>{const c=o.current;if(c)return Ld(c)},[]),e.jsx(_w,{...t,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(t.onCloseAutoFocus,c=>{var m;c.preventDefault(),(m=a.triggerRef.current)==null||m.focus()}),onPointerDownOutside:le(t.onPointerDownOutside,c=>{const m=c.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0;(m.button===2||f)&&c.preventDefault()}),onFocusOutside:le(t.onFocusOutside,c=>c.preventDefault())})}),nA=d.forwardRef((t,n)=>{const a=ln(Ca,t.__scopeDialog),o=d.useRef(!1),l=d.useRef(!1);return e.jsx(_w,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var m,f;(m=t.onCloseAutoFocus)==null||m.call(t,c),c.defaultPrevented||(o.current||(f=a.triggerRef.current)==null||f.focus(),c.preventDefault()),o.current=!1,l.current=!1},onInteractOutside:c=>{var x,p;(x=t.onInteractOutside)==null||x.call(t,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const m=c.target;((p=a.triggerRef.current)==null?void 0:p.contains(m))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),_w=d.forwardRef((t,n)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,...m}=t,f=ln(Ca,a),x=d.useRef(null),p=We(n,x);return gR(),e.jsxs(e.Fragment,{children:[e.jsx(ul,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:c,children:e.jsx(mh,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":_h(f.open),...m,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(sA,{titleId:f.titleId}),e.jsx(oA,{contentRef:x,descriptionId:f.descriptionId})]})]})}),Oh="DialogTitle",Fw=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=ln(Oh,a);return e.jsx(Ne.h2,{id:l.titleId,...o,ref:n})});Fw.displayName=Oh;var $w="DialogDescription",Bw=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=ln($w,a);return e.jsx(Ne.p,{id:l.descriptionId,...o,ref:n})});Bw.displayName=$w;var zw="DialogClose",Uw=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=ln(zw,a);return e.jsx(Ne.button,{type:"button",...o,ref:n,onClick:le(t.onClick,()=>l.onOpenChange(!1))})});Uw.displayName=zw;function _h(t){return t?"open":"closed"}var Vw="DialogTitleWarning",[cM,Hw]=sR(Vw,{contentName:Ca,titleName:Oh,docsSlug:"dialog"}),sA=({titleId:t})=>{const n=Hw(Vw),a=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},aA="DialogDescriptionWarning",oA=({contentRef:t,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Hw(aA).contentName}}.`;return d.useEffect(()=>{var c;const l=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");n&&l&&(document.getElementById(n)||console.warn(o))},[o,t,n]),null},iA=Tw,lA=Iw,Ww=Lw,Gw=Ow,Kw=Fw,Yw=Bw,qw=Uw;const hl=iA,cA=lA,Ov=qw,Qw=d.forwardRef(({className:t,...n},a)=>e.jsx(Ww,{ref:a,className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));Qw.displayName=Ww.displayName;const qo=d.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(cA,{children:[e.jsx(Qw,{}),e.jsxs(Gw,{ref:o,className:Me("fixed left-[50%] top-16 z-50 grid w-full max-w-lg translate-x-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-16 data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-16 sm:rounded-lg",t),...a,children:[n,e.jsxs(qw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qo.displayName=Gw.displayName;const Qo=({className:t,...n})=>e.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});Qo.displayName="DialogHeader";const sd=({className:t,...n})=>e.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});sd.displayName="DialogFooter";const Xo=d.forwardRef(({className:t,...n},a)=>e.jsx(Kw,{ref:a,className:Me("text-lg font-semibold leading-none tracking-tight",t),...n}));Xo.displayName=Kw.displayName;const Fh=d.forwardRef(({className:t,...n},a)=>e.jsx(Yw,{ref:a,className:Me("text-sm text-muted-foreground",t),...n}));Fh.displayName=Yw.displayName;const dA=ol("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function we({className:t,variant:n,...a}){return e.jsx("div",{className:Me(dA({variant:n}),t),...a})}const de=d.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n}));de.displayName="Card";const $e=d.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:Me("flex flex-col space-y-1.5 p-6",t),...n}));$e.displayName="CardHeader";const Be=d.forwardRef(({className:t,...n},a)=>e.jsx("h3",{ref:a,className:Me("text-2xl font-semibold leading-none tracking-tight",t),...n}));Be.displayName="CardTitle";const wt=d.forwardRef(({className:t,...n},a)=>e.jsx("p",{ref:a,className:Me("text-sm text-muted-foreground",t),...n}));wt.displayName="CardDescription";const ue=d.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:Me("p-6 pt-0",t),...n}));ue.displayName="CardContent";const uA=d.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:Me("flex items-center p-6 pt-0",t),...n}));uA.displayName="CardFooter";function Od({isOpen:t,onClose:n,book:a,onEdit:o,onBorrow:l,onReserve:c,onSave:m,onCite:f,imageKey:x=Date.now(),canBorrow:p=!0,canReserve:y=!0,showEditButton:w=!1}){if(!a)return null;const v=A=>{switch(A){case"available":return"bg-green-100 text-green-800 border-green-200";case"checked-out":case"low-stock":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"out-of-stock":case"reserved":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=()=>a.availableCopies>0?"Available":"Not Available",N=A=>A?new Date(A).toLocaleDateString():"Unknown",b=()=>a.totalCopies?Math.round(a.availableCopies/a.totalCopies*100):0,j="h-10 px-6 font-medium transition-all duration-200 hover:scale-105 active:scale-95",C=`${j} bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg`,k=`${j} bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow-md`,P=`${j} bg-transparent hover:bg-gray-50 text-gray-600 hover:text-gray-800 border border-gray-200 hover:border-gray-400`;return e.jsx(hl,{open:t,onOpenChange:n,children:e.jsxs(qo,{className:"max-w-6xl max-h-[95vh] overflow-y-auto border-0 shadow-2xl",children:[e.jsx(Qo,{className:"pb-0",children:e.jsxs(Xo,{className:"flex items-center gap-3 text-2xl font-bold text-gray-900",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Xe,{className:"w-6 h-6 text-blue-600"})}),"Book Details"]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("div",{className:"w-56 h-80 bg-white rounded-2xl shadow-xl overflow-hidden border-4 border-white",children:a.coverImage?e.jsx("img",{src:`${a.coverImage}?t=${x}`,alt:`Cover of ${a.title}`,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:A=>{const T=A.target;T.style.display="none";const L=T.parentElement;L&&(L.innerHTML=`
                            <div class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-400">
                              <div class="text-center p-6">
                                <svg class="w-16 h-16 mx-auto mb-4" fill="currentColor" viewBox="0 0 20 20">
                                  <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                                </svg>
                                <p class="text-sm font-medium">No Cover Available</p>
                              </div>
                            </div>
                          `)}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx(ih,{className:"w-16 h-16 mx-auto mb-4"}),e.jsx("p",{className:"text-sm font-medium",children:"No Cover Available"})]})})}),a.coverImage&&e.jsxs("div",{className:"flex gap-2 mt-4 justify-center",children:[e.jsxs(B,{variant:"outline",size:"sm",className:"text-xs h-8 px-3 bg-white/80 hover:bg-white border-gray-200 hover:border-gray-300",children:[e.jsx(fC,{className:"w-3 h-3 mr-1"}),"View Full"]}),a.hasDownload&&e.jsxs(B,{variant:"outline",size:"sm",className:"text-xs h-8 px-3 bg-white/80 hover:bg-white border-gray-200 hover:border-gray-300",children:[e.jsx(ga,{className:"w-3 h-3 mr-1"}),"Download"]})]})]}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-3 leading-tight",children:a.title}),e.jsxs("p",{className:"text-xl text-gray-600 mb-4 font-medium",children:["by ",a.author]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx(we,{className:`${v(S())} border text-sm px-3 py-1 font-medium`,children:S()}),e.jsx(we,{variant:"outline",className:"bg-white/80 text-sm px-3 py-1 font-medium border-gray-200",children:a.genre}),a.hasDownload&&e.jsxs(we,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 text-sm px-3 py-1 font-medium",children:[e.jsx(ga,{className:"w-3 h-3 mr-1"}),"Downloadable"]}),a.hasReadOnline&&e.jsxs(we,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 text-sm px-3 py-1 font-medium",children:[e.jsx(Kt,{className:"w-3 h-3 mr-1"}),"Read Online"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white/80 rounded-xl backdrop-blur-sm border border-white/50 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:a.totalCopies||0}),e.jsx("div",{className:"text-xs text-blue-600 font-medium uppercase tracking-wide",children:"Total Copies"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/80 rounded-xl backdrop-blur-sm border border-white/50 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-1",children:a.availableCopies||0}),e.jsx("div",{className:"text-xs text-green-600 font-medium uppercase tracking-wide",children:"Available"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/80 rounded-xl backdrop-blur-sm border border-white/50 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-1",children:(a.totalCopies||0)-(a.availableCopies||0)}),e.jsx("div",{className:"text-xs text-yellow-600 font-medium uppercase tracking-wide",children:"On Loan"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/80 rounded-xl backdrop-blur-sm border border-white/50 shadow-sm",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:a.pendingReservations||0}),e.jsx("div",{className:"text-xs text-purple-600 font-medium uppercase tracking-wide",children:"Reservations"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Availability Status"}),e.jsxs("span",{className:"text-gray-600 font-medium",children:[b(),"% Available"]})]}),e.jsx("div",{className:"w-full bg-white/60 rounded-full h-3 border border-white/50",children:e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-500 shadow-sm",style:{width:`${b()}%`}})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[l&&p&&a.availableCopies>0&&e.jsxs(B,{onClick:()=>{l(a._id||a.id||""),n()},className:C,children:[e.jsx(Xe,{className:"w-5 h-5 mr-2"}),"Borrow Book"]}),c&&y&&a.availableCopies===0&&e.jsxs(B,{onClick:()=>{c(a._id||a.id||""),n()},className:k,children:[e.jsx(Nn,{className:"w-5 h-5 mr-2"}),"Reserve Book"]}),m&&e.jsxs(B,{onClick:()=>m(a),className:P,children:[e.jsx(Nn,{className:"w-5 h-5 mr-2"}),"Save to Library"]}),f&&e.jsxs(B,{onClick:()=>f(a),className:P,children:[e.jsx(xd,{className:"w-5 h-5 mr-2"}),"Cite Book"]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(de,{className:"shadow-sm border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx($e,{className:"pb-4",children:e.jsxs(Be,{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded",children:e.jsx(Xe,{className:"w-4 h-4 text-blue-600"})}),"Book Information"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-1",children:[e.jsx(Zy,{className:"w-3 h-3"}),"ISBN"]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:a.isbn||"Not available"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-1",children:[e.jsx(Yy,{className:"w-3 h-3"}),"Publisher"]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:a.publisher||"Not specified"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-1",children:[e.jsx(As,{className:"w-3 h-3"}),"Published Year"]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:a.publishedYear||"Unknown"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-1",children:[e.jsx(Jy,{className:"w-3 h-3"}),"Language"]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:a.language||"English"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-1",children:[e.jsx(Xy,{className:"w-3 h-3"}),"Pages"]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:a.pages||"Unknown"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-1",children:[e.jsx(pd,{className:"w-3 h-3"}),"Location"]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:a.location||"Not specified"})]})]}),a.description&&e.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900 leading-relaxed",children:a.description})]}),a.categories&&a.categories.length>0&&e.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.categories.map((A,T)=>e.jsx(we,{variant:"secondary",className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 border-gray-200",children:A},T))})]})]})]}),e.jsxs(de,{className:"shadow-sm border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx($e,{className:"pb-4",children:e.jsxs(Be,{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded",children:e.jsx($i,{className:"w-4 h-4 text-blue-600"})}),"Additional Details"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-1",children:[e.jsx(Ls,{className:"w-3 h-3"}),"Added to Library"]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:N(a.addedDate)})]}),(a.hasDownload||a.hasReadOnline)&&e.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-100",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Digital Features"}),e.jsxs("div",{className:"space-y-2",children:[a.hasDownload&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded",children:e.jsx(ga,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Available for Download"}),e.jsx("p",{className:"text-xs text-green-600",children:"Download this book to read offline"})]})]}),a.hasReadOnline&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded",children:e.jsx(Kt,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Available to Read Online"}),e.jsx("p",{className:"text-xs text-blue-600",children:"Read this book directly in your browser"})]})]})]})]}),e.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-100",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Genre & Rating"}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{variant:"outline",className:"text-sm px-3 py-1 bg-blue-50 text-blue-700 border-blue-200",children:a.genre}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(e0,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"4.5 (128 reviews)"})]})]})})]})]})]})]}),w&&o&&e.jsx("div",{className:"flex justify-end items-center pt-6 border-t border-gray-200",children:e.jsxs(B,{onClick:()=>{o(a),n()},className:k,children:[e.jsx($o,{className:"w-5 h-5 mr-2"}),"Edit Book"]})})]})]})})}function _d(t){const n=d.useRef({value:t,previous:t});return d.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var $h="Checkbox",[fA,dM]=dr($h),[mA,hA]=fA($h),Xw=d.forwardRef((t,n)=>{const{__scopeCheckbox:a,name:o,checked:l,defaultChecked:c,required:m,disabled:f,value:x="on",onCheckedChange:p,...y}=t,[w,v]=d.useState(null),S=We(n,P=>v(P)),N=d.useRef(!1),b=w?!!w.closest("form"):!0,[j=!1,C]=Vr({prop:l,defaultProp:c,onChange:p}),k=d.useRef(j);return d.useEffect(()=>{const P=w==null?void 0:w.form;if(P){const A=()=>C(k.current);return P.addEventListener("reset",A),()=>P.removeEventListener("reset",A)}},[w,C]),e.jsxs(mA,{scope:a,state:j,disabled:f,children:[e.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":wa(j)?"mixed":j,"aria-required":m,"data-state":eb(j),"data-disabled":f?"":void 0,disabled:f,value:x,...y,ref:S,onKeyDown:le(t.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:le(t.onClick,P=>{C(A=>wa(A)?!0:!A),b&&(N.current=P.isPropagationStopped(),N.current||P.stopPropagation())})}),b&&e.jsx(pA,{control:w,bubbles:!N.current,name:o,value:x,checked:j,required:m,disabled:f,style:{transform:"translateX(-100%)"}})]})});Xw.displayName=$h;var Jw="CheckboxIndicator",Zw=d.forwardRef((t,n)=>{const{__scopeCheckbox:a,forceMount:o,...l}=t,c=hA(Jw,a);return e.jsx(Hr,{present:o||wa(c.state)||c.state===!0,children:e.jsx(Ne.span,{"data-state":eb(c.state),"data-disabled":c.disabled?"":void 0,...l,ref:n,style:{pointerEvents:"none",...t.style}})})});Zw.displayName=Jw;var pA=t=>{const{control:n,checked:a,bubbles:o=!0,...l}=t,c=d.useRef(null),m=_d(a),f=wd(n);return d.useEffect(()=>{const x=c.current,p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"checked").set;if(m!==a&&w){const v=new Event("click",{bubbles:o});x.indeterminate=wa(a),w.call(x,wa(a)?!1:a),x.dispatchEvent(v)}},[m,a,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:wa(a)?!1:a,...l,tabIndex:-1,ref:c,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function wa(t){return t==="indeterminate"}function eb(t){return wa(t)?"indeterminate":t?"checked":"unchecked"}var tb=Xw,xA=Zw;const Wi=d.forwardRef(({className:t,...n},a)=>e.jsx(tb,{ref:a,className:Me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:e.jsx(xA,{className:Me("flex items-center justify-center text-current"),children:e.jsx(lh,{className:"h-4 w-4"})})}));Wi.displayName=tb.displayName;function gA(t,n){const[a,o]=d.useState(t);return d.useEffect(()=>{const l=setTimeout(()=>{o(t)},n);return()=>{clearTimeout(l)}},[t,n]),a}function vA(){const[t]=ow(),{user:n,loading:a}=Lt(),o=t.get("q")||"",[l,c]=d.useState(""),[m,f]=d.useState([]),[x,p]=d.useState(!1),[y,w]=d.useState(!1),[v,S]=d.useState(0),[N,b]=d.useState(1),[j,C]=d.useState(null),[k,P]=d.useState(!1),[A,T]=d.useState(Date.now()),[L,D]=d.useState({searchWithin:!0,contentType:!0,language:!1,accessType:!0}),[$,X]=d.useState("relevance"),[V,ne]=d.useState(!1),[Z,he]=d.useState(!1),[q,Q]=d.useState({fiction:!1,nonFiction:!1,scienceFiction:!1,mystery:!1,romance:!1,biography:!1,history:!1,science:!1,business:!1,youngAdult:!1,children:!1,poetry:!1}),[te,xe]=d.useState("Any Language"),[F,U]=d.useState("everything"),re=gA(l,300),M={title:t.get("title"),author:t.get("author"),genre:t.getAll("genre"),language:t.get("language"),fromDate:t.get("fromDate"),toDate:t.get("toDate"),journalTitle:t.get("journalTitle"),isbn:t.get("isbn"),filter:t.getAll("filter")};d.useEffect(()=>{o.trim()&&fh(o.trim()),H()},[o,N,$,te,F,q,re]),d.useEffect(()=>{const J=t.getAll("filter"),Ae=t.getAll("genre"),Je=t.get("language"),ze=J.find(ct=>["available","download","online"].includes(ct));Q(ct=>{const rt={...ct};return Object.keys(rt).forEach(gt=>{rt[gt]=!1}),J.forEach(gt=>{rt.hasOwnProperty(gt)&&(rt[gt]=!0)}),Ae.forEach(gt=>{const Tt=Object.keys(rt).find(Wr=>Wr.toLowerCase()===gt.toLowerCase().replace(/\s/g,""));Tt&&(rt[Tt]=!0)}),rt}),Je&&xe(Je),ze&&U(ze)},[t]);const H=async()=>{var J;l&&!o?w(!0):p(!0);try{const Ae=new URLSearchParams({q:o||"",page:N.toString(),limit:"20"});re.trim()&&Ae.append("title",re.trim()),$&&$!=="relevance"&&Ae.append("sortBy",$),te&&te!=="Any Language"&&Ae.append("language",te),F&&F!=="everything"&&Ae.append("filter",F),Object.entries(q).filter(([rt,gt])=>gt).map(([rt,gt])=>({fiction:"Fiction",nonFiction:"Non-Fiction",scienceFiction:"Science Fiction",mystery:"Mystery",romance:"Romance",biography:"Biography",history:"History",science:"Computer Science",business:"Business",youngAdult:"Young Adult",children:"Children",poetry:"Poetry"})[rt]||rt).forEach(rt=>{Ae.append("genre",rt)});const ze=o||re?`/api/search?${Ae}`:`/api/books?${Ae}`,ct=await fetch(ze);if(ct.ok){const rt=await ct.json();f(rt.books||[]),S(((J=rt.pagination)==null?void 0:J.total)||0)}else console.error("Search API error:",ct.status),f([]),S(0)}catch(Ae){console.error("Error performing search:",Ae),f([]),S(0)}finally{p(!1),w(!1)}},fe=(J,Ae)=>{Q(Je=>({...Je,[J]:Ae})),b(1)},be=J=>{xe(J),b(1)},ke=J=>{U(J),b(1)},ve=J=>{X(J),b(1)},me=J=>{c(J),b(1)},je=()=>{c(""),b(1)},Ee=()=>{Q({fiction:!1,nonFiction:!1,scienceFiction:!1,mystery:!1,romance:!1,biography:!1,history:!1,science:!1,business:!1,youngAdult:!1,children:!1,poetry:!1}),xe("Any Language"),U("everything"),X("relevance"),c(""),b(1)},Oe=()=>ne(!1),Qe=()=>he(!1),qe=J=>{if(!n){ne(!0);return}yt({title:"Saved",description:`"${J.title}" has been saved to your library.`})},Y=J=>{const Ae=`${J.author}. "${J.title}." ${J.publisher}, ${J.publishedYear}.`;navigator.clipboard.writeText(Ae),yt({title:"Citation Copied",description:"Citation has been copied to your clipboard."})},Fe=J=>{if(!n){ne(!0);return}yt({title:"Download Started",description:`"${J.title}" is being downloaded.`})},He=(J,Ae)=>e.jsx("div",{className:"bg-white border border-gray-200 p-4 hover:shadow-md transition-shadow duration-200",style:{animationDelay:`${Ae*100}ms`},children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"w-24 h-32 bg-white border border-gray-200 rounded overflow-hidden",children:[J.coverImage?e.jsx("img",{src:`${J.coverImage}?key=${A}`,alt:J.title,className:"w-full h-full object-cover",onError:Je=>{var ct;const ze=Je.target;ze.style.display="none",(ct=ze.nextElementSibling)==null||ct.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-full h-full bg-gray-100 flex items-center justify-center ${J.coverImage?"hidden":""}`,children:e.jsx(ih,{className:"w-8 h-8 text-gray-400"})})]})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-700 hover:text-blue-800 cursor-pointer truncate mb-1",children:J.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:J.author}),J.description&&e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:J.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["ISBN: ",J.isbn]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:J.publisher}),e.jsx("span",{children:"•"}),e.jsx("span",{children:J.publishedYear}),J.location&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:J.location})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[e.jsxs(B,{onClick:()=>Fe(J),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 text-sm font-medium transition-colors duration-200",children:[e.jsx(ga,{className:"w-4 h-4 mr-2"}),"Download"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>qe(J),className:"text-xs px-3 py-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:[e.jsx(Nn,{className:"w-3 h-3 mr-1"}),"Save"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Y(J),className:"text-xs px-3 py-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:[e.jsx(xd,{className:"w-3 h-3 mr-1"}),"Cite"]})]})]})]})})]})},J._id);return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(zs,{to:"/",className:"flex items-center",children:[e.jsx("img",{src:"/logo.jpg",alt:"Library Logo",className:"w-8 h-8 mr-3"}),e.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"Library"})]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto flex",children:[e.jsxs("div",{className:"w-72 bg-orange-50 border-r border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Refine Results"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3 uppercase tracking-wide",children:"CONTENT TYPE"}),e.jsx("div",{className:"space-y-2",children:Object.entries({fiction:"Fiction (342)",nonFiction:"Non-Fiction (298)",scienceFiction:"Science Fiction (87)",mystery:"Mystery (156)",romance:"Romance (124)",biography:"Biography (89)",history:"History (173)",science:"Science (165)",business:"Business (112)",youngAdult:"Young Adult (94)",children:"Children (141)",poetry:"Poetry (115)"}).map(([J,Ae])=>e.jsxs("label",{className:"flex items-center text-sm cursor-pointer hover:bg-orange-100 p-1 rounded transition-colors",children:[e.jsx(Wi,{className:"mr-2",checked:q[J],onCheckedChange:Je=>fe(J,Je)}),e.jsx("span",{className:"text-gray-700",children:Ae})]},J))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3 uppercase tracking-wide",children:"LANGUAGE"}),e.jsxs("select",{value:te,onChange:J=>be(J.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[e.jsx("option",{value:"Any Language",children:"Any Language"}),e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"Spanish",children:"Spanish"}),e.jsx("option",{value:"French",children:"French"}),e.jsx("option",{value:"German",children:"German"}),e.jsx("option",{value:"Italian",children:"Italian"}),e.jsx("option",{value:"Portuguese",children:"Portuguese"}),e.jsx("option",{value:"Chinese",children:"Chinese"}),e.jsx("option",{value:"Japanese",children:"Japanese"}),e.jsx("option",{value:"Korean",children:"Korean"}),e.jsx("option",{value:"Arabic",children:"Arabic"}),e.jsx("option",{value:"Russian",children:"Russian"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3 uppercase tracking-wide",children:"ACCESS TYPE"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[e.jsx("input",{type:"radio",name:"access",value:"everything",checked:F==="everything",onChange:J=>ke(J.target.value),className:"mr-2"}),"Everything"]}),e.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[e.jsx("input",{type:"radio",name:"access",value:"available",checked:F==="available",onChange:J=>ke(J.target.value),className:"mr-2"}),"Available only"]}),e.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[e.jsx("input",{type:"radio",name:"access",value:"download",checked:F==="download",onChange:J=>ke(J.target.value),className:"mr-2"}),"Downloadable"]}),e.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[e.jsx("input",{type:"radio",name:"access",value:"online",checked:F==="online",onChange:J=>ke(J.target.value),className:"mr-2"}),"Read online"]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(B,{onClick:Ee,variant:"outline",className:"w-full text-sm border-orange-300 text-orange-600 hover:bg-orange-50",children:"Reset All Filters"})})]}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:o?`Search Results for "${o}"`:"Browse All Books"}),e.jsx("p",{className:"text-gray-600",children:x?o?"Searching...":"Loading books...":o?`${v} results found`:`${v} books available`})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),e.jsxs("select",{value:$,onChange:J=>ve(J.target.value),className:"border border-gray-300 rounded px-3 py-1 text-sm",children:[e.jsx("option",{value:"relevance",children:"Relevance"}),e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"title",children:"Title"}),e.jsx("option",{value:"author",children:"Author"})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"relative max-w-2xl",children:[e.jsx(Vn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(Ze,{placeholder:"Search by book title...",value:l,onChange:J=>me(J.target.value),className:"pl-12 pr-12 h-12 text-base border-2 border-gray-200 focus:border-orange-400 transition-colors rounded-xl"}),l&&e.jsx("button",{onClick:je,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Os,{className:"w-5 h-5"})}),y&&e.jsx("div",{className:"absolute right-12 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"})})]}),l&&e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:['Searching for titles containing "',l,'"']})]}),(M.title||M.author||M.genre.length>0||M.language||M.fromDate||M.toDate||M.journalTitle||M.isbn||M.filter.length>0||Object.entries(q).some(([J,Ae])=>Ae)||te!=="Any Language"||F!=="everything"||$!=="relevance")&&e.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-orange-800",children:"Active Filters:"}),e.jsx(B,{onClick:Ee,variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-800 text-xs",children:"Clear All"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.title&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:['Title: "',M.title,'"']}),M.author&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:['Author: "',M.author,'"']}),M.genre&&M.genre.map((J,Ae)=>e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["Genre: ",J]},J+Ae)),M.language&&M.language!=="Any Language"&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["Language: ",M.language]}),M.fromDate&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["From: ",M.fromDate]}),M.toDate&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["To: ",M.toDate]}),M.journalTitle&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:['Journal/Book: "',M.journalTitle,'"']}),M.isbn&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["ISBN: ",M.isbn]}),M.filter&&M.filter.map((J,Ae)=>e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["Filter: ",J.charAt(0).toUpperCase()+J.slice(1)]},J+Ae)),Object.entries(q).filter(([J,Ae])=>Ae).map(([J,Ae])=>e.jsx(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:J==="nonFiction"?"Non-Fiction":J==="scienceFiction"?"Science Fiction":J==="youngAdult"?"Young Adult":J.charAt(0).toUpperCase()+J.slice(1)},J)),te!=="Any Language"&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["Language: ",te]}),F!=="everything"&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["Access: ",F==="available"?"Available only":F==="download"?"Downloadable":F==="online"?"Read online":F]}),$!=="relevance"&&e.jsxs(we,{variant:"secondary",className:"bg-orange-200 text-orange-800",children:["Sort: ",$==="date"?"By date":$==="title"?"By title":$==="author"?"By author":$]})]})]}),e.jsx("div",{className:"space-y-4",children:x?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Searching..."})]})}):m.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Xe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o?"No results found":"No books available"}),e.jsx("p",{className:"text-gray-600",children:o?"Try adjusting your search terms or filters.":"The library catalog is currently empty."})]}):m.map((J,Ae)=>He(J,Ae))}),v>20&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{variant:"outline",onClick:()=>b(J=>Math.max(1,J-1)),disabled:N===1,className:"px-4 py-2",children:"Previous"}),e.jsxs("span",{className:"px-4 py-2 text-gray-700",children:["Page ",N," of ",Math.ceil(v/20)]}),e.jsx(B,{variant:"outline",onClick:()=>b(J=>J+1),disabled:N>=Math.ceil(v/20),className:"px-4 py-2",children:"Next"})]})})]})]}),j&&e.jsx(Od,{book:j,isOpen:k,onClose:()=>P(!1),onSave:qe,onCite:Y,imageKey:A,canBorrow:!1,canReserve:!1,showEditButton:!1}),e.jsx(cl,{isOpen:V,onClose:Oe}),e.jsx(dl,{isOpen:Z,onClose:Qe})]})}const _v="recentSearches";function yA(){const{user:t,loading:n}=Lt(),[a,o]=d.useState(""),[l,c]=d.useState([]),[m,f]=d.useState(!1),x=jr();if(!n&&!t)return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(cl,{isOpen:!0,onClose:()=>x("/")})});if(!n&&t){d.useEffect(()=>{!n&&!t&&x("/",{replace:!0})},[t,n,x]),d.useEffect(()=>{if(t){const v=localStorage.getItem("token")||sessionStorage.getItem("token");fetch("/api/search/history",{headers:v?{Authorization:`Bearer ${v}`}:{}}).then(S=>S.json()).then(S=>{Array.isArray(S)?c(S.map(N=>N.query)):c([])}).catch(()=>c([]))}else{const v=JSON.parse(localStorage.getItem(_v)||"[]");c(v)}},[t]);const p=()=>f(!1),y=()=>{if(window.confirm("Are you sure you want to delete all browsing history? This action cannot be undone.")){if(t){const v=localStorage.getItem("token")||sessionStorage.getItem("token");fetch("/api/search/history",{method:"DELETE",headers:v?{Authorization:`Bearer ${v}`}:{}}).then(()=>c([]))}else localStorage.removeItem(_v),c([]);alert("Browsing history deleted.")}},w=v=>{window.location.href=`/search?q=${encodeURIComponent(v)}`};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"border-b border-brand-border-light bg-white",children:[!t&&!n&&e.jsxs("div",{className:"flex items-center justify-center py-3 border-b border-brand-border-light",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-2xl font-alkalami",children:["Have library access?"," ",e.jsx("button",{onClick:()=>x("/"),className:"font-abhaya underline ml-3 hover:text-brand-orange transition-colors",children:"Log in"})]})}),e.jsx(ch,{size:24,className:"absolute right-12 top-3"})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs(zs,{to:"/",className:"flex items-center",children:[e.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/0ec6016b55469bdd045398e228e52ebbbb309517?width=158",alt:"Logo",className:"h-22 w-20"}),e.jsx("h1",{className:"text-7xl font-abhaya text-gray-700 ml-6",children:"History"})]}),e.jsx("div",{className:"flex items-center gap-3",children:!t&&!n&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base hover:bg-gray-50 transition-colors",children:"Register"}),e.jsxs("button",{onClick:()=>x("/"),className:"flex items-center gap-2 px-4 py-2 bg-brand-orange text-white rounded-full font-abhaya text-base hover:bg-brand-orange-light transition-colors",children:[e.jsx(Xt,{size:24}),"Log in"]})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[e.jsx(ba,{size:24,className:"text-brand-orange"}),e.jsx("button",{onClick:y,className:"text-brand-orange font-afacad text-2xl hover:underline",children:"Delete Browsing Data"})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{type:"text",placeholder:"Search History",value:a,onChange:v=>o(v.target.value),className:"w-full px-6 py-4 pr-16 border-2 border-black rounded-full text-2xl font-afacad placeholder-brand-text-muted focus:outline-none focus:ring-2 focus:ring-brand-orange"}),e.jsx(Vn,{className:"absolute right-6 top-1/2 transform -translate-y-1/2 text-black",size:20})]})}),e.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:l.length===0?e.jsx("div",{className:"text-2xl text-gray-400 text-center",children:"No recent searches."}):l.filter(v=>v.toLowerCase().includes(a.toLowerCase())).map((v,S)=>e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg shadow p-4",children:[e.jsx("span",{className:"text-2xl font-afacad text-brand-text-secondary",children:v}),e.jsx("button",{onClick:()=>w(v),className:"px-4 py-2 bg-brand-orange text-white rounded-full font-abhaya text-base hover:bg-brand-orange-light transition-colors",children:"Search Again"})]},S))})]}),e.jsx(dl,{isOpen:m,onClose:p})]})}}function wA(){const{user:t,loading:n}=Lt(),[a,o]=d.useState(!1),[l,c]=d.useState(!1),m=()=>o(!0),f=()=>c(!0),x=()=>o(!1),p=()=>c(!1),y=()=>{const w={title:"The Great Gatsby",author:"Scott F. Fitzgerald",isbn:"9781476740553"},v=JSON.parse(localStorage.getItem("favorites")||"[]");v.find(S=>S.isbn===w.isbn)?alert("Book is already in your favorites."):(v.push(w),localStorage.setItem("favorites",JSON.stringify(v)),alert("Book saved to favorites!"))};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"border-b border-brand-border-light bg-white",children:[!t&&!n&&e.jsxs("div",{className:"flex items-center justify-center py-3 border-b border-brand-border-light",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-2xl font-alkalami",children:["Have library access?"," ",e.jsx("button",{onClick:m,className:"font-abhaya underline ml-3 hover:text-brand-orange transition-colors",children:"Log in"})]})}),e.jsx(ch,{size:24,className:"absolute right-12 top-3"})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(zs,{to:"/",className:"flex items-center",children:e.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/0ec6016b55469bdd045398e228e52ebbbb309517?width=158",alt:"Logo",className:"h-22 w-20"})}),e.jsx("div",{className:"flex items-center gap-3",children:n||t?null:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:f,className:"px-4 py-2 border border-brand-border-light rounded-full font-abhaya text-base hover:bg-gray-50 transition-colors",children:"Register"}),e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-brand-orange text-white rounded-full font-abhaya text-base hover:bg-brand-orange-light transition-colors",children:[e.jsx(Xt,{size:24}),"Log in"]})]})})]})]}),e.jsx("div",{className:"w-full bg-brand-orange py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto text-center",children:e.jsxs("p",{className:"text-white text-4xl font-afacad",children:["This is a preview."," ",e.jsx("button",{className:"underline hover:no-underline",children:"Log in"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsx(zs,{to:"/search?q=great",className:"text-4xl font-afacad text-black underline hover:no-underline mb-8 inline-block",children:"Back to results"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://cdn.builder.io/api/v1/image/assets/TEMP/b8735e231eacb5a17e4e62943e74038923c3735d?width=1234",alt:"The Great Gatsby book cover",className:"w-full max-w-md h-auto object-cover rounded-lg shadow-lg mb-8"}),e.jsx("div",{className:"text-center mb-8",children:e.jsx("p",{className:"text-4xl font-alexandria text-gray-600",children:"ISBN: 9781476740553"})}),e.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[e.jsxs(B,{onClick:y,className:"w-full h-20 bg-brand-orange hover:bg-brand-orange-light text-white rounded-sm",children:[e.jsx(Nn,{size:32,className:"mr-4"}),e.jsx("span",{className:"text-4xl font-abhaya",children:"Save"})]}),e.jsxs(B,{variant:"outline",className:"w-full h-20 border-4 border-brand-border-light rounded-sm",children:[e.jsx(Nn,{size:32,className:"mr-4"}),e.jsx("span",{className:"text-4xl font-abhaya text-black",children:"Save"})]}),e.jsxs(B,{variant:"outline",className:"w-full h-20 border-4 border-brand-border-light rounded-sm",children:[e.jsx(xd,{size:32,className:"mr-4"}),e.jsx("span",{className:"text-4xl font-abhaya text-black",children:"Cite"})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-4xl font-alexandria text-gray-500 mb-2",children:"Book"}),e.jsx("h1",{className:"text-8xl font-adamina text-black leading-tight mb-6",children:"The Great Gatsby"}),e.jsx("p",{className:"text-4xl font-alexandria text-black mb-4",children:"Scott F. Fitzgerald"}),e.jsx("p",{className:"text-3xl font-alexandria text-black",children:"Psychological fiction"})]}),e.jsx("div",{className:"bg-white",children:e.jsx("p",{className:"text-3xl font-alexandria text-black leading-relaxed text-justify",children:`"The Great Gatsby, F. Scott Fitzgerald's third book, stands as the supreme achievement of his career. This exemplary novel of the Jazz Age has been acclaimed by generations of readers. The story of the fabulously wealthy Jay Gatsby and his love for the beautiful Daisy Buchanan, of lavish parties on Long Island at a time when The New York Times noted "gin was the national drink and sex the national obsession," it is an exquisitely crafted tale of America in the 1920s. The Great Gatsby is one of the great classics of twentieth-century literature."--Back cover.`})})]})]})]}),e.jsx(cl,{isOpen:a,onClose:x}),e.jsx(dl,{isOpen:l,onClose:p})]})}const bA=()=>{const t=Yn();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var jA=d.createContext(void 0);function pl(t){const n=d.useContext(jA);return t||n||"ltr"}var nm="rovingFocusGroup.onEntryFocus",NA={bubbles:!1,cancelable:!0},Fd="RovingFocusGroup",[Mm,rb,SA]=ud(Fd),[CA,Jo]=dr(Fd,[SA]),[kA,EA]=CA(Fd),nb=d.forwardRef((t,n)=>e.jsx(Mm.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Mm.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(PA,{...t,ref:n})})}));nb.displayName=Fd;var PA=d.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:l=!1,dir:c,currentTabStopId:m,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:x,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...w}=t,v=d.useRef(null),S=We(n,v),N=pl(c),[b=null,j]=Vr({prop:m,defaultProp:f,onChange:x}),[C,k]=d.useState(!1),P=kt(p),A=rb(a),T=d.useRef(!1),[L,D]=d.useState(0);return d.useEffect(()=>{const $=v.current;if($)return $.addEventListener(nm,P),()=>$.removeEventListener(nm,P)},[P]),e.jsx(kA,{scope:a,orientation:o,dir:N,loop:l,currentTabStopId:b,onItemFocus:d.useCallback($=>j($),[j]),onItemShiftTab:d.useCallback(()=>k(!0),[]),onFocusableItemAdd:d.useCallback(()=>D($=>$+1),[]),onFocusableItemRemove:d.useCallback(()=>D($=>$-1),[]),children:e.jsx(Ne.div,{tabIndex:C||L===0?-1:0,"data-orientation":o,...w,ref:S,style:{outline:"none",...t.style},onMouseDown:le(t.onMouseDown,()=>{T.current=!0}),onFocus:le(t.onFocus,$=>{const X=!T.current;if($.target===$.currentTarget&&X&&!C){const V=new CustomEvent(nm,NA);if($.currentTarget.dispatchEvent(V),!V.defaultPrevented){const ne=A().filter(te=>te.focusable),Z=ne.find(te=>te.active),he=ne.find(te=>te.id===b),Q=[Z,he,...ne].filter(Boolean).map(te=>te.ref.current);ob(Q,y)}}T.current=!1}),onBlur:le(t.onBlur,()=>k(!1))})})}),sb="RovingFocusGroupItem",ab=d.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:l=!1,tabStopId:c,...m}=t,f=br(),x=c||f,p=EA(sb,a),y=p.currentTabStopId===x,w=rb(a),{onFocusableItemAdd:v,onFocusableItemRemove:S}=p;return d.useEffect(()=>{if(o)return v(),()=>S()},[o,v,S]),e.jsx(Mm.ItemSlot,{scope:a,id:x,focusable:o,active:l,children:e.jsx(Ne.span,{tabIndex:y?0:-1,"data-orientation":p.orientation,...m,ref:n,onMouseDown:le(t.onMouseDown,N=>{o?p.onItemFocus(x):N.preventDefault()}),onFocus:le(t.onFocus,()=>p.onItemFocus(x)),onKeyDown:le(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){p.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const b=TA(N,p.orientation,p.dir);if(b!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let C=w().filter(k=>k.focusable).map(k=>k.ref.current);if(b==="last")C.reverse();else if(b==="prev"||b==="next"){b==="prev"&&C.reverse();const k=C.indexOf(N.currentTarget);C=p.loop?DA(C,k+1):C.slice(k+1)}setTimeout(()=>ob(C))}})})})});ab.displayName=sb;var RA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AA(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TA(t,n,a){const o=AA(t.key,a);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return RA[o]}function ob(t,n=!1){const a=document.activeElement;for(const o of t)if(o===a||(o.focus({preventScroll:n}),document.activeElement!==a))return}function DA(t,n){return t.map((a,o)=>t[(n+o)%t.length])}var Bh=nb,zh=ab,Uh="Tabs",[MA,uM]=dr(Uh,[Jo]),ib=Jo(),[IA,Vh]=MA(Uh),lb=d.forwardRef((t,n)=>{const{__scopeTabs:a,value:o,onValueChange:l,defaultValue:c,orientation:m="horizontal",dir:f,activationMode:x="automatic",...p}=t,y=pl(f),[w,v]=Vr({prop:o,onChange:l,defaultProp:c});return e.jsx(IA,{scope:a,baseId:br(),value:w,onValueChange:v,orientation:m,dir:y,activationMode:x,children:e.jsx(Ne.div,{dir:y,"data-orientation":m,...p,ref:n})})});lb.displayName=Uh;var cb="TabsList",db=d.forwardRef((t,n)=>{const{__scopeTabs:a,loop:o=!0,...l}=t,c=Vh(cb,a),m=ib(a);return e.jsx(Bh,{asChild:!0,...m,orientation:c.orientation,dir:c.dir,loop:o,children:e.jsx(Ne.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:n})})});db.displayName=cb;var ub="TabsTrigger",fb=d.forwardRef((t,n)=>{const{__scopeTabs:a,value:o,disabled:l=!1,...c}=t,m=Vh(ub,a),f=ib(a),x=pb(m.baseId,o),p=xb(m.baseId,o),y=o===m.value;return e.jsx(zh,{asChild:!0,...f,focusable:!l,active:y,children:e.jsx(Ne.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:x,...c,ref:n,onMouseDown:le(t.onMouseDown,w=>{!l&&w.button===0&&w.ctrlKey===!1?m.onValueChange(o):w.preventDefault()}),onKeyDown:le(t.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&m.onValueChange(o)}),onFocus:le(t.onFocus,()=>{const w=m.activationMode!=="manual";!y&&!l&&w&&m.onValueChange(o)})})})});fb.displayName=ub;var mb="TabsContent",hb=d.forwardRef((t,n)=>{const{__scopeTabs:a,value:o,forceMount:l,children:c,...m}=t,f=Vh(mb,a),x=pb(f.baseId,o),p=xb(f.baseId,o),y=o===f.value,w=d.useRef(y);return d.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),e.jsx(Hr,{present:l||y,children:({present:v})=>e.jsx(Ne.div,{"data-state":y?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":x,hidden:!v,id:p,tabIndex:0,...m,ref:n,style:{...t.style,animationDuration:w.current?"0s":void 0},children:v&&c})})});hb.displayName=mb;function pb(t,n){return`${t}-trigger-${n}`}function xb(t,n){return`${t}-content-${n}`}var LA=lb,gb=db,vb=fb,yb=hb;const xl=LA,Zo=d.forwardRef(({className:t,...n},a)=>e.jsx(gb,{ref:a,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));Zo.displayName=gb.displayName;const ft=d.forwardRef(({className:t,...n},a)=>e.jsx(vb,{ref:a,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n}));ft.displayName=vb.displayName;const mt=d.forwardRef(({className:t,...n},a)=>e.jsx(yb,{ref:a,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n}));mt.displayName=yb.displayName;var Hh="Switch",[OA,fM]=dr(Hh),[_A,FA]=OA(Hh),wb=d.forwardRef((t,n)=>{const{__scopeSwitch:a,name:o,checked:l,defaultChecked:c,required:m,disabled:f,value:x="on",onCheckedChange:p,...y}=t,[w,v]=d.useState(null),S=We(n,k=>v(k)),N=d.useRef(!1),b=w?!!w.closest("form"):!0,[j=!1,C]=Vr({prop:l,defaultProp:c,onChange:p});return e.jsxs(_A,{scope:a,checked:j,disabled:f,children:[e.jsx(Ne.button,{type:"button",role:"switch","aria-checked":j,"aria-required":m,"data-state":Nb(j),"data-disabled":f?"":void 0,disabled:f,value:x,...y,ref:S,onClick:le(t.onClick,k=>{C(P=>!P),b&&(N.current=k.isPropagationStopped(),N.current||k.stopPropagation())})}),b&&e.jsx($A,{control:w,bubbles:!N.current,name:o,value:x,checked:j,required:m,disabled:f,style:{transform:"translateX(-100%)"}})]})});wb.displayName=Hh;var bb="SwitchThumb",jb=d.forwardRef((t,n)=>{const{__scopeSwitch:a,...o}=t,l=FA(bb,a);return e.jsx(Ne.span,{"data-state":Nb(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:n})});jb.displayName=bb;var $A=t=>{const{control:n,checked:a,bubbles:o=!0,...l}=t,c=d.useRef(null),m=_d(a),f=wd(n);return d.useEffect(()=>{const x=c.current,p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"checked").set;if(m!==a&&w){const v=new Event("click",{bubbles:o});w.call(x,a),x.dispatchEvent(v)}},[m,a,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:c,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Nb(t){return t?"checked":"unchecked"}var Sb=wb,BA=jb;const Bn=d.forwardRef(({className:t,...n},a)=>e.jsx(Sb,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...n,ref:a,children:e.jsx(BA,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bn.displayName=Sb.displayName;var Wh="Radio",[zA,Cb]=dr(Wh),[UA,VA]=zA(Wh),kb=d.forwardRef((t,n)=>{const{__scopeRadio:a,name:o,checked:l=!1,required:c,disabled:m,value:f="on",onCheck:x,...p}=t,[y,w]=d.useState(null),v=We(n,b=>w(b)),S=d.useRef(!1),N=y?!!y.closest("form"):!0;return e.jsxs(UA,{scope:a,checked:l,disabled:m,children:[e.jsx(Ne.button,{type:"button",role:"radio","aria-checked":l,"data-state":Rb(l),"data-disabled":m?"":void 0,disabled:m,value:f,...p,ref:v,onClick:le(t.onClick,b=>{l||x==null||x(),N&&(S.current=b.isPropagationStopped(),S.current||b.stopPropagation())})}),N&&e.jsx(HA,{control:y,bubbles:!S.current,name:o,value:f,checked:l,required:c,disabled:m,style:{transform:"translateX(-100%)"}})]})});kb.displayName=Wh;var Eb="RadioIndicator",Pb=d.forwardRef((t,n)=>{const{__scopeRadio:a,forceMount:o,...l}=t,c=VA(Eb,a);return e.jsx(Hr,{present:o||c.checked,children:e.jsx(Ne.span,{"data-state":Rb(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:n})})});Pb.displayName=Eb;var HA=t=>{const{control:n,checked:a,bubbles:o=!0,...l}=t,c=d.useRef(null),m=_d(a),f=wd(n);return d.useEffect(()=>{const x=c.current,p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"checked").set;if(m!==a&&w){const v=new Event("click",{bubbles:o});w.call(x,a),x.dispatchEvent(v)}},[m,a,o]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:c,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Rb(t){return t?"checked":"unchecked"}var WA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gh="RadioGroup",[GA,mM]=dr(Gh,[Jo,Cb]),Ab=Jo(),Tb=Cb(),[KA,YA]=GA(Gh),Db=d.forwardRef((t,n)=>{const{__scopeRadioGroup:a,name:o,defaultValue:l,value:c,required:m=!1,disabled:f=!1,orientation:x,dir:p,loop:y=!0,onValueChange:w,...v}=t,S=Ab(a),N=pl(p),[b,j]=Vr({prop:c,defaultProp:l,onChange:w});return e.jsx(KA,{scope:a,name:o,required:m,disabled:f,value:b,onValueChange:j,children:e.jsx(Bh,{asChild:!0,...S,orientation:x,dir:N,loop:y,children:e.jsx(Ne.div,{role:"radiogroup","aria-required":m,"aria-orientation":x,"data-disabled":f?"":void 0,dir:N,...v,ref:n})})})});Db.displayName=Gh;var Mb="RadioGroupItem",Ib=d.forwardRef((t,n)=>{const{__scopeRadioGroup:a,disabled:o,...l}=t,c=YA(Mb,a),m=c.disabled||o,f=Ab(a),x=Tb(a),p=d.useRef(null),y=We(n,p),w=c.value===l.value,v=d.useRef(!1);return d.useEffect(()=>{const S=b=>{WA.includes(b.key)&&(v.current=!0)},N=()=>v.current=!1;return document.addEventListener("keydown",S),document.addEventListener("keyup",N),()=>{document.removeEventListener("keydown",S),document.removeEventListener("keyup",N)}},[]),e.jsx(zh,{asChild:!0,...f,focusable:!m,active:w,children:e.jsx(kb,{disabled:m,required:c.required,checked:w,...x,...l,name:c.name,ref:y,onCheck:()=>c.onValueChange(l.value),onKeyDown:le(S=>{S.key==="Enter"&&S.preventDefault()}),onFocus:le(l.onFocus,()=>{var S;v.current&&((S=p.current)==null||S.click())})})})});Ib.displayName=Mb;var qA="RadioGroupIndicator",Lb=d.forwardRef((t,n)=>{const{__scopeRadioGroup:a,...o}=t,l=Tb(a);return e.jsx(Pb,{...l,...o,ref:n})});Lb.displayName=qA;var Ob=Db,_b=Ib,QA=Lb;const Co=d.forwardRef(({className:t,...n},a)=>e.jsx(Ob,{className:Me("grid gap-2",t),...n,ref:a}));Co.displayName=Ob.displayName;const Qt=d.forwardRef(({className:t,...n},a)=>e.jsx(_b,{ref:a,className:Me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:e.jsx(QA,{className:"flex items-center justify-center",children:e.jsx(Qy,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Qt.displayName=_b.displayName;function XA(){const{user:t,fetchUser:n}=Lt(),[a,o]=d.useState("profile"),[l,c]=d.useState(!1),[m,f]=d.useState(!1),[x,p]=d.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",department:(t==null?void 0:t.department)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[y,w]=d.useState({defaultSearch:"title",displayMode:"grid",itemsPerPage:20,showBookCovers:!0,notifications:{email:!0,browser:!0,overdue:!0,reservations:!0,newBooks:!1,systemUpdates:!0}}),[v,S]=d.useState(!1),[N,b]=d.useState(!1),[j,C]=d.useState(!1);d.useEffect(()=>{t&&p(L=>({...L,name:t.name||"",email:t.email||"",department:t.department||""}))},[t]);const k=async()=>{f(!0);try{const L=localStorage.getItem("token")||sessionStorage.getItem("token"),D=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({name:x.name,department:x.department})});if(D.ok)yt({title:"Profile Updated",description:"Your profile has been updated successfully."}),await n();else{const $=await D.json();yt({title:"Error",description:$.message||"Failed to update profile",variant:"destructive"})}}catch{yt({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{f(!1)}},P=async()=>{if(x.newPassword!==x.confirmPassword){yt({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(x.newPassword.length<6){yt({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}f(!0);try{const L=localStorage.getItem("token")||sessionStorage.getItem("token"),D=await fetch("/api/profile/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({currentPassword:x.currentPassword,newPassword:x.newPassword})});if(D.ok)yt({title:"Password Changed",description:"Your password has been changed successfully."}),p($=>({...$,currentPassword:"",newPassword:"",confirmPassword:""}));else{const $=await D.json();yt({title:"Error",description:$.message||"Failed to change password",variant:"destructive"})}}catch{yt({title:"Error",description:"Failed to change password",variant:"destructive"})}finally{f(!1)}},A=async()=>{f(!0);try{const L=localStorage.getItem("token")||sessionStorage.getItem("token");(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({preferences:y})})).ok?yt({title:"Preferences Saved",description:"Your preferences have been saved successfully."}):yt({title:"Error",description:"Failed to save preferences",variant:"destructive"})}catch{yt({title:"Error",description:"Failed to save preferences",variant:"destructive"})}finally{f(!1)}},T=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone.")){f(!0);try{const L=localStorage.getItem("token")||sessionStorage.getItem("token"),D=await fetch("/api/profile",{method:"DELETE",headers:{Authorization:`Bearer ${L}`}});if(D.ok)yt({title:"Account Deleted",description:"Your account has been deleted successfully."}),window.location.href="/";else{const $=await D.json();yt({title:"Error",description:$.message||"Failed to delete account",variant:"destructive"})}}catch{yt({title:"Error",description:"Failed to delete account",variant:"destructive"})}finally{f(!1)}}};return t?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-abhaya text-brand-orange mb-2",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account preferences and settings"})]}),e.jsxs(xl,{value:a,onValueChange:o,className:"space-y-6",children:[e.jsxs(Zo,{className:"grid w-full grid-cols-4",children:[e.jsxs(ft,{value:"profile",className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-4 h-4"}),"Profile"]}),e.jsxs(ft,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(Qc,{className:"w-4 h-4"}),"Notifications"]}),e.jsxs(ft,{value:"preferences",className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Library"]}),e.jsxs(ft,{value:"account",className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-4 h-4"}),"Account"]})]}),e.jsxs(mt,{value:"profile",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5"}),"Profile Information"]}),e.jsx(wt,{children:"Update your personal information and contact details"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"name",children:"Full Name"}),e.jsx(Ze,{id:"name",value:x.name,onChange:L=>p(D=>({...D,name:L.target.value})),placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"email",children:"Email Address"}),e.jsx(Ze,{id:"email",value:x.email,disabled:!0,className:"bg-gray-50"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Email cannot be changed"})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"department",children:"Department"}),e.jsx(Ze,{id:"department",value:x.department,onChange:L=>p(D=>({...D,department:L.target.value})),placeholder:"Enter your department"})]}),e.jsxs(B,{onClick:k,disabled:m,className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),m?"Saving...":"Save Profile"]})]})]}),e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsx(Be,{children:"Change Password"}),e.jsx(wt,{children:"Update your password to keep your account secure"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"currentPassword",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{id:"currentPassword",type:v?"text":"password",value:x.currentPassword,onChange:L=>p(D=>({...D,currentPassword:L.target.value})),placeholder:"Enter current password"}),e.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>S(!v),children:v?e.jsx(Un,{className:"w-4 h-4"}):e.jsx(Kt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"newPassword",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{id:"newPassword",type:N?"text":"password",value:x.newPassword,onChange:L=>p(D=>({...D,newPassword:L.target.value})),placeholder:"Enter new password"}),e.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!N),children:N?e.jsx(Un,{className:"w-4 h-4"}):e.jsx(Kt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{id:"confirmPassword",type:j?"text":"password",value:x.confirmPassword,onChange:L=>p(D=>({...D,confirmPassword:L.target.value})),placeholder:"Confirm new password"}),e.jsx(B,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>C(!j),children:j?e.jsx(Un,{className:"w-4 h-4"}):e.jsx(Kt,{className:"w-4 h-4"})})]})]})]}),e.jsxs(B,{onClick:P,disabled:m,className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),m?"Changing Password...":"Change Password"]})]})]})]}),e.jsx(mt,{value:"notifications",className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Qc,{className:"w-5 h-5"}),"Notification Preferences"]}),e.jsx(wt,{children:"Choose how you want to receive updates about your library account"})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]}),e.jsx(Bn,{checked:y.notifications.email,onCheckedChange:L=>w(D=>({...D,notifications:{...D.notifications,email:L}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"Browser Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in your browser"})]}),e.jsx(Bn,{checked:y.notifications.browser,onCheckedChange:L=>w(D=>({...D,notifications:{...D.notifications,browser:L}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"Overdue Book Reminders"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when books are overdue"})]}),e.jsx(Bn,{checked:y.notifications.overdue,onCheckedChange:L=>w(D=>({...D,notifications:{...D.notifications,overdue:L}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"Reservation Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when reserved books are available"})]}),e.jsx(Bn,{checked:y.notifications.reservations,onCheckedChange:L=>w(D=>({...D,notifications:{...D.notifications,reservations:L}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"New Book Alerts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about new books in your department"})]}),e.jsx(Bn,{checked:y.notifications.newBooks,onCheckedChange:L=>w(D=>({...D,notifications:{...D.notifications,newBooks:L}}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"System Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive important system announcements"})]}),e.jsx(Bn,{checked:y.notifications.systemUpdates,onCheckedChange:L=>w(D=>({...D,notifications:{...D.notifications,systemUpdates:L}}))})]})]}),e.jsxs(B,{onClick:A,disabled:m,className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),m?"Saving...":"Save Notification Preferences"]})]})]})}),e.jsx(mt,{value:"preferences",className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Library Preferences"]}),e.jsx(wt,{children:"Customize your library browsing experience"})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium mb-3 block",children:"Default Search Field"}),e.jsxs(Co,{value:y.defaultSearch,onValueChange:L=>w(D=>({...D,defaultSearch:L})),className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"title",id:"search-title"}),e.jsx(ye,{htmlFor:"search-title",children:"Title"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"author",id:"search-author"}),e.jsx(ye,{htmlFor:"search-author",children:"Author"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"keyword",id:"search-keyword"}),e.jsx(ye,{htmlFor:"search-keyword",children:"Keyword"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"isbn",id:"search-isbn"}),e.jsx(ye,{htmlFor:"search-isbn",children:"ISBN"})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium mb-3 block",children:"Display Mode"}),e.jsxs(Co,{value:y.displayMode,onValueChange:L=>w(D=>({...D,displayMode:L})),className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"grid",id:"display-grid"}),e.jsx(ye,{htmlFor:"display-grid",children:"Grid View"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"list",id:"display-list"}),e.jsx(ye,{htmlFor:"display-list",children:"List View"})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium mb-3 block",children:"Items Per Page"}),e.jsxs(Co,{value:y.itemsPerPage.toString(),onValueChange:L=>w(D=>({...D,itemsPerPage:parseInt(L)})),className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"10",id:"items-10"}),e.jsx(ye,{htmlFor:"items-10",children:"10 items"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"20",id:"items-20"}),e.jsx(ye,{htmlFor:"items-20",children:"20 items"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qt,{value:"50",id:"items-50"}),e.jsx(ye,{htmlFor:"items-50",children:"50 items"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"Show Book Covers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Display book cover images in search results"})]}),e.jsx(Bn,{checked:y.showBookCovers,onCheckedChange:L=>w(D=>({...D,showBookCovers:L}))})]}),e.jsxs(B,{onClick:A,disabled:m,className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),m?"Saving...":"Save Library Preferences"]})]})]})}),e.jsx(mt,{value:"account",className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-5 h-5"}),"Account Management"]}),e.jsx(wt,{children:"Manage your account settings and data"})]}),e.jsxs(ue,{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Account Status"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your account is active and in good standing"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(we,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:t.role}),e.jsx(we,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Active"})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"User ID"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.userId||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"Member Since"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Unknown"})]}),e.jsxs("div",{children:[e.jsx(ye,{className:"text-base font-medium",children:"Last Login"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Unknown"})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ir,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Danger Zone"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Once you delete your account, there is no going back. Please be certain."}),e.jsxs(B,{variant:"destructive",onClick:T,disabled:m,className:"mt-3 flex items-center gap-2",children:[e.jsx(ba,{className:"w-4 h-4"}),m?"Deleting Account...":"Delete Account"]})]})]})})})]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ms,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to access settings."})]})})}var JA="Separator",Fv="horizontal",ZA=["horizontal","vertical"],Fb=d.forwardRef((t,n)=>{const{decorative:a,orientation:o=Fv,...l}=t,c=eT(o)?o:Fv,f=a?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Ne.div,{"data-orientation":c,...f,...l,ref:n})});Fb.displayName=JA;function eT(t){return ZA.includes(t)}var $b=Fb;const Im=d.forwardRef(({className:t,orientation:n="horizontal",decorative:a=!0,...o},l)=>e.jsx($b,{ref:l,decorative:a,orientation:n,className:Me("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));Im.displayName=$b.displayName;function tT({onSave:t,onCancel:n}){const{user:a,token:o,fetchUser:l}=Lt(),[c,m]=d.useState({name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||""}),[f,x]=d.useState(!1),[p,y]=d.useState({}),w=()=>{const N={};return c.name.trim()||(N.name="Name is required"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(N.email="Please enter a valid email address"):N.email="Email is required",y(N),Object.keys(N).length===0},v=async N=>{if(N.preventDefault(),!!w()){x(!0);try{const b=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(c)}),j=await b.json();if(!b.ok||!j.success)throw new Error(j.message||"Failed to update profile");it.success("Profile updated successfully!"),await l(),t==null||t()}catch(b){it.error(b instanceof Error?b.message:"Failed to update profile")}finally{x(!1)}}},S=(N,b)=>{m(j=>({...j,[N]:b})),p[N]&&y(j=>({...j,[N]:""}))};return e.jsxs(de,{className:"w-full max-w-2xl mx-auto",children:[e.jsxs($e,{children:[e.jsx(Be,{className:"text-2xl font-abhaya text-brand-text-primary",children:"Edit Profile"}),e.jsx(wt,{className:"font-actor",children:"Update your personal information and account details"})]}),e.jsx(ue,{children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(ye,{htmlFor:"name",className:"text-black font-bold text-lg",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ze,{id:"name",type:"text",value:c.name,onChange:N=>S("name",N.target.value),placeholder:"Enter your full name",className:"mt-2 px-4 py-3 rounded-full border-gray-400 focus:ring-2 focus:ring-brand-orange focus:border-transparent",disabled:f}),p.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:p.name})]}),e.jsxs("div",{children:[e.jsxs(ye,{htmlFor:"email",className:"text-black font-bold text-lg",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ze,{id:"email",type:"email",value:c.email,onChange:N=>S("email",N.target.value),placeholder:"Enter your email address",className:"mt-2 px-4 py-3 rounded-full border-gray-400 focus:ring-2 focus:ring-brand-orange focus:border-transparent",disabled:f}),p.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:p.email})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(B,{type:"submit",disabled:f,className:"flex-1 py-3 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-all duration-200 disabled:opacity-60 hover:scale-105 disabled:hover:scale-100",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-5 h-5 mr-2"}),"Save Changes"]})}),n&&e.jsx(B,{type:"button",variant:"outline",onClick:n,disabled:f,className:"flex-1 py-3 border-gray-400 text-black font-bold text-lg rounded-full hover:bg-gray-50 transition-all duration-200 hover:scale-105 disabled:hover:scale-100",children:"Cancel"})]})]})})]})}function rT({onSuccess:t,onCancel:n}){const{token:a}=Lt(),[o,l]=d.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,m]=d.useState({current:!1,new:!1,confirm:!1}),[f,x]=d.useState(!1),[p,y]=d.useState({}),w=()=>{const C={};return o.currentPassword||(C.currentPassword="Current password is required"),o.newPassword?o.newPassword.length<6&&(C.newPassword="New password must be at least 6 characters long"):C.newPassword="New password is required",o.confirmPassword?o.newPassword!==o.confirmPassword&&(C.confirmPassword="Passwords do not match"):C.confirmPassword="Please confirm your new password",o.currentPassword&&o.newPassword&&o.currentPassword===o.newPassword&&(C.newPassword="New password must be different from current password"),y(C),Object.keys(C).length===0},v=async C=>{if(C.preventDefault(),!!w()){x(!0);try{const k=await fetch("/api/profile/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({currentPassword:o.currentPassword,newPassword:o.newPassword})}),P=await k.json();if(!k.ok||!P.success)throw new Error(P.message||"Failed to change password");it.success("Password changed successfully!"),l({currentPassword:"",newPassword:"",confirmPassword:""}),t==null||t()}catch(k){it.error(k instanceof Error?k.message:"Failed to change password")}finally{x(!1)}}},S=(C,k)=>{l(P=>({...P,[C]:k})),p[C]&&y(P=>({...P,[C]:""}))},N=C=>{m(k=>({...k,[C]:!k[C]}))},j=(C=>{if(!C)return null;let k=0;return C.length>=8&&k++,/[A-Z]/.test(C)&&k++,/[a-z]/.test(C)&&k++,/[0-9]/.test(C)&&k++,/[^A-Za-z0-9]/.test(C)&&k++,k<=2?{text:"Weak",color:"text-red-500"}:k<=3?{text:"Fair",color:"text-yellow-500"}:k<=4?{text:"Good",color:"text-blue-500"}:{text:"Strong",color:"text-green-500"}})(o.newPassword);return e.jsxs(de,{className:"w-full max-w-2xl mx-auto",children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"text-2xl font-abhaya text-brand-text-primary flex items-center gap-2",children:[e.jsx(Fo,{className:"w-6 h-6"}),"Change Password"]}),e.jsx(wt,{className:"font-actor",children:"Update your password to keep your account secure"})]}),e.jsx(ue,{children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(ye,{htmlFor:"currentPassword",className:"text-black font-bold text-lg",children:["Current Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(Ze,{id:"currentPassword",type:c.current?"text":"password",value:o.currentPassword,onChange:C=>S("currentPassword",C.target.value),placeholder:"Enter your current password",className:"px-4 py-3 pr-12 rounded-full border-gray-400 focus:ring-2 focus:ring-brand-orange focus:border-transparent",disabled:f}),e.jsx("button",{type:"button",onClick:()=>N("current"),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c.current?e.jsx(Un,{className:"w-5 h-5"}):e.jsx(Kt,{className:"w-5 h-5"})})]}),p.currentPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:p.currentPassword})]}),e.jsxs("div",{children:[e.jsxs(ye,{htmlFor:"newPassword",className:"text-black font-bold text-lg",children:["New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(Ze,{id:"newPassword",type:c.new?"text":"password",value:o.newPassword,onChange:C=>S("newPassword",C.target.value),placeholder:"Enter your new password",className:"px-4 py-3 pr-12 rounded-full border-gray-400 focus:ring-2 focus:ring-brand-orange focus:border-transparent",disabled:f}),e.jsx("button",{type:"button",onClick:()=>N("new"),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c.new?e.jsx(Un,{className:"w-5 h-5"}):e.jsx(Kt,{className:"w-5 h-5"})})]}),j&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Strength:"}),e.jsx("span",{className:`text-sm font-medium ${j.color}`,children:j.text})]}),p.newPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:p.newPassword})]}),e.jsxs("div",{children:[e.jsxs(ye,{htmlFor:"confirmPassword",className:"text-black font-bold text-lg",children:["Confirm New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(Ze,{id:"confirmPassword",type:c.confirm?"text":"password",value:o.confirmPassword,onChange:C=>S("confirmPassword",C.target.value),placeholder:"Confirm your new password",className:"px-4 py-3 pr-12 rounded-full border-gray-400 focus:ring-2 focus:ring-brand-orange focus:border-transparent",disabled:f}),e.jsx("button",{type:"button",onClick:()=>N("confirm"),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c.confirm?e.jsx(Un,{className:"w-5 h-5"}):e.jsx(Kt,{className:"w-5 h-5"})})]}),p.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:p.confirmPassword})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• At least 6 characters long"}),e.jsx("li",{children:"• Mix of uppercase and lowercase letters"}),e.jsx("li",{children:"• Include numbers and special characters"}),e.jsx("li",{children:"• Different from your current password"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(B,{type:"submit",disabled:f,className:"flex-1 py-3 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-all duration-200 disabled:opacity-60 hover:scale-105 disabled:hover:scale-100",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"w-5 h-5 mr-2 animate-spin"}),"Changing Password..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Change Password"]})}),n&&e.jsx(B,{type:"button",variant:"outline",onClick:n,disabled:f,className:"flex-1 py-3 border-gray-400 text-black font-bold text-lg rounded-full hover:bg-gray-50 transition-all duration-200 hover:scale-105 disabled:hover:scale-100",children:"Cancel"})]})]})})]})}function nT({onSave:t,onCancel:n}){const{user:a,token:o,fetchUser:l}=Lt(),[c,m]=d.useState({notifications:!0,defaultSearch:"title",displayMode:"list"}),[f,x]=d.useState(!1),[p,y]=d.useState(!0);d.useEffect(()=>{a!=null&&a.preferences&&m({notifications:a.preferences.notifications??!0,defaultSearch:a.preferences.defaultSearch??"title",displayMode:a.preferences.displayMode??"list"}),y(!1)},[a]);const w=async S=>{S.preventDefault(),x(!0);try{const N=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({name:a==null?void 0:a.name,email:a==null?void 0:a.email,preferences:c})}),b=await N.json();if(!N.ok||!b.success)throw new Error(b.message||"Failed to update preferences");it.success("Preferences updated successfully!"),await l(),t==null||t()}catch(N){it.error(N instanceof Error?N.message:"Failed to update preferences")}finally{x(!1)}},v=(S,N)=>{m(b=>({...b,[S]:N}))};return p?e.jsx(de,{className:"w-full max-w-2xl mx-auto",children:e.jsx(ue,{className:"flex items-center justify-center p-8",children:e.jsx(Wn,{className:"w-8 h-8 animate-spin text-brand-orange"})})}):e.jsxs(de,{className:"w-full max-w-2xl mx-auto",children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"text-2xl font-abhaya text-brand-text-primary flex items-center gap-2",children:[e.jsx(Ms,{className:"w-6 h-6"}),"User Preferences"]}),e.jsx(wt,{className:"font-actor",children:"Customize your library experience and notification settings"})]}),e.jsx(ue,{children:e.jsxs("form",{onSubmit:w,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-black font-bold text-lg",children:"Notifications"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Receive email notifications about your library account and new books"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx(Bn,{id:"notifications",checked:c.notifications,onCheckedChange:S=>v("notifications",S),disabled:f}),e.jsx(ye,{htmlFor:"notifications",className:"text-base font-medium",children:"Enable email notifications"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-black font-bold text-lg",children:"Default Search Field"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Choose the default search field when searching for books"})]}),e.jsxs(Co,{value:c.defaultSearch,onValueChange:S=>v("defaultSearch",S),disabled:f,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qt,{value:"title",id:"search-title"}),e.jsx(ye,{htmlFor:"search-title",className:"text-base font-medium cursor-pointer",children:"Title"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qt,{value:"author",id:"search-author"}),e.jsx(ye,{htmlFor:"search-author",className:"text-base font-medium cursor-pointer",children:"Author"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qt,{value:"keyword",id:"search-keyword"}),e.jsx(ye,{htmlFor:"search-keyword",className:"text-base font-medium cursor-pointer",children:"Keyword"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qt,{value:"isbn",id:"search-isbn"}),e.jsx(ye,{htmlFor:"search-isbn",className:"text-base font-medium cursor-pointer",children:"ISBN"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ye,{className:"text-black font-bold text-lg",children:"Display Mode"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Choose how search results and book listings are displayed"})]}),e.jsxs(Co,{value:c.displayMode,onValueChange:S=>v("displayMode",S),disabled:f,className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qt,{value:"list",id:"display-list"}),e.jsx(ye,{htmlFor:"display-list",className:"text-base font-medium cursor-pointer",children:"List View"}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"Books displayed in a detailed list format"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qt,{value:"grid",id:"display-grid"}),e.jsx(ye,{htmlFor:"display-grid",className:"text-base font-medium cursor-pointer",children:"Grid View"}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"Books displayed in a grid with cover images"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qt,{value:"compact",id:"display-compact"}),e.jsx(ye,{htmlFor:"display-compact",className:"text-base font-medium cursor-pointer",children:"Compact View"}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"Dense list with minimal information"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"About Your Preferences"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Changes are saved automatically to your account"}),e.jsx("li",{children:"• You can update these settings at any time"}),e.jsx("li",{children:"• Your preferences are synced across all devices"}),e.jsx("li",{children:"• Email notifications can be disabled at any time"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(B,{type:"submit",disabled:f,className:"flex-1 py-3 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-all duration-200 disabled:opacity-60 hover:scale-105 disabled:hover:scale-100",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-5 h-5 mr-2"}),"Save Preferences"]})}),n&&e.jsx(B,{type:"button",variant:"outline",onClick:n,disabled:f,className:"flex-1 py-3 border-gray-400 text-black font-bold text-lg rounded-full hover:bg-gray-50 transition-all duration-200 hover:scale-105 disabled:hover:scale-100",children:"Cancel"})]})]})]})})]})}function sT({onSuccess:t,onCancel:n}){const{token:a,logout:o}=Lt(),[l,c]=d.useState(""),[m,f]=d.useState(!1),[x,p]=d.useState({understand:!1,permanent:!1,dataLoss:!1}),[y,w]=d.useState(!1),[v,S]=d.useState(""),b=Object.values(x).every(Boolean)&&l.length>0,j=k=>{p(P=>({...P,[k]:!P[k]}))},C=async k=>{if(k.preventDefault(),!!b){w(!0),S("");try{const P=await fetch("/api/profile",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({password:l})}),A=await P.json();if(!P.ok||!A.success)throw new Error(A.message||"Failed to delete account");it.success("Account deleted successfully"),o(),t==null||t()}catch(P){S(P instanceof Error?P.message:"Failed to delete account")}finally{w(!1)}}};return e.jsxs(de,{className:"w-full max-w-2xl mx-auto border-red-200",children:[e.jsxs($e,{className:"pb-4",children:[e.jsxs(Be,{className:"text-2xl font-abhaya text-red-700 flex items-center gap-2",children:[e.jsx(ba,{className:"w-6 h-6"}),"Delete Account"]}),e.jsx(wt,{className:"font-actor text-red-600",children:"Permanently delete your account and all associated data"})]}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ir,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-red-800 mb-2",children:"Warning: This action cannot be undone"}),e.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Deleting your account will permanently remove:"}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[e.jsx("li",{children:"• Your profile information and preferences"}),e.jsx("li",{children:"• Your search history and saved books"}),e.jsx("li",{children:"• Your reading lists and bookmarks"}),e.jsx("li",{children:"• All account data and settings"}),e.jsx("li",{children:"• Access to any borrowed or reserved books"})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ye,{className:"text-black font-bold text-lg",children:"Please confirm you understand the consequences:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Wi,{id:"understand",checked:x.understand,onCheckedChange:()=>j("understand"),disabled:y}),e.jsx(ye,{htmlFor:"understand",className:"text-sm font-medium leading-5",children:"I understand that deleting my account will permanently remove all my data and cannot be recovered."})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Wi,{id:"permanent",checked:x.permanent,onCheckedChange:()=>j("permanent"),disabled:y}),e.jsx(ye,{htmlFor:"permanent",className:"text-sm font-medium leading-5",children:"I understand that this action is permanent and irreversible."})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Wi,{id:"dataLoss",checked:x.dataLoss,onCheckedChange:()=>j("dataLoss"),disabled:y}),e.jsx(ye,{htmlFor:"dataLoss",className:"text-sm font-medium leading-5",children:"I accept that all my library data, preferences, and history will be permanently lost."})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ye,{htmlFor:"password",className:"text-black font-bold text-lg",children:["Enter your password to confirm ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{id:"password",type:m?"text":"password",value:l,onChange:k=>c(k.target.value),placeholder:"Enter your password",className:"px-4 py-3 pr-12 rounded-full border-red-300 focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:y}),e.jsx("button",{type:"button",onClick:()=>f(!m),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?e.jsx(Un,{className:"w-5 h-5"}):e.jsx(Kt,{className:"w-5 h-5"})})]}),v&&e.jsx("p",{className:"text-sm text-red-600 font-medium",children:v})]}),e.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[e.jsx(B,{type:"button",onClick:C,disabled:!b||y,className:"flex-1 py-3 bg-red-600 text-white font-bold text-lg rounded-full hover:bg-red-700 transition-all duration-200 disabled:opacity-60 hover:scale-105 disabled:hover:scale-100",children:y?e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"w-5 h-5 mr-2 animate-spin"}),"Deleting Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ba,{className:"w-5 h-5 mr-2"}),"Delete My Account"]})}),n&&e.jsx(B,{type:"button",variant:"outline",onClick:n,disabled:y,className:"flex-1 py-3 border-gray-400 text-black font-bold text-lg rounded-full hover:bg-gray-50 transition-all duration-200 hover:scale-105 disabled:hover:scale-100",children:"Cancel"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Need help instead?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"If you're having issues with your account, consider these alternatives:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Update your preferences in the settings page"}),e.jsx("li",{children:"• Change your password if you're concerned about security"}),e.jsx("li",{children:"• Contact library support for assistance"}),e.jsx("li",{children:"• Temporarily disable email notifications"})]})]})]})})]})}var aT="DismissableLayer",Lm="dismissableLayer.update",oT="dismissableLayer.pointerDownOutside",iT="dismissableLayer.focusOutside",$v,Bb=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zb=d.forwardRef((t,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:m,onDismiss:f,...x}=t,p=d.useContext(Bb),[y,w]=d.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=d.useState({}),N=We(n,D=>w(D)),b=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(j),k=y?b.indexOf(y):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,A=k>=C,T=dT(D=>{const $=D.target,X=[...p.branches].some(V=>V.contains($));!A||X||(l==null||l(D),m==null||m(D),D.defaultPrevented||f==null||f())},v),L=uT(D=>{const $=D.target;[...p.branches].some(V=>V.contains($))||(c==null||c(D),m==null||m(D),D.defaultPrevented||f==null||f())},v);return sl(D=>{k===p.layers.size-1&&(o==null||o(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},v),d.useEffect(()=>{if(y)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&($v=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Bv(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=$v)}},[y,v,a,p]),d.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Bv())},[y,p]),d.useEffect(()=>{const D=()=>S({});return document.addEventListener(Lm,D),()=>document.removeEventListener(Lm,D)},[]),e.jsx(Ne.div,{...x,ref:N,style:{pointerEvents:P?A?"auto":"none":void 0,...t.style},onFocusCapture:le(t.onFocusCapture,L.onFocusCapture),onBlurCapture:le(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:le(t.onPointerDownCapture,T.onPointerDownCapture)})});zb.displayName=aT;var lT="DismissableLayerBranch",cT=d.forwardRef((t,n)=>{const a=d.useContext(Bb),o=d.useRef(null),l=We(n,o);return d.useEffect(()=>{const c=o.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),e.jsx(Ne.div,{...t,ref:l})});cT.displayName=lT;function dT(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1),l=d.useRef(()=>{});return d.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let x=function(){Ub(oT,a,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=x,n.addEventListener("click",l.current,{once:!0})):x()}else n.removeEventListener("click",l.current);o.current=!1},m=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(m),n.removeEventListener("pointerdown",c),n.removeEventListener("click",l.current)}},[n,a]),{onPointerDownCapture:()=>o.current=!0}}function uT(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1);return d.useEffect(()=>{const l=c=>{c.target&&!o.current&&Ub(iT,a,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Bv(){const t=new CustomEvent(Lm);document.dispatchEvent(t)}function Ub(t,n,a,{discrete:o}){const l=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});n&&l.addEventListener(t,n,{once:!0}),o?Ra(l,c):l.dispatchEvent(c)}var fT="Portal",Vb=d.forwardRef((t,n)=>{var f;const{container:a,...o}=t,[l,c]=d.useState(!1);jt(()=>c(!0),[]);const m=a||l&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return m?Uo.createPortal(e.jsx(Ne.div,{...o,ref:n}),m):null});Vb.displayName=fT;var sm=0;function mT(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zv()),document.body.insertAdjacentElement("beforeend",t[1]??zv()),sm++,()=>{sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),sm--}},[])}function zv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var Hb=Td(),am=function(){},$d=d.forwardRef(function(t,n){var a=d.useRef(null),o=d.useState({onScrollCapture:am,onWheelCapture:am,onTouchMoveCapture:am}),l=o[0],c=o[1],m=t.forwardProps,f=t.children,x=t.className,p=t.removeScrollBar,y=t.enabled,w=t.shards,v=t.sideCar,S=t.noIsolation,N=t.inert,b=t.allowPinchZoom,j=t.as,C=j===void 0?"div":j,k=t.gapMode,P=fl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=v,T=Ad([a,n]),L=xt(xt({},P),l);return d.createElement(d.Fragment,null,y&&d.createElement(A,{sideCar:Hb,removeScrollBar:p,shards:w,noIsolation:S,inert:N,setCallbacks:c,allowPinchZoom:!!b,lockRef:a,gapMode:k}),m?d.cloneElement(d.Children.only(f),xt(xt({},L),{ref:T})):d.createElement(C,xt({},L,{className:x,ref:T}),f))});$d.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$d.classNames={fullWidth:ya,zeroRight:va};var Om=!1;if(typeof window<"u")try{var $c=Object.defineProperty({},"passive",{get:function(){return Om=!0,!0}});window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{Om=!1}var ho=Om?{passive:!1}:!1,hT=function(t){return t.tagName==="TEXTAREA"},Wb=function(t,n){var a=window.getComputedStyle(t);return a[n]!=="hidden"&&!(a.overflowY===a.overflowX&&!hT(t)&&a[n]==="visible")},pT=function(t){return Wb(t,"overflowY")},xT=function(t){return Wb(t,"overflowX")},Uv=function(t,n){var a=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var l=Gb(t,o);if(l){var c=Kb(t,o),m=c[1],f=c[2];if(m>f)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},gT=function(t){var n=t.scrollTop,a=t.scrollHeight,o=t.clientHeight;return[n,a,o]},vT=function(t){var n=t.scrollLeft,a=t.scrollWidth,o=t.clientWidth;return[n,a,o]},Gb=function(t,n){return t==="v"?pT(n):xT(n)},Kb=function(t,n){return t==="v"?gT(n):vT(n)},yT=function(t,n){return t==="h"&&n==="rtl"?-1:1},wT=function(t,n,a,o,l){var c=yT(t,window.getComputedStyle(n).direction),m=c*o,f=a.target,x=n.contains(f),p=!1,y=m>0,w=0,v=0;do{var S=Kb(t,f),N=S[0],b=S[1],j=S[2],C=b-j-c*N;(N||C)&&Gb(t,f)&&(w+=C,v+=N),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!x&&f!==document.body||x&&(n.contains(f)||n===f));return(y&&Math.abs(w)<1||!y&&Math.abs(v)<1)&&(p=!0),p},Bc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Vv=function(t){return[t.deltaX,t.deltaY]},Hv=function(t){return t&&"current"in t?t.current:t},bT=function(t,n){return t[0]===n[0]&&t[1]===n[1]},jT=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NT=0,po=[];function ST(t){var n=d.useRef([]),a=d.useRef([0,0]),o=d.useRef(),l=d.useState(NT++)[0],c=d.useState(ml)[0],m=d.useRef(t);d.useEffect(function(){m.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var b=Rd([t.lockRef.current],(t.shards||[]).map(Hv),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var f=d.useCallback(function(b,j){if("touches"in b&&b.touches.length===2)return!m.current.allowPinchZoom;var C=Bc(b),k=a.current,P="deltaX"in b?b.deltaX:k[0]-C[0],A="deltaY"in b?b.deltaY:k[1]-C[1],T,L=b.target,D=Math.abs(P)>Math.abs(A)?"h":"v";if("touches"in b&&D==="h"&&L.type==="range")return!1;var $=Uv(D,L);if(!$)return!0;if($?T=D:(T=D==="v"?"h":"v",$=Uv(D,L)),!$)return!1;if(!o.current&&"changedTouches"in b&&(P||A)&&(o.current=T),!T)return!0;var X=o.current||T;return wT(X,j,b,X==="h"?P:A)},[]),x=d.useCallback(function(b){var j=b;if(!(!po.length||po[po.length-1]!==c)){var C="deltaY"in j?Vv(j):Bc(j),k=n.current.filter(function(T){return T.name===j.type&&(T.target===j.target||j.target===T.shadowParent)&&bT(T.delta,C)})[0];if(k&&k.should){j.cancelable&&j.preventDefault();return}if(!k){var P=(m.current.shards||[]).map(Hv).filter(Boolean).filter(function(T){return T.contains(j.target)}),A=P.length>0?f(j,P[0]):!m.current.noIsolation;A&&j.cancelable&&j.preventDefault()}}},[]),p=d.useCallback(function(b,j,C,k){var P={name:b,delta:j,target:C,should:k,shadowParent:CT(C)};n.current.push(P),setTimeout(function(){n.current=n.current.filter(function(A){return A!==P})},1)},[]),y=d.useCallback(function(b){a.current=Bc(b),o.current=void 0},[]),w=d.useCallback(function(b){p(b.type,Vv(b),b.target,f(b,t.lockRef.current))},[]),v=d.useCallback(function(b){p(b.type,Bc(b),b.target,f(b,t.lockRef.current))},[]);d.useEffect(function(){return po.push(c),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:v}),document.addEventListener("wheel",x,ho),document.addEventListener("touchmove",x,ho),document.addEventListener("touchstart",y,ho),function(){po=po.filter(function(b){return b!==c}),document.removeEventListener("wheel",x,ho),document.removeEventListener("touchmove",x,ho),document.removeEventListener("touchstart",y,ho)}},[]);var S=t.removeScrollBar,N=t.inert;return d.createElement(d.Fragment,null,N?d.createElement(c,{styles:jT(l)}):null,S?d.createElement(Id,{gapMode:t.gapMode}):null)}function CT(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const kT=Dd(Hb,ST);var Yb=d.forwardRef(function(t,n){return d.createElement($d,xt({},t,{ref:n,sideCar:kT}))});Yb.classNames=$d.classNames;var Kh="Dialog",[qb,Qb]=dr(Kh),[ET,cn]=qb(Kh),Xb=t=>{const{__scopeDialog:n,children:a,open:o,defaultOpen:l,onOpenChange:c,modal:m=!0}=t,f=d.useRef(null),x=d.useRef(null),[p=!1,y]=Vr({prop:o,defaultProp:l,onChange:c});return e.jsx(ET,{scope:n,triggerRef:f,contentRef:x,contentId:br(),titleId:br(),descriptionId:br(),open:p,onOpenChange:y,onOpenToggle:d.useCallback(()=>y(w=>!w),[y]),modal:m,children:a})};Xb.displayName=Kh;var Jb="DialogTrigger",Zb=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=cn(Jb,a),c=We(n,l.triggerRef);return e.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Qh(l.open),...o,ref:c,onClick:le(t.onClick,l.onOpenToggle)})});Zb.displayName=Jb;var Yh="DialogPortal",[PT,ej]=qb(Yh,{forceMount:void 0}),tj=t=>{const{__scopeDialog:n,forceMount:a,children:o,container:l}=t,c=cn(Yh,n);return e.jsx(PT,{scope:n,forceMount:a,children:d.Children.map(o,m=>e.jsx(Hr,{present:a||c.open,children:e.jsx(Vb,{asChild:!0,container:l,children:m})}))})};tj.displayName=Yh;var ad="DialogOverlay",rj=d.forwardRef((t,n)=>{const a=ej(ad,t.__scopeDialog),{forceMount:o=a.forceMount,...l}=t,c=cn(ad,t.__scopeDialog);return c.modal?e.jsx(Hr,{present:o||c.open,children:e.jsx(RT,{...l,ref:n})}):null});rj.displayName=ad;var RT=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=cn(ad,a);return e.jsx(Yb,{as:Hn,allowPinchZoom:!0,shards:[l.contentRef],children:e.jsx(Ne.div,{"data-state":Qh(l.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),ka="DialogContent",nj=d.forwardRef((t,n)=>{const a=ej(ka,t.__scopeDialog),{forceMount:o=a.forceMount,...l}=t,c=cn(ka,t.__scopeDialog);return e.jsx(Hr,{present:o||c.open,children:c.modal?e.jsx(AT,{...l,ref:n}):e.jsx(TT,{...l,ref:n})})});nj.displayName=ka;var AT=d.forwardRef((t,n)=>{const a=cn(ka,t.__scopeDialog),o=d.useRef(null),l=We(n,a.contentRef,o);return d.useEffect(()=>{const c=o.current;if(c)return Ld(c)},[]),e.jsx(sj,{...t,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(t.onCloseAutoFocus,c=>{var m;c.preventDefault(),(m=a.triggerRef.current)==null||m.focus()}),onPointerDownOutside:le(t.onPointerDownOutside,c=>{const m=c.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0;(m.button===2||f)&&c.preventDefault()}),onFocusOutside:le(t.onFocusOutside,c=>c.preventDefault())})}),TT=d.forwardRef((t,n)=>{const a=cn(ka,t.__scopeDialog),o=d.useRef(!1),l=d.useRef(!1);return e.jsx(sj,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var m,f;(m=t.onCloseAutoFocus)==null||m.call(t,c),c.defaultPrevented||(o.current||(f=a.triggerRef.current)==null||f.focus(),c.preventDefault()),o.current=!1,l.current=!1},onInteractOutside:c=>{var x,p;(x=t.onInteractOutside)==null||x.call(t,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const m=c.target;((p=a.triggerRef.current)==null?void 0:p.contains(m))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),sj=d.forwardRef((t,n)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,...m}=t,f=cn(ka,a),x=d.useRef(null),p=We(n,x);return mT(),e.jsxs(e.Fragment,{children:[e.jsx(ul,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:c,children:e.jsx(zb,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Qh(f.open),...m,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(MT,{titleId:f.titleId}),e.jsx(LT,{contentRef:x,descriptionId:f.descriptionId})]})]})}),qh="DialogTitle",aj=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=cn(qh,a);return e.jsx(Ne.h2,{id:l.titleId,...o,ref:n})});aj.displayName=qh;var oj="DialogDescription",ij=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=cn(oj,a);return e.jsx(Ne.p,{id:l.descriptionId,...o,ref:n})});ij.displayName=oj;var lj="DialogClose",cj=d.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,l=cn(lj,a);return e.jsx(Ne.button,{type:"button",...o,ref:n,onClick:le(t.onClick,()=>l.onOpenChange(!1))})});cj.displayName=lj;function Qh(t){return t?"open":"closed"}var dj="DialogTitleWarning",[DT,uj]=bS(dj,{contentName:ka,titleName:qh,docsSlug:"dialog"}),MT=({titleId:t})=>{const n=uj(dj),a=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},IT="DialogDescriptionWarning",LT=({contentRef:t,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uj(IT).contentName}}.`;return d.useEffect(()=>{var c;const l=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");n&&l&&(document.getElementById(n)||console.warn(o))},[o,t,n]),null},OT=Xb,_T=Zb,FT=tj,$T=rj,BT=nj,zT=aj,UT=ij,fj=cj,mj="AlertDialog",[VT,hM]=dr(mj,[Qb]),qn=Qb(),hj=t=>{const{__scopeAlertDialog:n,...a}=t,o=qn(n);return e.jsx(OT,{...o,...a,modal:!0})};hj.displayName=mj;var HT="AlertDialogTrigger",pj=d.forwardRef((t,n)=>{const{__scopeAlertDialog:a,...o}=t,l=qn(a);return e.jsx(_T,{...l,...o,ref:n})});pj.displayName=HT;var WT="AlertDialogPortal",xj=t=>{const{__scopeAlertDialog:n,...a}=t,o=qn(n);return e.jsx(FT,{...o,...a})};xj.displayName=WT;var GT="AlertDialogOverlay",gj=d.forwardRef((t,n)=>{const{__scopeAlertDialog:a,...o}=t,l=qn(a);return e.jsx($T,{...l,...o,ref:n})});gj.displayName=GT;var ko="AlertDialogContent",[KT,YT]=VT(ko),vj=d.forwardRef((t,n)=>{const{__scopeAlertDialog:a,children:o,...l}=t,c=qn(a),m=d.useRef(null),f=We(n,m),x=d.useRef(null);return e.jsx(DT,{contentName:ko,titleName:yj,docsSlug:"alert-dialog",children:e.jsx(KT,{scope:a,cancelRef:x,children:e.jsxs(BT,{role:"alertdialog",...c,...l,ref:f,onOpenAutoFocus:le(l.onOpenAutoFocus,p=>{var y;p.preventDefault(),(y=x.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[e.jsx(nh,{children:o}),e.jsx(QT,{contentRef:m})]})})})});vj.displayName=ko;var yj="AlertDialogTitle",wj=d.forwardRef((t,n)=>{const{__scopeAlertDialog:a,...o}=t,l=qn(a);return e.jsx(zT,{...l,...o,ref:n})});wj.displayName=yj;var bj="AlertDialogDescription",jj=d.forwardRef((t,n)=>{const{__scopeAlertDialog:a,...o}=t,l=qn(a);return e.jsx(UT,{...l,...o,ref:n})});jj.displayName=bj;var qT="AlertDialogAction",Nj=d.forwardRef((t,n)=>{const{__scopeAlertDialog:a,...o}=t,l=qn(a);return e.jsx(fj,{...l,...o,ref:n})});Nj.displayName=qT;var Sj="AlertDialogCancel",Cj=d.forwardRef((t,n)=>{const{__scopeAlertDialog:a,...o}=t,{cancelRef:l}=YT(Sj,a),c=qn(a),m=We(n,l);return e.jsx(fj,{...c,...o,ref:m})});Cj.displayName=Sj;var QT=({contentRef:t})=>{const n=`\`${ko}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ko}\` by passing a \`${bj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ko}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var o;document.getElementById((o=t.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},XT=hj,JT=pj,ZT=xj,kj=gj,Ej=vj,Pj=Nj,Rj=Cj,Aj=wj,Tj=jj;const Wv=XT,Gv=JT,e3=ZT,Dj=d.forwardRef(({className:t,...n},a)=>e.jsx(kj,{className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:a}));Dj.displayName=kj.displayName;const _m=d.forwardRef(({className:t,...n},a)=>e.jsxs(e3,{children:[e.jsx(Dj,{}),e.jsx(Ej,{ref:a,className:Me("fixed left-[50%] top-16 z-50 grid w-full max-w-lg translate-x-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-16 data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-16 sm:rounded-lg",t),...n})]}));_m.displayName=Ej.displayName;const Fm=({className:t,...n})=>e.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",t),...n});Fm.displayName="AlertDialogHeader";const $m=({className:t,...n})=>e.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});$m.displayName="AlertDialogFooter";const Bm=d.forwardRef(({className:t,...n},a)=>e.jsx(Aj,{ref:a,className:Me("text-lg font-semibold",t),...n}));Bm.displayName=Aj.displayName;const zm=d.forwardRef(({className:t,...n},a)=>e.jsx(Tj,{ref:a,className:Me("text-sm text-muted-foreground",t),...n}));zm.displayName=Tj.displayName;const Um=d.forwardRef(({className:t,...n},a)=>e.jsx(Pj,{ref:a,className:Me(Dh(),t),...n}));Um.displayName=Pj.displayName;const Vm=d.forwardRef(({className:t,...n},a)=>e.jsx(Rj,{ref:a,className:Me(Dh({variant:"outline"}),"mt-2 sm:mt-0",t),...n}));Vm.displayName=Rj.displayName;function t3(){const{token:t}=Lt(),[n,a]=d.useState([]),[o,l]=d.useState(!0),[c,m]=d.useState(null);d.useEffect(()=>{f()},[]);const f=async()=>{try{const N=await fetch("/api/sessions",{headers:{Authorization:`Bearer ${t}`}});if(N.ok){const b=await N.json();a(b.sessions)}else it.error("Failed to load sessions")}catch{it.error("Failed to load sessions")}finally{l(!1)}},x=async N=>{m(N);try{const b=await fetch(`/api/sessions/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(b.ok)a(j=>j.filter(C=>C.sessionId!==N)),it.success("The session has been successfully revoked");else{const j=await b.json();it.error(j.message||"Failed to revoke session")}}catch{it.error("Failed to revoke session")}finally{m(null)}},p=async()=>{m("all");try{const N=await fetch("/api/sessions",{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(N.ok)a(b=>b.filter(j=>j.isCurrent)),it.success("All other sessions have been revoked");else{const b=await N.json();it.error(b.message||"Failed to revoke sessions")}}catch{it.error("Failed to revoke sessions")}finally{m(null)}},y=N=>{switch(N.toLowerCase()){case"mobile":return e.jsx(yC,{className:"w-5 h-5"});case"tablet":return e.jsx(wC,{className:"w-5 h-5"});default:return e.jsx(gm,{className:"w-5 h-5"})}},w=N=>new Date(N).toLocaleString(),v=N=>{const b=new Date,j=new Date(N),C=b.getTime()-j.getTime(),k=Math.floor(C/6e4),P=Math.floor(k/60),A=Math.floor(P/24);return k<1?"Just now":k<60?`${k} minutes ago`:P<24?`${P} hours ago`:`${A} days ago`};if(o)return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Active Sessions"})}),e.jsx("div",{className:"grid gap-4",children:[1,2,3].map(N=>e.jsx(de,{className:"animate-pulse",children:e.jsxs(ue,{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})},N))})]});const S=n.filter(N=>!N.isCurrent);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Active Sessions"}),S.length>0&&e.jsxs(Wv,{children:[e.jsx(Gv,{asChild:!0,children:e.jsxs(B,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[e.jsx(Kg,{className:"w-4 h-4 mr-2"}),"Revoke All Other Sessions"]})}),e.jsxs(_m,{children:[e.jsxs(Fm,{children:[e.jsx(Bm,{children:"Revoke All Other Sessions"}),e.jsx(zm,{children:"This will sign out all other devices except the current one. You'll need to sign in again on those devices."})]}),e.jsxs($m,{children:[e.jsx(Vm,{children:"Cancel"}),e.jsx(Um,{onClick:p,disabled:c==="all",className:"bg-red-600 hover:bg-red-700",children:c==="all"?"Revoking...":"Revoke All"})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:n.map(N=>e.jsxs(de,{className:N.isCurrent?"border-orange-200 bg-orange-50":"",children:[e.jsx($e,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y(N.deviceInfo.device),e.jsxs("div",{children:[e.jsxs(Be,{className:"text-lg flex items-center gap-2",children:[N.deviceInfo.browser," on ",N.deviceInfo.os,N.isCurrent&&e.jsxs(we,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:[e.jsx(jn,{className:"w-3 h-3 mr-1"}),"Current Session"]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[N.deviceInfo.device," Device"]})]})]}),!N.isCurrent&&e.jsxs(Wv,{children:[e.jsx(Gv,{asChild:!0,children:e.jsxs(B,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[e.jsx(Kg,{className:"w-4 h-4 mr-2"}),"Revoke"]})}),e.jsxs(_m,{children:[e.jsxs(Fm,{children:[e.jsx(Bm,{children:"Revoke Session"}),e.jsx(zm,{children:"This will sign out this device. The user will need to sign in again on that device."})]}),e.jsxs($m,{children:[e.jsx(Vm,{children:"Cancel"}),e.jsx(Um,{onClick:()=>x(N.sessionId),disabled:c===N.sessionId,className:"bg-red-600 hover:bg-red-700",children:c===N.sessionId?"Revoking...":"Revoke"})]})]})]})]})}),e.jsx(ue,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pd,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"IP Address:"}),e.jsx("span",{className:"font-mono",children:N.deviceInfo.ipAddress})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Last Activity:"}),e.jsx("span",{children:v(N.lastActivity)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Created:"}),e.jsx("span",{children:w(N.createdAt)})]})]})})]},N.sessionId))}),n.length===0&&e.jsx(de,{children:e.jsxs(ue,{className:"text-center py-8",children:[e.jsx(gm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No active sessions found"})]})})]})}function r3({onUploadSuccess:t,className:n}){const{user:a,fetchUser:o}=Lt(),[l,c]=d.useState(null),[m,f]=d.useState(null),[x,p]=d.useState(!1),[y,w]=d.useState(null),[v,S]=d.useState(!1),[N,b]=d.useState(1),[j,C]=d.useState(0),k=d.useRef(null),P=d.useCallback(V=>`/api/profile/picture/${V}?t=${Date.now()}`,[]),A=V=>{var he;const ne=(he=V.target.files)==null?void 0:he[0];if(!ne)return;if(!ne.type.startsWith("image/")){w("Please select an image file");return}if(ne.size>5*1024*1024){w("File size must be less than 5MB");return}c(ne),w(null),S(!1),b(1),C(0);const Z=URL.createObjectURL(ne);f(Z)},T=async()=>{if(!(!l||!a)){p(!0),w(null);try{const V=new FormData;V.append("profilePicture",l);const ne=localStorage.getItem("token")||sessionStorage.getItem("token"),Z=await fetch("/api/profile/picture",{method:"POST",headers:{Authorization:`Bearer ${ne}`},body:V});if(Z.ok)S(!0),c(null),f(null),await o(),t==null||t(),window.dispatchEvent(new CustomEvent("profilePictureUpdated",{detail:{userId:a.id}})),setTimeout(()=>S(!1),3e3);else{const he=await Z.json();w(he.message||"Upload failed")}}catch{w("Network error. Please try again.")}finally{p(!1)}}},L=async()=>{if(a){p(!0),w(null);try{const V=localStorage.getItem("token")||sessionStorage.getItem("token"),ne=await fetch("/api/profile/picture",{method:"DELETE",headers:{Authorization:`Bearer ${V}`}});if(ne.ok)S(!0),await o(),t==null||t(),window.dispatchEvent(new CustomEvent("profilePictureUpdated",{detail:{userId:a.id}})),setTimeout(()=>S(!1),3e3);else{const Z=await ne.json();w(Z.message||"Failed to remove picture")}}catch{w("Network error. Please try again.")}finally{p(!1)}}},D=()=>{c(null),f(null),w(null),S(!1),b(1),C(0),k.current&&(k.current.value="")},$=V=>{b(Math.max(.5,Math.min(3,V)))},X=()=>{C(V=>(V+90)%360)};return e.jsxs(de,{className:n,children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Vg,{className:"w-5 h-5"}),"Profile Picture"]}),e.jsx(wt,{children:"Upload a profile picture. Supported formats: JPG, PNG, GIF. Max size: 5MB."})]}),e.jsxs(ue,{className:"space-y-4",children:[(a==null?void 0:a.profilePicture)&&!l&&e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P(a.id),alt:"Profile",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200",onError:V=>{var ne;V.currentTarget.style.display="none",(ne=V.currentTarget.nextElementSibling)==null||ne.classList.remove("hidden")}}),e.jsx("div",{className:"hidden w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Xt,{className:"w-8 h-8 text-gray-400"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:"Current Picture"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",new Date(a.profilePicture.uploadDate).toLocaleDateString()]})]}),e.jsx(B,{variant:"outline",size:"sm",onClick:L,disabled:x,className:"text-red-600 hover:text-red-700",children:e.jsx(Os,{className:"w-4 h-4"})})]}),!l&&e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Yg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to select an image or drag and drop"}),e.jsxs(B,{variant:"outline",onClick:()=>{var V;return(V=k.current)==null?void 0:V.click()},className:"flex items-center gap-2",children:[e.jsx(Vg,{className:"w-4 h-4"}),"Choose Image"]}),e.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:A,className:"hidden"})]}),l&&m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{variant:"secondary",children:l.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",(l.size/1024/1024).toFixed(2)," MB)"]})]}),e.jsx(B,{variant:"outline",size:"sm",onClick:D,children:e.jsx(Os,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("img",{src:m,alt:"Preview",className:"max-w-full max-h-64 object-contain",style:{transform:`scale(${N}) rotate(${j}deg)`,transition:"transform 0.2s ease"}})})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(SC,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:N,onChange:V=>$(parseFloat(V.target.value)),className:"w-20"}),e.jsx(NC,{className:"w-4 h-4 text-gray-500"})]}),e.jsx(B,{variant:"outline",size:"sm",onClick:X,children:e.jsx(gC,{className:"w-4 h-4"})})]}),e.jsx(B,{onClick:T,disabled:x,className:"w-full flex items-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Yg,{className:"w-4 h-4"}),"Upload Picture"]})})]}),y&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(hd,{className:"w-4 h-4 text-red-600"}),e.jsx("p",{className:"text-sm text-red-600",children:y})]}),v&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(bn,{className:"w-4 h-4 text-green-600"}),e.jsx("p",{className:"text-sm text-green-600",children:"Profile picture updated successfully!"})]})]})]})}function n3({children:t,className:n=""}){const a=Yn(),[o,l]=d.useState(!1);return d.useEffect(()=>{l(!1);const c=setTimeout(()=>{l(!0)},50);return()=>clearTimeout(c)},[a.pathname]),e.jsx("div",{className:`transition-all duration-300 ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} ${n}`,children:t})}function Kv({children:t,delay:n=0,duration:a=300,className:o=""}){const[l,c]=d.useState(!1);return d.useEffect(()=>{const m=setTimeout(()=>{c(!0)},n);return()=>clearTimeout(m)},[n]),e.jsx("div",{className:`transition-all ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} ${o}`,style:{transitionDuration:`${a}ms`,transitionDelay:`${n}ms`},children:t})}function s3(){var j,C,k;const{user:t,logout:n}=Lt(),a=jr(),[o,l]=d.useState("profile"),[c,m]=d.useState(null),[f,x]=d.useState(!0),p=()=>{console.log("Profile saved successfully")},y=()=>{console.log("Password changed successfully")},w=()=>{console.log("Preferences saved successfully")},v=()=>{a("/")},S=P=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(P),N=async()=>{try{const P=localStorage.getItem("token")||sessionStorage.getItem("token");if(!P||!t)return;let A;if(t.role==="user"){const T=await fetch("/api/student/stats",{headers:{Authorization:`Bearer ${P}`}});if(T.ok){const L=await T.json();A={first:{label:"Books Borrowed",value:L.totalBorrowed||0,icon:e.jsx(Xe,{className:"w-6 h-6"}),color:"blue"},second:{label:"Active Loans",value:L.currentLoans||0,icon:e.jsx(Ls,{className:"w-6 h-6"}),color:"green"}}}else A={first:{label:"Books Borrowed",value:0,icon:e.jsx(Xe,{className:"w-6 h-6"}),color:"blue"},second:{label:"Searches Made",value:0,icon:e.jsx(Pr,{className:"w-6 h-6"}),color:"green"}}}else if(t.role==="librarian")try{const T=await fetch("/api/librarian/dashboard",{headers:{Authorization:`Bearer ${P}`}});if(T.ok){const L=await T.json();A={first:{label:"Active Loans",value:L.totalLoans||0,icon:e.jsx(ca,{className:"w-6 h-6"}),color:"blue"},second:{label:"Books Managed",value:L.totalBooks||0,icon:e.jsx(Xe,{className:"w-6 h-6"}),color:"green"}}}else A={first:{label:"Books Managed",value:0,icon:e.jsx(Xe,{className:"w-6 h-6"}),color:"blue"},second:{label:"Users Helped",value:0,icon:e.jsx(zr,{className:"w-6 h-6"}),color:"green"}}}catch{A={first:{label:"Books Managed",value:0,icon:e.jsx(Xe,{className:"w-6 h-6"}),color:"blue"},second:{label:"Users Helped",value:0,icon:e.jsx(zr,{className:"w-6 h-6"}),color:"green"}}}else if(t.role==="admin")try{const T=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${P}`}});if(T.ok){const L=await T.json();A={first:{label:"Total Users",value:L.totalUsers||0,icon:e.jsx(zr,{className:"w-6 h-6"}),color:"blue"},second:{label:"Total Books",value:L.totalBooks||0,icon:e.jsx(Xe,{className:"w-6 h-6"}),color:"green"},third:{label:"Active Loans",value:L.activeLoans||0,icon:e.jsx(Pr,{className:"w-6 h-6"}),color:"purple"}}}else A={first:{label:"Users Managed",value:0,icon:e.jsx(zr,{className:"w-6 h-6"}),color:"blue"},second:{label:"Books Managed",value:0,icon:e.jsx(Xe,{className:"w-6 h-6"}),color:"green"}}}catch{A={first:{label:"Users Managed",value:0,icon:e.jsx(zr,{className:"w-6 h-6"}),color:"blue"},second:{label:"Books Managed",value:0,icon:e.jsx(Xe,{className:"w-6 h-6"}),color:"green"}}}else A={first:{label:"Profile Views",value:0,icon:e.jsx(Pr,{className:"w-6 h-6"}),color:"blue"},second:{label:"Searches Made",value:0,icon:e.jsx(Pr,{className:"w-6 h-6"}),color:"green"}};m(A)}catch(P){console.error("Error loading user stats:",P),m({first:{label:"Profile Views",value:0,icon:e.jsx(Pr,{className:"w-6 h-6"}),color:"blue"},second:{label:"Account Activity",value:0,icon:e.jsx(Pr,{className:"w-6 h-6"}),color:"green"}})}finally{x(!1)}};d.useEffect(()=>{t&&N()},[t]);const b=P=>{switch(P){case"blue":return"bg-blue-50 border-blue-100 text-blue-700";case"green":return"bg-green-50 border-green-100 text-green-700";case"purple":return"bg-purple-50 border-purple-100 text-purple-700";case"orange":return"bg-orange-50 border-orange-100 text-orange-700";default:return"bg-gray-50 border-gray-100 text-gray-700"}};return t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(B,{variant:"ghost",onClick:()=>a("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(il,{className:"w-4 h-4"}),"Back to Library"]}),e.jsx(Im,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/logo.jpg",alt:"Logo",className:"h-8 w-8 rounded"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"My Account"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage your library profile"})]})]})]}),e.jsxs(B,{onClick:n,variant:"outline",className:"flex items-center gap-2 border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",children:[e.jsx(Fo,{className:"w-4 h-4"}),"Logout"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:e.jsx(Kv,{delay:100,children:e.jsxs(de,{className:"overflow-hidden",children:[e.jsxs($e,{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-50 pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Sa,{user:t,size:"xl"})}),e.jsx(Be,{className:"text-xl font-semibold text-gray-900",children:t.name}),e.jsx(wt,{className:"text-gray-600",children:t.email}),e.jsx(we,{className:"mt-2 bg-green-100 text-green-800 border-green-200",children:"Active Account"})]}),e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(As,{className:"w-4 h-4"}),"Account Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Member Since"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:S(new Date)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Login"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:S(new Date)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Role"}),e.jsx(we,{variant:"secondary",className:"text-xs",children:t.role==="admin"?"Administrator":t.role==="librarian"?"Librarian":"Student"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"User ID"}),e.jsx("span",{className:"text-sm font-medium font-mono bg-gray-100 px-2 py-1 rounded text-xs",children:t.userId||`${t.role==="admin"?"ADM":t.role==="librarian"?"LIB":"STD"}-25XX-${new Date().getDate().toString().padStart(2,"0")}${(new Date().getMonth()+1).toString().padStart(2,"0")}-001`})]}),t.department&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Department"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.department})]})]})]}),e.jsx(Im,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(Pr,{className:"w-4 h-4"}),"Activity Summary"]}),f?e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-100 rounded-lg border animate-pulse",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded mx-auto mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded mb-1"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-100 rounded-lg border animate-pulse",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded mx-auto mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded mb-1"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded"})]})]}):c?e.jsxs("div",{className:`grid ${c.third?"grid-cols-1":"grid-cols-2"} gap-3`,children:[e.jsxs("div",{className:`text-center p-3 rounded-lg border ${b(c.first.color)}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:c.first.icon}),e.jsx("div",{className:"text-lg font-semibold",children:c.first.value}),e.jsx("div",{className:"text-xs",children:c.first.label})]}),e.jsxs("div",{className:`text-center p-3 rounded-lg border ${b(c.second.color)}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:c.second.icon}),e.jsx("div",{className:"text-lg font-semibold",children:c.second.value}),e.jsx("div",{className:"text-xs",children:c.second.label})]}),c.third&&e.jsxs("div",{className:`text-center p-3 rounded-lg border ${b(c.third.color)} col-span-2`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:c.third.icon}),e.jsx("div",{className:"text-lg font-semibold",children:c.third.value}),e.jsx("div",{className:"text-xs",children:c.third.label})]})]}):e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(Pr,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No activity data available"})]})]})]})})]})})}),e.jsx("div",{className:"lg:col-span-8 xl:col-span-9",children:e.jsx(Kv,{delay:200,children:e.jsxs(xl,{value:o,onValueChange:l,className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-2",children:e.jsxs(Zo,{className:"grid w-full grid-cols-5 bg-gray-50",children:[e.jsxs(ft,{value:"profile",className:"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(Xt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),e.jsxs(ft,{value:"security",className:"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(jn,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Security"})]}),e.jsxs(ft,{value:"preferences",className:"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Preferences"})]}),e.jsxs(ft,{value:"sessions",className:"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(gm,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Sessions"})]}),e.jsxs(ft,{value:"account",className:"flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(Pr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Account"})]})]})}),e.jsx(mt,{value:"profile",className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Profile Information"}),e.jsx("p",{className:"text-gray-600",children:"Update your personal information, contact details, and profile picture"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(de,{className:"border-gray-200 shadow-sm",children:e.jsx(ue,{className:"p-6",children:e.jsx(tT,{onSave:p})})}),e.jsx(de,{className:"border-gray-200 shadow-sm",children:e.jsx(ue,{className:"p-6",children:e.jsx(r3,{onUploadSuccess:p})})})]})]})}),e.jsx(mt,{value:"security",className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Security Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your password and account security"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(de,{className:"border-gray-200 shadow-sm",children:[e.jsxs($e,{className:"pb-4",children:[e.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Fo,{className:"w-5 h-5 text-gray-600"}),"Password Management"]}),e.jsxs(wt,{children:["Last changed: ",S(new Date)]})]}),e.jsx(ue,{className:"pt-0",children:e.jsx(rT,{onSuccess:y})})]}),e.jsxs(de,{className:"border-gray-200 shadow-sm",children:[e.jsxs($e,{className:"pb-4",children:[e.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[e.jsx(jn,{className:"w-5 h-5 text-gray-600"}),"Additional Security"]}),e.jsx(wt,{children:"Enhanced security features for your account"})]}),e.jsx(ue,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),e.jsx(we,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Coming Soon"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Login History"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View recent login activity and suspicious attempts"})]}),e.jsx(we,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Coming Soon"})]})]})})]})]})]})}),e.jsx(mt,{value:"preferences",className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"User Preferences"}),e.jsx("p",{className:"text-gray-600",children:"Customize your library experience and notifications"})]}),e.jsx(de,{className:"border-gray-200 shadow-sm",children:e.jsx(ue,{className:"p-6",children:e.jsx(nT,{onSave:w})})})]})}),e.jsx(mt,{value:"sessions",className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Session Management"}),e.jsx("p",{className:"text-gray-600",children:"View and manage your active sessions across all devices"})]}),e.jsx(de,{className:"border-gray-200 shadow-sm",children:e.jsx(ue,{className:"p-6",children:e.jsx(t3,{})})})]})}),e.jsx(mt,{value:"account",className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Account Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account settings and data"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(de,{className:"border-gray-200 shadow-sm",children:[e.jsxs($e,{className:"pb-4",children:[e.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Hi,{className:"w-5 h-5 text-gray-600"}),"Email & Communication"]}),e.jsx(wt,{children:"Manage your email preferences and communication settings"})]}),e.jsx(ue,{className:"pt-0",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates about your library account"})]}),e.jsx(we,{variant:(j=t.preferences)!=null&&j.notifications?"default":"secondary",className:(C=t.preferences)!=null&&C.notifications?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:(k=t.preferences)!=null&&k.notifications?"Enabled":"Disabled"})]})})})]}),e.jsxs(de,{className:"border-gray-200 shadow-sm",children:[e.jsxs($e,{className:"pb-4",children:[e.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Pr,{className:"w-5 h-5 text-gray-600"}),"Account Activity"]}),e.jsx(wt,{children:"Your recent library activity and usage statistics"})]}),e.jsx(ue,{className:"pt-0",children:f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(P=>e.jsxs("div",{className:"text-center p-4 bg-gray-100 rounded-lg border animate-pulse",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded mx-auto mb-2"}),e.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded"})]},P))}):c?e.jsxs("div",{className:`grid grid-cols-1 ${c.third?"md:grid-cols-3":"md:grid-cols-2"} gap-4`,children:[e.jsxs("div",{className:`text-center p-4 rounded-lg border ${b(c.first.color)}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:c.first.icon}),e.jsx("div",{className:"text-2xl font-bold",children:c.first.value}),e.jsx("div",{className:"text-sm",children:c.first.label})]}),e.jsxs("div",{className:`text-center p-4 rounded-lg border ${b(c.second.color)}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:c.second.icon}),e.jsx("div",{className:"text-2xl font-bold",children:c.second.value}),e.jsx("div",{className:"text-sm",children:c.second.label})]}),c.third&&e.jsxs("div",{className:`text-center p-4 rounded-lg border ${b(c.third.color)}`,children:[e.jsx("div",{className:"flex justify-center mb-2",children:c.third.icon}),e.jsx("div",{className:"text-2xl font-bold",children:c.third.value}),e.jsx("div",{className:"text-sm",children:c.third.label})]})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Pr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"No activity data available"})]})})]}),e.jsxs(de,{className:"border-red-200 shadow-sm bg-red-50",children:[e.jsxs($e,{className:"pb-4",children:[e.jsxs(Be,{className:"flex items-center gap-2 text-lg text-red-700",children:[e.jsx(ba,{className:"w-5 h-5"}),"Danger Zone"]}),e.jsx(wt,{className:"text-red-600",children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),e.jsx(ue,{className:"pt-0",children:e.jsx(sT,{onSuccess:v})})]})]})]})})]})})})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx(Xt,{className:"w-16 h-16 text-gray-400 mx-auto"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to access your account"})]}),e.jsx(zs,{to:"/",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Go to Homepage"})]})})}function a3({token:t,onSuccess:n}){const[a,o]=d.useState({password:"",confirmPassword:""}),[l,c]=d.useState({password:!1,confirmPassword:!1}),[m,f]=d.useState(!1),[x,p]=d.useState({}),[y,w]=d.useState(!1),v=()=>{const k={};return a.password?a.password.length<6&&(k.password="Password must be at least 6 characters long"):k.password="Password is required",a.confirmPassword?a.password!==a.confirmPassword&&(k.confirmPassword="Passwords do not match"):k.confirmPassword="Please confirm your password",p(k),Object.keys(k).length===0},S=async k=>{if(k.preventDefault(),!!v()){f(!0);try{const P=await fetch("/api/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,password:a.password})}),A=await P.json();if(!P.ok||!A.success)throw new Error(A.message||"Failed to reset password");w(!0),it.success("Password reset successfully!"),setTimeout(()=>{n()},2e3)}catch(P){it.error(P instanceof Error?P.message:"Failed to reset password")}finally{f(!1)}}},N=(k,P)=>{o(A=>({...A,[k]:P})),x[k]&&p(A=>({...A,[k]:""}))},b=k=>{c(P=>({...P,[k]:!P[k]}))},C=(k=>{if(!k)return null;let P=0;return k.length>=8&&P++,/[A-Z]/.test(k)&&P++,/[a-z]/.test(k)&&P++,/[0-9]/.test(k)&&P++,/[^A-Za-z0-9]/.test(k)&&P++,P<=2?{text:"Weak",color:"text-red-500"}:P<=3?{text:"Fair",color:"text-yellow-500"}:P<=4?{text:"Good",color:"text-blue-500"}:{text:"Strong",color:"text-green-500"}})(a.password);return y?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsx(de,{className:"w-full max-w-md",children:e.jsxs(ue,{className:"text-center p-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bn,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-abhaya font-bold text-brand-text-primary mb-2",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-brand-text-secondary font-actor mb-6",children:"Your password has been reset successfully. You will be redirected to the login page shortly."}),e.jsx("div",{className:"animate-pulse",children:e.jsx(Wn,{className:"w-5 h-5 mx-auto animate-spin text-brand-orange"})})]})})}):e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsxs(de,{className:"w-full max-w-md",children:[e.jsxs($e,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-brand-orange rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Fo,{className:"w-8 h-8 text-white"})}),e.jsx(Be,{className:"text-2xl font-abhaya text-brand-text-primary",children:"Reset Your Password"}),e.jsx(wt,{className:"font-actor",children:"Enter your new password below"})]}),e.jsx(ue,{children:e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(ye,{htmlFor:"password",className:"text-black font-bold text-lg",children:["New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(Ze,{id:"password",type:l.password?"text":"password",value:a.password,onChange:k=>N("password",k.target.value),placeholder:"Enter your new password",className:"px-4 py-3 pr-12 rounded-full border-gray-400 focus:ring-2 focus:ring-brand-orange focus:border-transparent",disabled:m}),e.jsx("button",{type:"button",onClick:()=>b("password"),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l.password?e.jsx(Un,{className:"w-5 h-5"}):e.jsx(Kt,{className:"w-5 h-5"})})]}),C&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Strength:"}),e.jsx("span",{className:`text-sm font-medium ${C.color}`,children:C.text})]}),x.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:x.password})]}),e.jsxs("div",{children:[e.jsxs(ye,{htmlFor:"confirmPassword",className:"text-black font-bold text-lg",children:["Confirm New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(Ze,{id:"confirmPassword",type:l.confirmPassword?"text":"password",value:a.confirmPassword,onChange:k=>N("confirmPassword",k.target.value),placeholder:"Confirm your new password",className:"px-4 py-3 pr-12 rounded-full border-gray-400 focus:ring-2 focus:ring-brand-orange focus:border-transparent",disabled:m}),e.jsx("button",{type:"button",onClick:()=>b("confirmPassword"),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l.confirmPassword?e.jsx(Un,{className:"w-5 h-5"}):e.jsx(Kt,{className:"w-5 h-5"})})]}),x.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:x.confirmPassword})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• At least 6 characters long"}),e.jsx("li",{children:"• Mix of uppercase and lowercase letters"}),e.jsx("li",{children:"• Include numbers and special characters"}),e.jsx("li",{children:"• Make it unique and memorable"})]})]}),e.jsx(B,{type:"submit",disabled:m,className:"w-full py-4 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-colors disabled:opacity-60",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Wn,{className:"w-5 h-5 mr-2 animate-spin"}),"Resetting Password..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fo,{className:"w-5 h-5 mr-2"}),"Reset Password"]})})]})})]})})}function o3(){const[t]=ow(),n=jr(),[a,o]=d.useState(null),[l,c]=d.useState(!0);d.useEffect(()=>{const f=t.get("token");f&&o(f),c(!1)},[t]);const m=()=>{n("/")};return l?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-orange"})}):a?e.jsx(a3,{token:a,onSuccess:m}):e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsxs(de,{className:"w-full max-w-md",children:[e.jsxs($e,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ir,{className:"w-8 h-8 text-red-600"})}),e.jsx(Be,{className:"text-2xl font-abhaya text-brand-text-primary",children:"Invalid Reset Link"}),e.jsx(wt,{className:"font-actor",children:"The password reset link is invalid or has expired."})]}),e.jsxs(ue,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-brand-text-secondary font-actor",children:"Please request a new password reset link from the login page."}),e.jsxs(B,{onClick:()=>n("/"),className:"w-full py-3 bg-brand-orange-light text-white font-bold text-lg rounded-full hover:bg-brand-orange transition-colors",children:[e.jsx(il,{className:"w-5 h-5 mr-2"}),"Back to Login"]})]})]})})}const od=d.forwardRef(({className:t,...n},a)=>e.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));od.displayName="Textarea";function Yv(t,[n,a]){return Math.min(a,Math.max(n,t))}var i3="DismissableLayer",Hm="dismissableLayer.update",l3="dismissableLayer.pointerDownOutside",c3="dismissableLayer.focusOutside",qv,Mj=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ij=d.forwardRef((t,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:m,onDismiss:f,...x}=t,p=d.useContext(Mj),[y,w]=d.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=d.useState({}),N=We(n,D=>w(D)),b=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(j),k=y?b.indexOf(y):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,A=k>=C,T=f3(D=>{const $=D.target,X=[...p.branches].some(V=>V.contains($));!A||X||(l==null||l(D),m==null||m(D),D.defaultPrevented||f==null||f())},v),L=m3(D=>{const $=D.target;[...p.branches].some(V=>V.contains($))||(c==null||c(D),m==null||m(D),D.defaultPrevented||f==null||f())},v);return sl(D=>{k===p.layers.size-1&&(o==null||o(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},v),d.useEffect(()=>{if(y)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(qv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Qv(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=qv)}},[y,v,a,p]),d.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Qv())},[y,p]),d.useEffect(()=>{const D=()=>S({});return document.addEventListener(Hm,D),()=>document.removeEventListener(Hm,D)},[]),e.jsx(Ne.div,{...x,ref:N,style:{pointerEvents:P?A?"auto":"none":void 0,...t.style},onFocusCapture:le(t.onFocusCapture,L.onFocusCapture),onBlurCapture:le(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:le(t.onPointerDownCapture,T.onPointerDownCapture)})});Ij.displayName=i3;var d3="DismissableLayerBranch",u3=d.forwardRef((t,n)=>{const a=d.useContext(Mj),o=d.useRef(null),l=We(n,o);return d.useEffect(()=>{const c=o.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),e.jsx(Ne.div,{...t,ref:l})});u3.displayName=d3;function f3(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1),l=d.useRef(()=>{});return d.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let x=function(){Lj(l3,a,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=x,n.addEventListener("click",l.current,{once:!0})):x()}else n.removeEventListener("click",l.current);o.current=!1},m=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(m),n.removeEventListener("pointerdown",c),n.removeEventListener("click",l.current)}},[n,a]),{onPointerDownCapture:()=>o.current=!0}}function m3(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1);return d.useEffect(()=>{const l=c=>{c.target&&!o.current&&Lj(c3,a,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Qv(){const t=new CustomEvent(Hm);document.dispatchEvent(t)}function Lj(t,n,a,{discrete:o}){const l=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});n&&l.addEventListener(t,n,{once:!0}),o?Ra(l,c):l.dispatchEvent(c)}var om=0;function h3(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Xv()),document.body.insertAdjacentElement("beforeend",t[1]??Xv()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),om--}},[])}function Xv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var p3="Portal",Oj=d.forwardRef((t,n)=>{var f;const{container:a,...o}=t,[l,c]=d.useState(!1);jt(()=>c(!0),[]);const m=a||l&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return m?Uo.createPortal(e.jsx(Ne.div,{...o,ref:n}),m):null});Oj.displayName=p3;var _j=Td(),im=function(){},Bd=d.forwardRef(function(t,n){var a=d.useRef(null),o=d.useState({onScrollCapture:im,onWheelCapture:im,onTouchMoveCapture:im}),l=o[0],c=o[1],m=t.forwardProps,f=t.children,x=t.className,p=t.removeScrollBar,y=t.enabled,w=t.shards,v=t.sideCar,S=t.noIsolation,N=t.inert,b=t.allowPinchZoom,j=t.as,C=j===void 0?"div":j,k=t.gapMode,P=fl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=v,T=Ad([a,n]),L=xt(xt({},P),l);return d.createElement(d.Fragment,null,y&&d.createElement(A,{sideCar:_j,removeScrollBar:p,shards:w,noIsolation:S,inert:N,setCallbacks:c,allowPinchZoom:!!b,lockRef:a,gapMode:k}),m?d.cloneElement(d.Children.only(f),xt(xt({},L),{ref:T})):d.createElement(C,xt({},L,{className:x,ref:T}),f))});Bd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bd.classNames={fullWidth:ya,zeroRight:va};var Wm=!1;if(typeof window<"u")try{var zc=Object.defineProperty({},"passive",{get:function(){return Wm=!0,!0}});window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{Wm=!1}var xo=Wm?{passive:!1}:!1,x3=function(t){return t.tagName==="TEXTAREA"},Fj=function(t,n){var a=window.getComputedStyle(t);return a[n]!=="hidden"&&!(a.overflowY===a.overflowX&&!x3(t)&&a[n]==="visible")},g3=function(t){return Fj(t,"overflowY")},v3=function(t){return Fj(t,"overflowX")},Jv=function(t,n){var a=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var l=$j(t,o);if(l){var c=Bj(t,o),m=c[1],f=c[2];if(m>f)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},y3=function(t){var n=t.scrollTop,a=t.scrollHeight,o=t.clientHeight;return[n,a,o]},w3=function(t){var n=t.scrollLeft,a=t.scrollWidth,o=t.clientWidth;return[n,a,o]},$j=function(t,n){return t==="v"?g3(n):v3(n)},Bj=function(t,n){return t==="v"?y3(n):w3(n)},b3=function(t,n){return t==="h"&&n==="rtl"?-1:1},j3=function(t,n,a,o,l){var c=b3(t,window.getComputedStyle(n).direction),m=c*o,f=a.target,x=n.contains(f),p=!1,y=m>0,w=0,v=0;do{var S=Bj(t,f),N=S[0],b=S[1],j=S[2],C=b-j-c*N;(N||C)&&$j(t,f)&&(w+=C,v+=N),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!x&&f!==document.body||x&&(n.contains(f)||n===f));return(y&&Math.abs(w)<1||!y&&Math.abs(v)<1)&&(p=!0),p},Uc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Zv=function(t){return[t.deltaX,t.deltaY]},ey=function(t){return t&&"current"in t?t.current:t},N3=function(t,n){return t[0]===n[0]&&t[1]===n[1]},S3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},C3=0,go=[];function k3(t){var n=d.useRef([]),a=d.useRef([0,0]),o=d.useRef(),l=d.useState(C3++)[0],c=d.useState(ml)[0],m=d.useRef(t);d.useEffect(function(){m.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var b=Rd([t.lockRef.current],(t.shards||[]).map(ey),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var f=d.useCallback(function(b,j){if("touches"in b&&b.touches.length===2)return!m.current.allowPinchZoom;var C=Uc(b),k=a.current,P="deltaX"in b?b.deltaX:k[0]-C[0],A="deltaY"in b?b.deltaY:k[1]-C[1],T,L=b.target,D=Math.abs(P)>Math.abs(A)?"h":"v";if("touches"in b&&D==="h"&&L.type==="range")return!1;var $=Jv(D,L);if(!$)return!0;if($?T=D:(T=D==="v"?"h":"v",$=Jv(D,L)),!$)return!1;if(!o.current&&"changedTouches"in b&&(P||A)&&(o.current=T),!T)return!0;var X=o.current||T;return j3(X,j,b,X==="h"?P:A)},[]),x=d.useCallback(function(b){var j=b;if(!(!go.length||go[go.length-1]!==c)){var C="deltaY"in j?Zv(j):Uc(j),k=n.current.filter(function(T){return T.name===j.type&&(T.target===j.target||j.target===T.shadowParent)&&N3(T.delta,C)})[0];if(k&&k.should){j.cancelable&&j.preventDefault();return}if(!k){var P=(m.current.shards||[]).map(ey).filter(Boolean).filter(function(T){return T.contains(j.target)}),A=P.length>0?f(j,P[0]):!m.current.noIsolation;A&&j.cancelable&&j.preventDefault()}}},[]),p=d.useCallback(function(b,j,C,k){var P={name:b,delta:j,target:C,should:k,shadowParent:E3(C)};n.current.push(P),setTimeout(function(){n.current=n.current.filter(function(A){return A!==P})},1)},[]),y=d.useCallback(function(b){a.current=Uc(b),o.current=void 0},[]),w=d.useCallback(function(b){p(b.type,Zv(b),b.target,f(b,t.lockRef.current))},[]),v=d.useCallback(function(b){p(b.type,Uc(b),b.target,f(b,t.lockRef.current))},[]);d.useEffect(function(){return go.push(c),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:v}),document.addEventListener("wheel",x,xo),document.addEventListener("touchmove",x,xo),document.addEventListener("touchstart",y,xo),function(){go=go.filter(function(b){return b!==c}),document.removeEventListener("wheel",x,xo),document.removeEventListener("touchmove",x,xo),document.removeEventListener("touchstart",y,xo)}},[]);var S=t.removeScrollBar,N=t.inert;return d.createElement(d.Fragment,null,N?d.createElement(c,{styles:S3(l)}):null,S?d.createElement(Id,{gapMode:t.gapMode}):null)}function E3(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const P3=Dd(_j,k3);var zj=d.forwardRef(function(t,n){return d.createElement(Bd,xt({},t,{ref:n,sideCar:P3}))});zj.classNames=Bd.classNames;var R3=[" ","Enter","ArrowUp","ArrowDown"],A3=[" ","Enter"],gl="Select",[zd,Ud,T3]=ud(gl),[ei,pM]=dr(gl,[T3,Go]),Vd=Go(),[D3,Hs]=ei(gl),[M3,I3]=ei(gl),Uj=t=>{const{__scopeSelect:n,children:a,open:o,defaultOpen:l,onOpenChange:c,value:m,defaultValue:f,onValueChange:x,dir:p,name:y,autoComplete:w,disabled:v,required:S}=t,N=Vd(n),[b,j]=d.useState(null),[C,k]=d.useState(null),[P,A]=d.useState(!1),T=pl(p),[L=!1,D]=Vr({prop:o,defaultProp:l,onChange:c}),[$,X]=Vr({prop:m,defaultProp:f,onChange:x}),V=d.useRef(null),ne=b?!!b.closest("form"):!0,[Z,he]=d.useState(new Set),q=Array.from(Z).map(Q=>Q.props.value).join(";");return e.jsx(jh,{...N,children:e.jsxs(D3,{required:S,scope:n,trigger:b,onTriggerChange:j,valueNode:C,onValueNodeChange:k,valueNodeHasChildren:P,onValueNodeHasChildrenChange:A,contentId:br(),value:$,onValueChange:X,open:L,onOpenChange:D,dir:T,triggerPointerDownPosRef:V,disabled:v,children:[e.jsx(zd.Provider,{scope:n,children:e.jsx(M3,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(Q=>{he(te=>new Set(te).add(Q))},[]),onNativeOptionRemove:d.useCallback(Q=>{he(te=>{const xe=new Set(te);return xe.delete(Q),xe})},[]),children:a})}),ne?e.jsxs(mN,{"aria-hidden":!0,required:S,tabIndex:-1,name:y,autoComplete:w,value:$,onChange:Q=>X(Q.target.value),disabled:v,children:[$===void 0?e.jsx("option",{value:""}):null,Array.from(Z)]},q):null]})})};Uj.displayName=gl;var Vj="SelectTrigger",Hj=d.forwardRef((t,n)=>{const{__scopeSelect:a,disabled:o=!1,...l}=t,c=Vd(a),m=Hs(Vj,a),f=m.disabled||o,x=We(n,m.onTriggerChange),p=Ud(a),[y,w,v]=hN(N=>{const b=p().filter(k=>!k.disabled),j=b.find(k=>k.value===m.value),C=pN(b,N,j);C!==void 0&&m.onValueChange(C.value)}),S=()=>{f||(m.onOpenChange(!0),v())};return e.jsx(Nh,{asChild:!0,...c,children:e.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":fN(m.value)?"":void 0,...l,ref:x,onClick:le(l.onClick,N=>{N.currentTarget.focus()}),onPointerDown:le(l.onPointerDown,N=>{const b=N.target;b.hasPointerCapture(N.pointerId)&&b.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&(S(),m.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)},N.preventDefault())}),onKeyDown:le(l.onKeyDown,N=>{const b=y.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&w(N.key),!(b&&N.key===" ")&&R3.includes(N.key)&&(S(),N.preventDefault())})})})});Hj.displayName=Vj;var Wj="SelectValue",Gj=d.forwardRef((t,n)=>{const{__scopeSelect:a,className:o,style:l,children:c,placeholder:m="",...f}=t,x=Hs(Wj,a),{onValueNodeHasChildrenChange:p}=x,y=c!==void 0,w=We(n,x.onValueNodeChange);return jt(()=>{p(y)},[p,y]),e.jsx(Ne.span,{...f,ref:w,style:{pointerEvents:"none"},children:fN(x.value)?e.jsx(e.Fragment,{children:m}):c})});Gj.displayName=Wj;var L3="SelectIcon",Kj=d.forwardRef((t,n)=>{const{__scopeSelect:a,children:o,...l}=t;return e.jsx(Ne.span,{"aria-hidden":!0,...l,ref:n,children:o||"▼"})});Kj.displayName=L3;var O3="SelectPortal",Yj=t=>e.jsx(Oj,{asChild:!0,...t});Yj.displayName=O3;var Ea="SelectContent",qj=d.forwardRef((t,n)=>{const a=Hs(Ea,t.__scopeSelect),[o,l]=d.useState();if(jt(()=>{l(new DocumentFragment)},[]),!a.open){const c=o;return c?Pa.createPortal(e.jsx(Qj,{scope:t.__scopeSelect,children:e.jsx(zd.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(Xj,{...t,ref:n})});qj.displayName=Ea;var zn=10,[Qj,Ws]=ei(Ea),_3="SelectContentImpl",Xj=d.forwardRef((t,n)=>{const{__scopeSelect:a,position:o="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:m,side:f,sideOffset:x,align:p,alignOffset:y,arrowPadding:w,collisionBoundary:v,collisionPadding:S,sticky:N,hideWhenDetached:b,avoidCollisions:j,...C}=t,k=Hs(Ea,a),[P,A]=d.useState(null),[T,L]=d.useState(null),D=We(n,me=>A(me)),[$,X]=d.useState(null),[V,ne]=d.useState(null),Z=Ud(a),[he,q]=d.useState(!1),Q=d.useRef(!1);d.useEffect(()=>{if(P)return Ld(P)},[P]),h3();const te=d.useCallback(me=>{const[je,...Ee]=Z().map(qe=>qe.ref.current),[Oe]=Ee.slice(-1),Qe=document.activeElement;for(const qe of me)if(qe===Qe||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===je&&T&&(T.scrollTop=0),qe===Oe&&T&&(T.scrollTop=T.scrollHeight),qe==null||qe.focus(),document.activeElement!==Qe))return},[Z,T]),xe=d.useCallback(()=>te([$,P]),[te,$,P]);d.useEffect(()=>{he&&xe()},[he,xe]);const{onOpenChange:F,triggerPointerDownPosRef:U}=k;d.useEffect(()=>{if(P){let me={x:0,y:0};const je=Oe=>{var Qe,qe;me={x:Math.abs(Math.round(Oe.pageX)-(((Qe=U.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((qe=U.current)==null?void 0:qe.y)??0))}},Ee=Oe=>{me.x<=10&&me.y<=10?Oe.preventDefault():P.contains(Oe.target)||F(!1),document.removeEventListener("pointermove",je),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[P,F,U]),d.useEffect(()=>{const me=()=>F(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[F]);const[re,M]=hN(me=>{const je=Z().filter(Qe=>!Qe.disabled),Ee=je.find(Qe=>Qe.ref.current===document.activeElement),Oe=pN(je,me,Ee);Oe&&setTimeout(()=>Oe.ref.current.focus())}),H=d.useCallback((me,je,Ee)=>{const Oe=!Q.current&&!Ee;(k.value!==void 0&&k.value===je||Oe)&&(X(me),Oe&&(Q.current=!0))},[k.value]),fe=d.useCallback(()=>P==null?void 0:P.focus(),[P]),be=d.useCallback((me,je,Ee)=>{const Oe=!Q.current&&!Ee;(k.value!==void 0&&k.value===je||Oe)&&ne(me)},[k.value]),ke=o==="popper"?Gm:Jj,ve=ke===Gm?{side:f,sideOffset:x,align:p,alignOffset:y,arrowPadding:w,collisionBoundary:v,collisionPadding:S,sticky:N,hideWhenDetached:b,avoidCollisions:j}:{};return e.jsx(Qj,{scope:a,content:P,viewport:T,onViewportChange:L,itemRefCallback:H,selectedItem:$,onItemLeave:fe,itemTextRefCallback:be,focusSelectedItem:xe,selectedItemText:V,position:o,isPositioned:he,searchRef:re,children:e.jsx(zj,{as:Hn,allowPinchZoom:!0,children:e.jsx(ul,{asChild:!0,trapped:k.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:le(l,me=>{var je;(je=k.trigger)==null||je.focus({preventScroll:!0}),me.preventDefault()}),children:e.jsx(Ij,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:e.jsx(ke,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:me=>me.preventDefault(),...C,...ve,onPlaced:()=>q(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:le(C.onKeyDown,me=>{const je=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!je&&me.key.length===1&&M(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Oe=Z().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Qe=me.target,qe=Oe.indexOf(Qe);Oe=Oe.slice(qe+1)}setTimeout(()=>te(Oe)),me.preventDefault()}})})})})})})});Xj.displayName=_3;var F3="SelectItemAlignedPosition",Jj=d.forwardRef((t,n)=>{const{__scopeSelect:a,onPlaced:o,...l}=t,c=Hs(Ea,a),m=Ws(Ea,a),[f,x]=d.useState(null),[p,y]=d.useState(null),w=We(n,D=>y(D)),v=Ud(a),S=d.useRef(!1),N=d.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:C,focusSelectedItem:k}=m,P=d.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&p&&b&&j&&C){const D=c.trigger.getBoundingClientRect(),$=p.getBoundingClientRect(),X=c.valueNode.getBoundingClientRect(),V=C.getBoundingClientRect();if(c.dir!=="rtl"){const Qe=V.left-$.left,qe=X.left-Qe,Y=D.left-qe,Fe=D.width+Y,He=Math.max(Fe,$.width),J=window.innerWidth-zn,Ae=Yv(qe,[zn,J-He]);f.style.minWidth=Fe+"px",f.style.left=Ae+"px"}else{const Qe=$.right-V.right,qe=window.innerWidth-X.right-Qe,Y=window.innerWidth-D.right-qe,Fe=D.width+Y,He=Math.max(Fe,$.width),J=window.innerWidth-zn,Ae=Yv(qe,[zn,J-He]);f.style.minWidth=Fe+"px",f.style.right=Ae+"px"}const ne=v(),Z=window.innerHeight-zn*2,he=b.scrollHeight,q=window.getComputedStyle(p),Q=parseInt(q.borderTopWidth,10),te=parseInt(q.paddingTop,10),xe=parseInt(q.borderBottomWidth,10),F=parseInt(q.paddingBottom,10),U=Q+te+he+F+xe,re=Math.min(j.offsetHeight*5,U),M=window.getComputedStyle(b),H=parseInt(M.paddingTop,10),fe=parseInt(M.paddingBottom,10),be=D.top+D.height/2-zn,ke=Z-be,ve=j.offsetHeight/2,me=j.offsetTop+ve,je=Q+te+me,Ee=U-je;if(je<=be){const Qe=j===ne[ne.length-1].ref.current;f.style.bottom="0px";const qe=p.clientHeight-b.offsetTop-b.offsetHeight,Y=Math.max(ke,ve+(Qe?fe:0)+qe+xe),Fe=je+Y;f.style.height=Fe+"px"}else{const Qe=j===ne[0].ref.current;f.style.top="0px";const Y=Math.max(be,Q+b.offsetTop+(Qe?H:0)+ve)+Ee;f.style.height=Y+"px",b.scrollTop=je-be+b.offsetTop}f.style.margin=`${zn}px 0`,f.style.minHeight=re+"px",f.style.maxHeight=Z+"px",o==null||o(),requestAnimationFrame(()=>S.current=!0)}},[v,c.trigger,c.valueNode,f,p,b,j,C,c.dir,o]);jt(()=>P(),[P]);const[A,T]=d.useState();jt(()=>{p&&T(window.getComputedStyle(p).zIndex)},[p]);const L=d.useCallback(D=>{D&&N.current===!0&&(P(),k==null||k(),N.current=!1)},[P,k]);return e.jsx(B3,{scope:a,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:L,children:e.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:e.jsx(Ne.div,{...l,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Jj.displayName=F3;var $3="SelectPopperPosition",Gm=d.forwardRef((t,n)=>{const{__scopeSelect:a,align:o="start",collisionPadding:l=zn,...c}=t,m=Vd(a);return e.jsx(Sh,{...m,...c,ref:n,align:o,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gm.displayName=$3;var[B3,Xh]=ei(Ea,{}),Km="SelectViewport",Zj=d.forwardRef((t,n)=>{const{__scopeSelect:a,nonce:o,...l}=t,c=Ws(Km,a),m=Xh(Km,a),f=We(n,c.onViewportChange),x=d.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(zd.Slot,{scope:a,children:e.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"auto",...l.style},onScroll:le(l.onScroll,p=>{const y=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:v}=m;if(v!=null&&v.current&&w){const S=Math.abs(x.current-y.scrollTop);if(S>0){const N=window.innerHeight-zn*2,b=parseFloat(w.style.minHeight),j=parseFloat(w.style.height),C=Math.max(b,j);if(C<N){const k=C+S,P=Math.min(N,k),A=k-P;w.style.height=P+"px",w.style.bottom==="0px"&&(y.scrollTop=A>0?A:0,w.style.justifyContent="flex-end")}}}x.current=y.scrollTop})})})]})});Zj.displayName=Km;var eN="SelectGroup",[z3,U3]=ei(eN),V3=d.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,l=br();return e.jsx(z3,{scope:a,id:l,children:e.jsx(Ne.div,{role:"group","aria-labelledby":l,...o,ref:n})})});V3.displayName=eN;var tN="SelectLabel",rN=d.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,l=U3(tN,a);return e.jsx(Ne.div,{id:l.id,...o,ref:n})});rN.displayName=tN;var id="SelectItem",[H3,nN]=ei(id),sN=d.forwardRef((t,n)=>{const{__scopeSelect:a,value:o,disabled:l=!1,textValue:c,...m}=t,f=Hs(id,a),x=Ws(id,a),p=f.value===o,[y,w]=d.useState(c??""),[v,S]=d.useState(!1),N=We(n,C=>{var k;return(k=x.itemRefCallback)==null?void 0:k.call(x,C,o,l)}),b=br(),j=()=>{l||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(H3,{scope:a,value:o,disabled:l,textId:b,isSelected:p,onItemTextChange:d.useCallback(C=>{w(k=>k||((C==null?void 0:C.textContent)??"").trim())},[]),children:e.jsx(zd.ItemSlot,{scope:a,value:o,disabled:l,textValue:y,children:e.jsx(Ne.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...m,ref:N,onFocus:le(m.onFocus,()=>S(!0)),onBlur:le(m.onBlur,()=>S(!1)),onPointerUp:le(m.onPointerUp,j),onPointerMove:le(m.onPointerMove,C=>{var k;l?(k=x.onItemLeave)==null||k.call(x):C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(m.onPointerLeave,C=>{var k;C.currentTarget===document.activeElement&&((k=x.onItemLeave)==null||k.call(x))}),onKeyDown:le(m.onKeyDown,C=>{var P;((P=x.searchRef)==null?void 0:P.current)!==""&&C.key===" "||(A3.includes(C.key)&&j(),C.key===" "&&C.preventDefault())})})})})});sN.displayName=id;var Bi="SelectItemText",aN=d.forwardRef((t,n)=>{const{__scopeSelect:a,className:o,style:l,...c}=t,m=Hs(Bi,a),f=Ws(Bi,a),x=nN(Bi,a),p=I3(Bi,a),[y,w]=d.useState(null),v=We(n,C=>w(C),x.onItemTextChange,C=>{var k;return(k=f.itemTextRefCallback)==null?void 0:k.call(f,C,x.value,x.disabled)}),S=y==null?void 0:y.textContent,N=d.useMemo(()=>e.jsx("option",{value:x.value,disabled:x.disabled,children:S},x.value),[x.disabled,x.value,S]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=p;return jt(()=>(b(N),()=>j(N)),[b,j,N]),e.jsxs(e.Fragment,{children:[e.jsx(Ne.span,{id:x.textId,...c,ref:v}),x.isSelected&&m.valueNode&&!m.valueNodeHasChildren?Pa.createPortal(c.children,m.valueNode):null]})});aN.displayName=Bi;var oN="SelectItemIndicator",iN=d.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t;return nN(oN,a).isSelected?e.jsx(Ne.span,{"aria-hidden":!0,...o,ref:n}):null});iN.displayName=oN;var Ym="SelectScrollUpButton",lN=d.forwardRef((t,n)=>{const a=Ws(Ym,t.__scopeSelect),o=Xh(Ym,t.__scopeSelect),[l,c]=d.useState(!1),m=We(n,o.onScrollButtonChange);return jt(()=>{if(a.viewport&&a.isPositioned){let f=function(){const p=x.scrollTop>0;c(p)};const x=a.viewport;return f(),x.addEventListener("scroll",f),()=>x.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),l?e.jsx(dN,{...t,ref:m,onAutoScroll:()=>{const{viewport:f,selectedItem:x}=a;f&&x&&(f.scrollTop=f.scrollTop-x.offsetHeight)}}):null});lN.displayName=Ym;var qm="SelectScrollDownButton",cN=d.forwardRef((t,n)=>{const a=Ws(qm,t.__scopeSelect),o=Xh(qm,t.__scopeSelect),[l,c]=d.useState(!1),m=We(n,o.onScrollButtonChange);return jt(()=>{if(a.viewport&&a.isPositioned){let f=function(){const p=x.scrollHeight-x.clientHeight,y=Math.ceil(x.scrollTop)<p;c(y)};const x=a.viewport;return f(),x.addEventListener("scroll",f),()=>x.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),l?e.jsx(dN,{...t,ref:m,onAutoScroll:()=>{const{viewport:f,selectedItem:x}=a;f&&x&&(f.scrollTop=f.scrollTop+x.offsetHeight)}}):null});cN.displayName=qm;var dN=d.forwardRef((t,n)=>{const{__scopeSelect:a,onAutoScroll:o,...l}=t,c=Ws("SelectScrollButton",a),m=d.useRef(null),f=Ud(a),x=d.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return d.useEffect(()=>()=>x(),[x]),jt(()=>{var y;const p=f().find(w=>w.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[f]),e.jsx(Ne.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:le(l.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(o,50))}),onPointerMove:le(l.onPointerMove,()=>{var p;(p=c.onItemLeave)==null||p.call(c),m.current===null&&(m.current=window.setInterval(o,50))}),onPointerLeave:le(l.onPointerLeave,()=>{x()})})}),W3="SelectSeparator",uN=d.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t;return e.jsx(Ne.div,{"aria-hidden":!0,...o,ref:n})});uN.displayName=W3;var Qm="SelectArrow",G3=d.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,l=Vd(a),c=Hs(Qm,a),m=Ws(Qm,a);return c.open&&m.position==="popper"?e.jsx(Ch,{...l,...o,ref:n}):null});G3.displayName=Qm;function fN(t){return t===""||t===void 0}var mN=d.forwardRef((t,n)=>{const{value:a,...o}=t,l=d.useRef(null),c=We(n,l),m=_d(a);return d.useEffect(()=>{const f=l.current,x=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(x,"value").set;if(m!==a&&y){const w=new Event("change",{bubbles:!0});y.call(f,a),f.dispatchEvent(w)}},[m,a]),e.jsx(al,{asChild:!0,children:e.jsx("select",{...o,ref:c,defaultValue:a})})});mN.displayName="BubbleSelect";function hN(t){const n=kt(t),a=d.useRef(""),o=d.useRef(0),l=d.useCallback(m=>{const f=a.current+m;n(f),function x(p){a.current=p,window.clearTimeout(o.current),p!==""&&(o.current=window.setTimeout(()=>x(""),1e3))}(f)},[n]),c=d.useCallback(()=>{a.current="",window.clearTimeout(o.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(o.current),[]),[a,l,c]}function pN(t,n,a){const l=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,c=a?t.indexOf(a):-1;let m=K3(t,Math.max(c,0));l.length===1&&(m=m.filter(p=>p!==a));const x=m.find(p=>p.textValue.toLowerCase().startsWith(l.toLowerCase()));return x!==a?x:void 0}function K3(t,n){return t.map((a,o)=>t[(n+o)%t.length])}var Y3=Uj,xN=Hj,q3=Gj,Q3=Kj,X3=Yj,gN=qj,J3=Zj,vN=rN,yN=sN,Z3=aN,e5=iN,wN=lN,bN=cN,jN=uN;const Gi=Y3,Ki=q3,Eo=d.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(xN,{ref:o,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[n,e.jsx(Q3,{asChild:!0,children:e.jsx(pa,{className:"h-4 w-4 opacity-50"})})]}));Eo.displayName=xN.displayName;const NN=d.forwardRef(({className:t,...n},a)=>e.jsx(wN,{ref:a,className:Me("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(uC,{className:"h-4 w-4"})}));NN.displayName=wN.displayName;const SN=d.forwardRef(({className:t,...n},a)=>e.jsx(bN,{ref:a,className:Me("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(pa,{className:"h-4 w-4"})}));SN.displayName=bN.displayName;const Po=d.forwardRef(({className:t,children:n,position:a="popper",...o},l)=>e.jsx(X3,{children:e.jsxs(gN,{ref:l,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...o,children:[e.jsx(NN,{}),e.jsx(J3,{className:Me("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(SN,{})]})}));Po.displayName=gN.displayName;const t5=d.forwardRef(({className:t,...n},a)=>e.jsx(vN,{ref:a,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n}));t5.displayName=vN.displayName;const wn=d.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(yN,{ref:o,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(e5,{children:e.jsx(lh,{className:"h-4 w-4"})})}),e.jsx(Z3,{children:n})]}));wn.displayName=yN.displayName;const r5=d.forwardRef(({className:t,...n},a)=>e.jsx(jN,{ref:a,className:Me("-mx-1 my-1 h-px bg-muted",t),...n}));r5.displayName=jN.displayName;const n5=["Fiction","Non-Fiction","Science Fiction","Fantasy","Mystery","Thriller","Romance","Historical Fiction","Biography","Autobiography","History","Science","Technology","Philosophy","Religion","Self-Help","Business","Economics","Politics","Travel","Cooking","Art","Music","Poetry","Drama","Comics","Children","Young Adult","Reference","Textbook"],s5=["Shelf A1","Shelf A2","Shelf A3","Shelf B1","Shelf B2","Shelf B3","Shelf C1","Shelf C2","Shelf C3","Section A","Section B","Section C","Reference Section","Periodicals","Special Collections","Reserve Desk"],a5=["English","Spanish","French","German","Italian","Portuguese","Russian","Chinese","Japanese","Korean","Arabic","Hindi"];function CN({isOpen:t,onClose:n,onSave:a,book:o,mode:l}){const[c,m]=d.useState({title:"",author:"",isbn:"",publisher:"",publishedYear:new Date().getFullYear(),genre:"",description:"",coverImage:"",totalCopies:1,location:"",language:"English",pages:0,hasDownload:!1,hasReadOnline:!1,categories:[]}),[f,x]=d.useState({}),[p,y]=d.useState(!1),[w,v]=d.useState(""),[S,N]=d.useState(!1);d.useEffect(()=>{o&&l==="edit"?(m({title:o.title||"",author:o.author||"",isbn:o.isbn||"",publisher:o.publisher||"",publishedYear:o.publishedYear||new Date().getFullYear(),genre:o.genre||"",description:o.description||"",coverImage:o.coverImage||"",totalCopies:o.totalCopies||1,location:o.location||"",language:o.language||"English",pages:o.pages||0,hasDownload:o.hasDownload||!1,hasReadOnline:o.hasReadOnline||!1,categories:o.categories||[]}),N(!1)):(m({title:"",author:"",isbn:"",publisher:"",publishedYear:new Date().getFullYear(),genre:"",description:"",coverImage:"",totalCopies:1,location:"",language:"English",pages:0,hasDownload:!1,hasReadOnline:!1,categories:[]}),N(!1)),x({})},[o,l,t]);const b=()=>{const A={};return c.title.trim()||(A.title="Title is required"),c.author.trim()||(A.author="Author is required"),c.isbn.trim()||(A.isbn="ISBN is required"),c.publisher.trim()||(A.publisher="Publisher is required"),(!c.publishedYear||c.publishedYear<1800||c.publishedYear>new Date().getFullYear()+1)&&(A.publishedYear="Valid publication year is required"),c.genre||(A.genre="Genre is required"),c.location||(A.location="Location is required"),c.totalCopies<1&&(A.totalCopies="At least 1 copy is required"),x(A),Object.keys(A).length===0},j=async A=>{if(A.preventDefault(),!!b()){y(!0);try{await a(c)}catch(T){console.error("Error saving book:",T)}finally{y(!1)}}},C=()=>{w.trim()&&!c.categories.includes(w.trim())&&(m(A=>({...A,categories:[...A.categories,w.trim()]})),v(""))},k=A=>{m(T=>({...T,categories:T.categories.filter(L=>L!==A)}))},P=(A,T)=>{m(L=>({...L,[A]:T})),f[A]&&x(L=>({...L,[A]:""}))};return e.jsx(hl,{open:t,onOpenChange:n,children:e.jsxs(qo,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Qo,{children:[e.jsxs(Xo,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),l==="add"?"Add New Book":"Edit Book"]}),e.jsx(Fh,{children:l==="add"?"Add a new book to the library collection":"Update book information and details"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsx(Be,{className:"text-lg",children:"Basic Information"}),e.jsx(wt,{children:"Essential book details"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"title",className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Title *"]}),e.jsx(Ze,{id:"title",value:c.title,onChange:A=>P("title",A.target.value),placeholder:"Enter book title",className:f.title?"border-red-500":""}),f.title&&e.jsx("p",{className:"text-sm text-red-500",children:f.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"author",className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"w-4 h-4"}),"Author(s) *"]}),e.jsx(Ze,{id:"author",value:c.author,onChange:A=>P("author",A.target.value),placeholder:"Enter author name",className:f.author?"border-red-500":""}),f.author&&e.jsx("p",{className:"text-sm text-red-500",children:f.author})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"isbn",className:"flex items-center gap-1",children:[e.jsx(Zy,{className:"w-4 h-4"}),"ISBN *"]}),e.jsx(Ze,{id:"isbn",value:c.isbn,onChange:A=>P("isbn",A.target.value),placeholder:"Enter ISBN or catalog number",className:f.isbn?"border-red-500":""}),f.isbn&&e.jsx("p",{className:"text-sm text-red-500",children:f.isbn})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"publisher",className:"flex items-center gap-1",children:[e.jsx(Yy,{className:"w-4 h-4"}),"Publisher *"]}),e.jsx(Ze,{id:"publisher",value:c.publisher,onChange:A=>P("publisher",A.target.value),placeholder:"Enter publisher name",className:f.publisher?"border-red-500":""}),f.publisher&&e.jsx("p",{className:"text-sm text-red-500",children:f.publisher})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"publishedYear",className:"flex items-center gap-1",children:[e.jsx(As,{className:"w-4 h-4"}),"Publication Year *"]}),e.jsx(Ze,{id:"publishedYear",type:"number",value:c.publishedYear,onChange:A=>P("publishedYear",parseInt(A.target.value)),min:"1800",max:new Date().getFullYear()+1,className:f.publishedYear?"border-red-500":""}),f.publishedYear&&e.jsx("p",{className:"text-sm text-red-500",children:f.publishedYear})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"genre",className:"flex items-center gap-1",children:[e.jsx(t0,{className:"w-4 h-4"}),"Genre/Category *"]}),e.jsxs(Gi,{value:c.genre,onValueChange:A=>P("genre",A),children:[e.jsx(Eo,{className:f.genre?"border-red-500":"",children:e.jsx(Ki,{placeholder:"Select genre"})}),e.jsx(Po,{children:n5.map(A=>e.jsx(wn,{value:A,children:A},A))})]}),f.genre&&e.jsx("p",{className:"text-sm text-red-500",children:f.genre})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"description",children:"Description"}),e.jsx(od,{id:"description",value:c.description,onChange:A=>P("description",A.target.value),placeholder:"Enter book description",rows:3})]})]})]}),e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsx(Be,{className:"text-lg",children:"Inventory & Location"}),e.jsx(wt,{children:"Stock and physical location details"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"totalCopies",className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Total Copies *"]}),e.jsx(Ze,{id:"totalCopies",type:"number",min:"1",value:c.totalCopies,onChange:A=>P("totalCopies",parseInt(A.target.value)),className:f.totalCopies?"border-red-500":""}),f.totalCopies&&e.jsx("p",{className:"text-sm text-red-500",children:f.totalCopies})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"location",className:"flex items-center gap-1",children:[e.jsx(pd,{className:"w-4 h-4"}),"Location *"]}),e.jsxs(Gi,{value:c.location,onValueChange:A=>P("location",A),children:[e.jsx(Eo,{className:f.location?"border-red-500":"",children:e.jsx(Ki,{placeholder:"Select location"})}),e.jsx(Po,{children:s5.map(A=>e.jsx(wn,{value:A,children:A},A))})]}),f.location&&e.jsx("p",{className:"text-sm text-red-500",children:f.location})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"language",className:"flex items-center gap-1",children:[e.jsx(Jy,{className:"w-4 h-4"}),"Language"]}),e.jsxs(Gi,{value:c.language,onValueChange:A=>P("language",A),children:[e.jsx(Eo,{children:e.jsx(Ki,{})}),e.jsx(Po,{children:a5.map(A=>e.jsx(wn,{value:A,children:A},A))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ye,{htmlFor:"pages",children:"Number of Pages"}),e.jsx(Ze,{id:"pages",type:"number",min:"0",value:c.pages,onChange:A=>P("pages",parseInt(A.target.value)||0),placeholder:"Enter number of pages"})]})]})]}),e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsx(Be,{className:"text-lg",children:"Categories & Tags"}),e.jsx(wt,{children:"Additional categories for better organization"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ze,{value:w,onChange:A=>v(A.target.value),placeholder:"Add a category",onKeyPress:A=>A.key==="Enter"&&(A.preventDefault(),C())}),e.jsx(B,{type:"button",onClick:C,variant:"outline",children:e.jsx(wo,{className:"w-4 h-4"})})]}),c.categories.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:c.categories.map((A,T)=>e.jsxs(we,{variant:"secondary",className:"flex items-center gap-1",children:[A,e.jsx("button",{type:"button",onClick:()=>k(A),className:"ml-1 hover:text-red-500",children:e.jsx(Os,{className:"w-3 h-3"})})]},T))})]})]}),e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsx(Be,{className:"text-lg",children:"Book Cover"}),e.jsx(wt,{children:"Upload or provide URL for book cover image"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"coverImage",className:"flex items-center gap-1",children:[e.jsx(hC,{className:"w-4 h-4"}),"Cover Image URL"]}),e.jsx(Ze,{id:"coverImage",type:"url",value:c.coverImage,onChange:A=>{P("coverImage",A.target.value),N(!1)},placeholder:"https://example.com/book-cover.jpg"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[c.coverImage&&!S?e.jsx("img",{src:c.coverImage,alt:"Book cover preview",className:"w-20 h-28 object-cover border rounded",onError:()=>N(!0)}):e.jsx("div",{className:"w-20 h-28 flex items-center justify-center border rounded bg-gradient-to-br from-gray-100 to-gray-200",children:e.jsx(Xe,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Cover image preview",S&&e.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Image could not be loaded. Please check the URL."})]})]})]})]}),e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsx(Be,{className:"text-lg",children:"Additional Features"}),e.jsx(wt,{children:"Digital access options"})]}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"hasDownload",checked:c.hasDownload,onChange:A=>P("hasDownload",A.target.checked),className:"rounded"}),e.jsxs(ye,{htmlFor:"hasDownload",className:"flex items-center gap-1",children:[e.jsx(ga,{className:"w-4 h-4"}),"Available for Download"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"hasReadOnline",checked:c.hasReadOnline,onChange:A=>P("hasReadOnline",A.target.checked),className:"rounded"}),e.jsxs(ye,{htmlFor:"hasReadOnline",className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-4 h-4"}),"Available to Read Online"]})]})]})]}),e.jsxs(sd,{children:[e.jsx(B,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),e.jsx(B,{type:"submit",disabled:p,children:p?"Saving...":l==="add"?"Add Book":"Update Book"})]})]})]})})}function o5({isOpen:t,onClose:n,user:a}){if(!a)return null;const o=c=>{switch(c){case"admin":return"bg-purple-100 text-purple-800";case"librarian":return"bg-blue-100 text-blue-800";case"user":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},l=c=>{switch(c){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(hl,{open:t,onOpenChange:n,children:e.jsxs(qo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Qo,{children:e.jsxs(Xo,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5"}),"User Details"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx(Sa,{user:a,size:"lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.name}),e.jsx("p",{className:"text-gray-600",children:a.email}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(we,{className:o(a.role),children:a.role}),e.jsx(we,{className:l(a.status||"active"),children:a.status||"active"})]})]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:n,children:e.jsx(Os,{className:"w-4 h-4"})})]}),e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-4 h-4"}),"Personal Information"]})}),e.jsx(ue,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"User ID"}),e.jsx("p",{className:"text-sm text-gray-900",children:a.userId||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Department"}),e.jsx("p",{className:"text-sm text-gray-900",children:a.department||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsxs("p",{className:"text-sm text-gray-900 flex items-center gap-1",children:[e.jsx(Hi,{className:"w-3 h-3"}),a.email]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),e.jsxs("p",{className:"text-sm text-gray-900 flex items-center gap-1",children:[e.jsx(jn,{className:"w-3 h-3"}),a.role]})]})]})})]}),a.role==="user"&&e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Student Activity"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.currentBorrowedBooks||0}),e.jsx("div",{className:"text-xs text-blue-600",children:"Active Loans"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.totalBooksBorrowed||0}),e.jsx("div",{className:"text-xs text-green-600",children:"Total Borrowed"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.numberOfReservations||0}),e.jsx("div",{className:"text-xs text-purple-600",children:"Reservations"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["₱",(a.outstandingFines||0).toFixed(2)]}),e.jsx("div",{className:"text-xs text-red-600",children:"Outstanding Fines"})]})]})})]}),a.role==="librarian"&&e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(jn,{className:"w-4 h-4"}),"Librarian Access"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Library Operations"}),e.jsx(we,{className:"bg-purple-100 text-purple-800",children:"Full Access"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Book Management"}),e.jsx(we,{className:"bg-blue-100 text-blue-800",children:"Can Add/Edit"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Loan Management"}),e.jsx(we,{className:"bg-green-100 text-green-800",children:"Issue/Return"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"User Management"}),e.jsx(we,{className:"bg-orange-100 text-orange-800",children:"View Only"})]})]})})]}),a.role==="admin"&&e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(jn,{className:"w-4 h-4"}),"Administrator Access"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"System Administration"}),e.jsx(we,{className:"bg-purple-100 text-purple-800",children:"Full Access"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-red-900",children:"User Management"}),e.jsx(we,{className:"bg-red-100 text-red-800",children:"Create/Edit/Delete"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Book Management"}),e.jsx(we,{className:"bg-blue-100 text-blue-800",children:"Full Control"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"System Settings"}),e.jsx(we,{className:"bg-green-100 text-green-800",children:"Configure"})]})]})})]}),e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-4 h-4"}),"Account Activity"]})}),e.jsxs(ue,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Member Since"}),e.jsx("span",{className:"text-sm text-gray-900",children:a.createdAt?new Date(a.createdAt).toLocaleDateString():"Unknown"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Login"}),e.jsx("span",{className:"text-sm text-gray-900",children:a.lastLogin?new Date(a.lastLogin).toLocaleString():"Unknown"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Account Status"}),e.jsx(we,{className:l(a.status||"active"),children:a.status||"active"})]})]})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(B,{variant:"outline",onClick:n,children:"Close"})})]})]})})}function ty({isOpen:t,onClose:n,user:a,onSave:o,mode:l}){const[c,m]=d.useState({name:"",email:"",department:"",role:"user",status:"active",password:""}),[f,x]=d.useState(!1);d.useEffect(()=>{l==="edit"&&a?m({name:a.name||"",email:a.email||"",department:a.department||"",role:a.role||"user",status:a.status||"active",password:""}):l==="add"&&m({name:"",email:"",department:"",role:"user",status:"active",password:""})},[a,l]);const p=async()=>{if(!c.name.trim()||!c.email.trim()||l==="add"&&!c.password.trim()){it.error("Name, email, and password are required");return}x(!0);try{const v=localStorage.getItem("token")||sessionStorage.getItem("token");let S;if(l==="edit"&&a?S=await fetch(`/api/admin/users/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(c)}):S=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(c)}),S.ok){const N=await S.json();o(N.user),it.success(l==="add"?"User created successfully":"User updated successfully"),n()}else{const N=await S.json();it.error(N.message||(l==="add"?"Failed to create user":"Failed to update user"))}}catch{it.error(l==="add"?"Failed to create user":"Failed to update user")}finally{x(!1)}},y=v=>{switch(v){case"admin":return"bg-purple-100 text-purple-800";case"librarian":return"bg-blue-100 text-blue-800";case"user":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return l==="edit"&&!a?null:e.jsx(hl,{open:t,onOpenChange:n,children:e.jsxs(qo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Qo,{children:e.jsxs(Xo,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5"}),l==="add"?"Add New User":"Edit User"]})}),e.jsxs("div",{className:"space-y-6",children:[l==="edit"&&a&&e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-4 h-4"}),"Current Information"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"User ID"}),e.jsx("p",{className:"font-medium font-mono bg-gray-100 px-2 py-1 rounded text-sm",children:a.userId||"Not assigned"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"User IDs cannot be modified once assigned"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(we,{className:y(a.role),children:a.role}),e.jsx(we,{className:w(a.status||"active"),children:a.status||"active"})]})]})})]}),e.jsxs(de,{children:[e.jsx($e,{children:e.jsx(Be,{children:l==="add"?"New User Details":"Edit User Details"})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"name",children:"Full Name *"}),e.jsx(Ze,{id:"name",value:c.name,onChange:v=>m(S=>({...S,name:v.target.value})),placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"email",children:"Email Address *"}),e.jsx(Ze,{id:"email",value:c.email,onChange:v=>m(S=>({...S,email:v.target.value})),placeholder:"Enter email address"})]})]}),l==="add"&&e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"password",children:"Password *"}),e.jsx(Ze,{id:"password",type:"password",value:c.password,onChange:v=>m(S=>({...S,password:v.target.value})),placeholder:"Enter password"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"department",children:"Department"}),e.jsx(Ze,{id:"department",value:c.department,onChange:v=>m(S=>({...S,department:v.target.value})),placeholder:"Enter department"})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"role",children:"Role"}),e.jsxs(Gi,{value:c.role,onValueChange:v=>m(S=>({...S,role:v})),children:[e.jsx(Eo,{children:e.jsx(Ki,{placeholder:"Select role"})}),e.jsxs(Po,{children:[e.jsx(wn,{value:"user",children:"Student"}),e.jsx(wn,{value:"librarian",children:"Librarian"}),e.jsx(wn,{value:"admin",children:"Admin"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ye,{htmlFor:"status",children:"Account Status"}),e.jsxs(Gi,{value:c.status,onValueChange:v=>m(S=>({...S,status:v})),children:[e.jsx(Eo,{children:e.jsx(Ki,{placeholder:"Select status"})}),e.jsxs(Po,{children:[e.jsx(wn,{value:"active",children:"Active"}),e.jsx(wn,{value:"suspended",children:"Suspended"}),e.jsx(wn,{value:"pending",children:"Pending"})]})]})]})]})]}),e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ir,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"Important Limitations"}),e.jsxs("ul",{className:"text-sm text-yellow-700 mt-1 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"User IDs cannot be edited"})," - they are used throughout the system for tracking loans, fines, and reservations"]}),e.jsx("li",{children:"• Changing a user's role may affect their access permissions"}),e.jsx("li",{children:"• Account status changes will immediately affect the user's ability to borrow books"}),e.jsx("li",{children:"• For major corrections, consider creating a new account and migrating essential data"})]})]})]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(B,{variant:"outline",onClick:n,disabled:f,children:"Cancel"}),e.jsxs(B,{onClick:p,disabled:f,className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),f?l==="add"?"Creating...":"Saving...":l==="add"?"Create User":"Save Changes"]})]})]})]})})}function i5(){const{user:t,logout:n}=Lt(),a=jr(),[o,l]=d.useState("overview"),[c,m]=d.useState({totalUsers:0,totalBooks:0,activeLoans:0,pendingReservations:0,newUsersToday:0,booksAddedThisMonth:0,systemStatus:"healthy"}),[f,x]=d.useState([]),[p,y]=d.useState([]),[w,v]=d.useState(!0),[S,N]=d.useState(new Set(["admin","librarian","user"])),[b,j]=d.useState(new Set(["available","low-stock","out-of-stock"])),[C,k]=d.useState(Date.now()),[P,A]=d.useState(!1),[T,L]=d.useState(null),[D,$]=d.useState("add"),[X,V]=d.useState(!1),[ne,Z]=d.useState(!1),[he,q]=d.useState(!1),[Q,te]=d.useState(null),[xe,F]=d.useState(!1),[U,re]=d.useState(null);d.useEffect(()=>{if(!t||t.role!=="admin"){a("/");return}M()},[t,a]);const M=async()=>{v(!0);try{const Y=localStorage.getItem("token")||sessionStorage.getItem("token");if(!Y){a("/");return}const Fe=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${Y}`}});if(Fe.ok){const Ae=await Fe.json();m(Ae)}const He=await fetch("/api/admin/users?limit=50",{headers:{Authorization:`Bearer ${Y}`}});if(He.ok){const Ae=await He.json();x(Ae.users)}const J=await fetch("/api/admin/books?limit=50",{headers:{Authorization:`Bearer ${Y}`}});if(J.ok){const Ae=await J.json();y(Ae.books),k(Date.now())}}catch(Y){console.error("Error loading dashboard data:",Y)}finally{v(!1)}},H=async(Y,Fe)=>{const He=localStorage.getItem("token")||sessionStorage.getItem("token");if(He)try{switch(Y){case"delete":if(window.confirm("Are you sure you want to delete this user?")){const Je=await fetch(`/api/admin/users/${Fe}`,{method:"DELETE",headers:{Authorization:`Bearer ${He}`}});if(Je.ok)x(f.filter(ze=>ze.id!==Fe)),Q&&Q.id===Fe&&(V(!1),Z(!1),te(null)),it.success("User deleted successfully"),await M();else{const ze=await Je.json();it.error(ze.message||"Failed to delete user")}}break;case"view":const J=f.find(Je=>Je.id===Fe);J&&(te(J),V(!0));break;case"edit":const Ae=f.find(Je=>Je.id===Fe);Ae&&(te(Ae),Z(!0));break;default:console.log(`${Y} user ${Fe}`)}}catch(J){console.error("Error handling user action:",J),it.error("An error occurred while processing the request")}},fe=async(Y,Fe)=>{const He=localStorage.getItem("token")||sessionStorage.getItem("token");if(He)try{switch(Y){case"delete":if(window.confirm("Are you sure you want to delete this book?")){const Je=await fetch(`/api/admin/books/${Fe}`,{method:"DELETE",headers:{Authorization:`Bearer ${He}`}});if(Je.ok){const ze=await Je.json();y(p.filter(ct=>ct.id!==Fe)),U&&U.id===Fe&&(F(!1),re(null)),it.success(`Book deleted successfully${ze.cancelledReservations>0?`. ${ze.cancelledReservations} reservation(s) were cancelled.`:""}`),await M()}else{const ze=await Je.json();if(ze.message&&ze.message.includes("reservation")){const ct=ze.reservations.map(rt=>{var gt,Tt;return`- ${((gt=rt.userId)==null?void 0:gt.name)||"Unknown"} (${((Tt=rt.userId)==null?void 0:Tt.email)||"No email"})`}).join(`
`);it.error(`${ze.message}

Active reservations:
${ct}`,{duration:8e3})}else it.error(ze.message||"Failed to delete book")}}break;case"view":const J=p.find(Je=>Je.id===Fe);J&&(re(J),F(!0));break;case"edit":const Ae=p.find(Je=>Je.id===Fe);Ae&&(L(Ae),$("edit"),A(!0));break;default:console.log(`${Y} book ${Fe}`)}}catch(J){console.error("Error handling book action:",J),it.error("An error occurred while processing the request")}},be=Y=>{N(Fe=>{const He=new Set(Fe);return He.has(Y)?He.delete(Y):He.add(Y),He})},ke=Y=>{j(Fe=>{const He=new Set(Fe);return He.has(Y)?He.delete(Y):He.add(Y),He})},ve=async Y=>{const Fe=localStorage.getItem("token")||sessionStorage.getItem("token");if(Fe)try{let He={...Y};D==="edit"&&(T!=null&&T.coverImage)&&!Y.coverImage&&(He.coverImage=T.coverImage);const J=D==="add"?"/api/admin/books":`/api/admin/books/${T==null?void 0:T.id}`,Je=await fetch(J,{method:D==="add"?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fe}`},body:JSON.stringify(He)});if(Je.ok){const ze=await Je.json();it.success(D==="add"?"Book added successfully!":"Book updated successfully!"),A(!1),L(null),await Promise.all([M(),je()]),k(Date.now()),U&&D==="edit"&&U.id===(T==null?void 0:T.id)&&re({...U,...ze.book})}else{const ze=await Je.json();ze.message&&ze.message.includes("reservation")?it.error(ze.message,{duration:8e3,description:"Please handle all reservations before making this change."}):it.error(ze.message||"Failed to save book")}}catch(He){console.error("Error saving book:",He),it.error("An error occurred while saving the book")}},me=()=>{L(null),$("add"),A(!0)},je=async()=>{try{const Y=localStorage.getItem("token")||sessionStorage.getItem("token");if(!Y)return;const Fe=await fetch("/api/admin/books?limit=50",{headers:{Authorization:`Bearer ${Y}`}});if(Fe.ok){const He=await Fe.json();y(He.books),k(Date.now())}}catch(Y){console.error("Error loading books:",Y)}},Ee=f.filter(Y=>S.has(Y.role)),Oe=p.filter(Y=>b.has(Y.status)),Qe=Y=>{switch(Y){case"healthy":case"active":case"available":return"bg-green-100 text-green-800";case"warning":case"low-stock":return"bg-yellow-100 text-yellow-800";case"error":case"inactive":case"suspended":case"out-of-stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},qe=Y=>{switch(Y){case"admin":return"bg-purple-100 text-purple-800";case"librarian":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return!t||t.role!=="admin"?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(jn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsx(B,{onClick:()=>a("/"),children:"Go to Homepage"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(jn,{className:"w-8 h-8 text-purple-600 mr-3"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(B,{variant:"outline",onClick:()=>a("/"),className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Back to Library"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Welcome, ",e.jsx("span",{className:"font-semibold",children:t.name})]}),e.jsx(B,{onClick:n,variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:"Logout"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(xl,{value:o,onValueChange:l,children:[e.jsxs(Zo,{className:"grid w-full grid-cols-4",children:[e.jsxs(ft,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(Hg,{className:"w-4 h-4"}),"Overview"]}),e.jsxs(ft,{value:"users",className:"flex items-center gap-2",children:[e.jsx(zr,{className:"w-4 h-4"}),"Users"]}),e.jsxs(ft,{value:"books",className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Books"]}),e.jsxs(ft,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-4 h-4"}),"Settings"]})]}),e.jsx(mt,{value:"overview",className:"space-y-6",children:w?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(lr,{className:"w-8 h-8 animate-spin text-purple-600"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(zr,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalUsers})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Books"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalBooks})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pr,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Loans"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.activeLoans})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ls,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reservations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.pendingReservations})]})]})})})]}),e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Wg,{className:"w-5 h-5"}),"System Status"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(we,{className:Qe(c.systemStatus),children:[c.systemStatus==="healthy"&&e.jsx(bn,{className:"w-4 h-4 mr-1"}),c.systemStatus==="warning"&&e.jsx(ir,{className:"w-4 h-4 mr-1"}),c.systemStatus==="error"&&e.jsx(xa,{className:"w-4 h-4 mr-1"}),"System ",c.systemStatus]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["All systems operational • Last checked: ",new Date().toLocaleTimeString()]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(dh,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("p",{className:"text-sm text-gray-600",children:"New user registration: john.doe@example.com"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Book added: "The Great Gatsby"'})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Loan request: "1984" by George Orwell'})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("p",{className:"text-sm text-gray-600",children:"User role updated: jane.smith@university.edu"})]})]})})]}),e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Hg,{className:"w-5 h-5"}),"Quick Stats"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"New users today"}),e.jsx("span",{className:"font-semibold",children:c.newUsersToday})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Books added this month"}),e.jsx("span",{className:"font-semibold",children:c.booksAddedThisMonth})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"System uptime"}),e.jsx("span",{className:"font-semibold text-green-600",children:"99.9%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Database size"}),e.jsx("span",{className:"font-semibold",children:"127 MB"})]})]})})]})]})]})}),e.jsxs(mt,{value:"users",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"User Management"}),e.jsxs("p",{className:"text-gray-600",children:["Manage all users in the system (",Ee.length," of ",f.length," users shown)"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(B,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Vn,{className:"w-4 h-4"}),"Search Users"]}),e.jsxs(B,{className:"flex items-center gap-2",onClick:()=>q(!0),children:[e.jsx(wo,{className:"w-4 h-4"}),"Add New User"]})]})]}),e.jsx(de,{children:e.jsx(ue,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(da,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by role:"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(B,{variant:S.has("admin")?"default":"outline",size:"sm",onClick:()=>be("admin"),className:"flex items-center gap-1",children:[e.jsx(jn,{className:"w-3 h-3"}),"Admin",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:f.filter(Y=>Y.role==="admin").length})]}),e.jsxs(B,{variant:S.has("librarian")?"default":"outline",size:"sm",onClick:()=>be("librarian"),className:"flex items-center gap-1",children:[e.jsx(zr,{className:"w-3 h-3"}),"Librarian",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:f.filter(Y=>Y.role==="librarian").length})]}),e.jsxs(B,{variant:S.has("user")?"default":"outline",size:"sm",onClick:()=>be("user"),className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),"Student",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:f.filter(Y=>Y.role==="user").length})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx(B,{variant:"outline",size:"sm",onClick:()=>N(new Set(["admin","librarian","user"])),className:"text-xs",children:"Show All"}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>N(new Set),className:"text-xs",children:"Clear Filters"})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Ee.map(Y=>e.jsx(de,{className:"hover:shadow-md transition-shadow",children:e.jsxs(ue,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Sa,{user:Y,size:"md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:Y.name}),e.jsx("p",{className:"text-sm text-gray-600",children:Y.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(we,{className:qe(Y.role),variant:"secondary",children:Y.role==="user"?"Student":Y.role==="librarian"?"Librarian":"Admin"}),e.jsx(we,{className:Qe(Y.accountStatus),variant:"outline",children:Y.accountStatus})]})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"ID:"}),e.jsx("span",{className:"font-medium",children:Y.userId})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Department:"}),e.jsx("span",{className:"font-medium text-right",children:Y.department})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Joined:"}),e.jsx("span",{className:"font-medium",children:new Date(Y.createdAt).toLocaleDateString()})]})]}),Y.role==="user"&&e.jsx("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:Y.currentBorrowedBooks||0}),e.jsx("div",{className:"text-xs text-blue-600",children:"Active Loans"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:Y.totalBooksBorrowed||0}),e.jsx("div",{className:"text-xs text-green-600",children:"Total Borrowed"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:(Y.outstandingFines||0).toFixed(0)}),e.jsx("div",{className:"text-xs text-red-600",children:"Fines"})]})]})}),Y.role==="librarian"&&e.jsx("div",{className:"bg-purple-50 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-purple-900",children:"Library Staff"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Library Operations Access"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>H("view",Y.id),className:"flex-1",children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"View"]}),!(Y.role==="admin"&&t&&Y.id!==t.id)&&e.jsx(B,{variant:"outline",size:"sm",onClick:()=>H("edit",Y.id),children:e.jsx($o,{className:"w-4 h-4"})}),Y.role!=="admin"&&e.jsx(B,{variant:"outline",size:"sm",onClick:()=>H("delete",Y.id),className:"text-red-600 hover:text-red-700 hover:border-red-300",children:e.jsx(ba,{className:"w-4 h-4"})})]})]})},Y.id))}),Ee.length===0&&f.length>0&&e.jsx(de,{children:e.jsxs(ue,{className:"py-16 text-center",children:[e.jsx(da,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users match your filters"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your role filters to see more users."}),e.jsxs(B,{variant:"outline",onClick:()=>N(new Set(["admin","librarian","user"])),className:"flex items-center gap-2",children:[e.jsx(lr,{className:"w-4 h-4"}),"Reset Filters"]})]})}),f.length===0&&e.jsx(de,{children:e.jsxs(ue,{className:"py-16 text-center",children:[e.jsx(zr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by adding your first user to the system."}),e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(wo,{className:"w-4 h-4"}),"Add First User"]})]})})]}),e.jsxs(mt,{value:"books",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Book Management"}),e.jsxs("p",{className:"text-gray-600",children:["Manage library inventory (",Oe.length," of ",p.length," books shown)"]})]}),e.jsxs(B,{className:"flex items-center gap-2",onClick:me,children:[e.jsx(wo,{className:"w-4 h-4"}),"Add New Book"]})]}),e.jsx(de,{children:e.jsx(ue,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(da,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by status:"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(B,{variant:b.has("available")?"default":"outline",size:"sm",onClick:()=>ke("available"),className:"flex items-center gap-1",children:[e.jsx(bn,{className:"w-3 h-3"}),"Available",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:p.filter(Y=>Y.status==="available").length})]}),e.jsxs(B,{variant:b.has("low-stock")?"default":"outline",size:"sm",onClick:()=>ke("low-stock"),className:"flex items-center gap-1",children:[e.jsx(hd,{className:"w-3 h-3"}),"Low Stock",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:p.filter(Y=>Y.status==="low-stock").length})]}),e.jsxs(B,{variant:b.has("out-of-stock")?"default":"outline",size:"sm",onClick:()=>ke("out-of-stock"),className:"flex items-center gap-1",children:[e.jsx(xa,{className:"w-3 h-3"}),"Out of Stock",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:p.filter(Y=>Y.status==="out-of-stock").length})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(new Set(["available","low-stock","out-of-stock"])),className:"text-xs",children:"Show All"}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>j(new Set),className:"text-xs",children:"Clear Filters"})]})]})})}),e.jsx(de,{children:e.jsxs(ue,{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Oe.map(Y=>{var Fe;return e.jsx("div",{className:"group relative bg-white border border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all duration-200 hover:border-blue-300",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"w-20 h-28 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg shadow-md overflow-hidden border-2 border-gray-100 group-hover:border-blue-200 transition-colors",children:[Y.coverImage?e.jsx("img",{src:`${Y.coverImage}${Y.coverImage.includes("?")?"&":"?"}t=${C}`,alt:Y.title,className:"w-full h-full object-cover",onError:He=>{var J;He.currentTarget.style.display="none",(J=He.currentTarget.nextElementSibling)==null||J.classList.remove("hidden")}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(Xe,{className:"w-8 h-8 text-gray-400"})}),!Y.coverImage&&e.jsx("div",{className:"hidden w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(Xe,{className:"w-8 h-8 text-gray-400"})})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg leading-tight mb-1 group-hover:text-blue-600 transition-colors",children:Y.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["by ",Y.author]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.jsx(we,{className:`${Qe(Y.status)} text-xs`,children:(Fe=Y.status)==null?void 0:Fe.replace("-"," ")}),e.jsx(we,{variant:"outline",className:"text-xs",children:Y.genre}),Y.pendingReservations&&Y.pendingReservations>0&&e.jsxs(we,{className:"bg-purple-100 text-purple-800 text-xs border-purple-200",children:[Y.pendingReservations," reserved"]})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"ISBN:"})," ",Y.isbn]}),Y.publisher&&e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Publisher:"})," ",Y.publisher]}),Y.publishedYear&&e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Year:"})," ",Y.publishedYear]}),Y.location&&e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",Y.location]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:Y.availableCopies}),e.jsxs("span",{className:"text-gray-500",children:[" of ",Y.totalCopies," available"]}),Y.activeLoans&&Y.activeLoans>0&&e.jsxs("span",{className:"text-blue-600 text-xs block",children:[Y.activeLoans," on loan"]})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(B,{variant:"outline",size:"sm",onClick:()=>fe("view",Y.id),className:"h-8 w-8 p-0",title:"View Details",children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>fe("edit",Y.id),className:"h-8 w-8 p-0",title:"Edit Book",children:e.jsx($o,{className:"w-4 h-4"})}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>fe("delete",Y.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:border-red-300",title:"Delete Book",children:e.jsx(ba,{className:"w-4 h-4"})})]})]})},Y.id)})}),Oe.length===0&&p.length>0&&e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(da,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No books match your filters"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your status filters to see more books."}),e.jsxs(B,{variant:"outline",onClick:()=>j(new Set(["available","low-stock","out-of-stock"])),className:"flex items-center gap-2",children:[e.jsx(lr,{className:"w-4 h-4"}),"Reset Filters"]})]}),p.length===0&&e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(Xe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No books found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by adding your first book to the library."}),e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(wo,{className:"w-4 h-4"}),"Add First Book"]})]})]})})]}),e.jsx(mt,{value:"settings",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-5 h-5"}),"System Settings"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Database Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(Wg,{className:"w-4 h-4 mr-2"}),"Backup Database"]}),e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(ga,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"User Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(zr,{className:"w-4 h-4 mr-2"}),"Bulk User Import"]}),e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(jn,{className:"w-4 h-4 mr-2"}),"Role Permissions"]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"System Configuration"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>alert("General Settings feature coming soon!"),children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"General Settings"]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>alert("Activity Logs feature coming soon!"),children:[e.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Activity Logs"]})]})]})]})})]})})]})}),e.jsx(CN,{isOpen:P,onClose:()=>{A(!1),L(null)},onSave:ve,book:T,mode:D}),e.jsx(o5,{isOpen:X,onClose:()=>{V(!1),te(null)},user:Q}),e.jsx(ty,{isOpen:he,onClose:()=>q(!1),onSave:async Y=>{x([Y,...f]),q(!1),await M()},mode:"add"}),e.jsx(ty,{isOpen:ne,onClose:()=>{Z(!1),te(null)},user:Q,onSave:async Y=>{x(f.map(Fe=>Fe.id===Y.id?Y:Fe)),Q&&Q.id===Y.id&&te(Y),await M()},mode:"edit"}),e.jsx(Od,{isOpen:xe,onClose:()=>{F(!1),re(null)},book:U,imageKey:C,onEdit:Y=>{F(!1),re(null),L(Y),$("edit"),A(!0)}})]})}var l5="DismissableLayer",Xm="dismissableLayer.update",c5="dismissableLayer.pointerDownOutside",d5="dismissableLayer.focusOutside",ry,kN=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),EN=d.forwardRef((t,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:m,onDismiss:f,...x}=t,p=d.useContext(kN),[y,w]=d.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=d.useState({}),N=We(n,D=>w(D)),b=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(j),k=y?b.indexOf(y):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,A=k>=C,T=m5(D=>{const $=D.target,X=[...p.branches].some(V=>V.contains($));!A||X||(l==null||l(D),m==null||m(D),D.defaultPrevented||f==null||f())},v),L=h5(D=>{const $=D.target;[...p.branches].some(V=>V.contains($))||(c==null||c(D),m==null||m(D),D.defaultPrevented||f==null||f())},v);return sl(D=>{k===p.layers.size-1&&(o==null||o(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},v),d.useEffect(()=>{if(y)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(ry=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),ny(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=ry)}},[y,v,a,p]),d.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),ny())},[y,p]),d.useEffect(()=>{const D=()=>S({});return document.addEventListener(Xm,D),()=>document.removeEventListener(Xm,D)},[]),e.jsx(Ne.div,{...x,ref:N,style:{pointerEvents:P?A?"auto":"none":void 0,...t.style},onFocusCapture:le(t.onFocusCapture,L.onFocusCapture),onBlurCapture:le(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:le(t.onPointerDownCapture,T.onPointerDownCapture)})});EN.displayName=l5;var u5="DismissableLayerBranch",f5=d.forwardRef((t,n)=>{const a=d.useContext(kN),o=d.useRef(null),l=We(n,o);return d.useEffect(()=>{const c=o.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),e.jsx(Ne.div,{...t,ref:l})});f5.displayName=u5;function m5(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1),l=d.useRef(()=>{});return d.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let x=function(){PN(c5,a,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=x,n.addEventListener("click",l.current,{once:!0})):x()}else n.removeEventListener("click",l.current);o.current=!1},m=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(m),n.removeEventListener("pointerdown",c),n.removeEventListener("click",l.current)}},[n,a]),{onPointerDownCapture:()=>o.current=!0}}function h5(t,n=globalThis==null?void 0:globalThis.document){const a=kt(t),o=d.useRef(!1);return d.useEffect(()=>{const l=c=>{c.target&&!o.current&&PN(d5,a,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function ny(){const t=new CustomEvent(Xm);document.dispatchEvent(t)}function PN(t,n,a,{discrete:o}){const l=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});n&&l.addEventListener(t,n,{once:!0}),o?Ra(l,c):l.dispatchEvent(c)}var lm=0;function p5(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sy()),document.body.insertAdjacentElement("beforeend",t[1]??sy()),lm++,()=>{lm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),lm--}},[])}function sy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var x5="Portal",RN=d.forwardRef((t,n)=>{var f;const{container:a,...o}=t,[l,c]=d.useState(!1);jt(()=>c(!0),[]);const m=a||l&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return m?Uo.createPortal(e.jsx(Ne.div,{...o,ref:n}),m):null});RN.displayName=x5;var AN=Td(),cm=function(){},Hd=d.forwardRef(function(t,n){var a=d.useRef(null),o=d.useState({onScrollCapture:cm,onWheelCapture:cm,onTouchMoveCapture:cm}),l=o[0],c=o[1],m=t.forwardProps,f=t.children,x=t.className,p=t.removeScrollBar,y=t.enabled,w=t.shards,v=t.sideCar,S=t.noIsolation,N=t.inert,b=t.allowPinchZoom,j=t.as,C=j===void 0?"div":j,k=t.gapMode,P=fl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=v,T=Ad([a,n]),L=xt(xt({},P),l);return d.createElement(d.Fragment,null,y&&d.createElement(A,{sideCar:AN,removeScrollBar:p,shards:w,noIsolation:S,inert:N,setCallbacks:c,allowPinchZoom:!!b,lockRef:a,gapMode:k}),m?d.cloneElement(d.Children.only(f),xt(xt({},L),{ref:T})):d.createElement(C,xt({},L,{className:x,ref:T}),f))});Hd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hd.classNames={fullWidth:ya,zeroRight:va};var Jm=!1;if(typeof window<"u")try{var Vc=Object.defineProperty({},"passive",{get:function(){return Jm=!0,!0}});window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{Jm=!1}var vo=Jm?{passive:!1}:!1,g5=function(t){return t.tagName==="TEXTAREA"},TN=function(t,n){var a=window.getComputedStyle(t);return a[n]!=="hidden"&&!(a.overflowY===a.overflowX&&!g5(t)&&a[n]==="visible")},v5=function(t){return TN(t,"overflowY")},y5=function(t){return TN(t,"overflowX")},ay=function(t,n){var a=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var l=DN(t,o);if(l){var c=MN(t,o),m=c[1],f=c[2];if(m>f)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},w5=function(t){var n=t.scrollTop,a=t.scrollHeight,o=t.clientHeight;return[n,a,o]},b5=function(t){var n=t.scrollLeft,a=t.scrollWidth,o=t.clientWidth;return[n,a,o]},DN=function(t,n){return t==="v"?v5(n):y5(n)},MN=function(t,n){return t==="v"?w5(n):b5(n)},j5=function(t,n){return t==="h"&&n==="rtl"?-1:1},N5=function(t,n,a,o,l){var c=j5(t,window.getComputedStyle(n).direction),m=c*o,f=a.target,x=n.contains(f),p=!1,y=m>0,w=0,v=0;do{var S=MN(t,f),N=S[0],b=S[1],j=S[2],C=b-j-c*N;(N||C)&&DN(t,f)&&(w+=C,v+=N),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!x&&f!==document.body||x&&(n.contains(f)||n===f));return(y&&Math.abs(w)<1||!y&&Math.abs(v)<1)&&(p=!0),p},Hc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oy=function(t){return[t.deltaX,t.deltaY]},iy=function(t){return t&&"current"in t?t.current:t},S5=function(t,n){return t[0]===n[0]&&t[1]===n[1]},C5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},k5=0,yo=[];function E5(t){var n=d.useRef([]),a=d.useRef([0,0]),o=d.useRef(),l=d.useState(k5++)[0],c=d.useState(ml)[0],m=d.useRef(t);d.useEffect(function(){m.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var b=Rd([t.lockRef.current],(t.shards||[]).map(iy),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var f=d.useCallback(function(b,j){if("touches"in b&&b.touches.length===2)return!m.current.allowPinchZoom;var C=Hc(b),k=a.current,P="deltaX"in b?b.deltaX:k[0]-C[0],A="deltaY"in b?b.deltaY:k[1]-C[1],T,L=b.target,D=Math.abs(P)>Math.abs(A)?"h":"v";if("touches"in b&&D==="h"&&L.type==="range")return!1;var $=ay(D,L);if(!$)return!0;if($?T=D:(T=D==="v"?"h":"v",$=ay(D,L)),!$)return!1;if(!o.current&&"changedTouches"in b&&(P||A)&&(o.current=T),!T)return!0;var X=o.current||T;return N5(X,j,b,X==="h"?P:A)},[]),x=d.useCallback(function(b){var j=b;if(!(!yo.length||yo[yo.length-1]!==c)){var C="deltaY"in j?oy(j):Hc(j),k=n.current.filter(function(T){return T.name===j.type&&(T.target===j.target||j.target===T.shadowParent)&&S5(T.delta,C)})[0];if(k&&k.should){j.cancelable&&j.preventDefault();return}if(!k){var P=(m.current.shards||[]).map(iy).filter(Boolean).filter(function(T){return T.contains(j.target)}),A=P.length>0?f(j,P[0]):!m.current.noIsolation;A&&j.cancelable&&j.preventDefault()}}},[]),p=d.useCallback(function(b,j,C,k){var P={name:b,delta:j,target:C,should:k,shadowParent:P5(C)};n.current.push(P),setTimeout(function(){n.current=n.current.filter(function(A){return A!==P})},1)},[]),y=d.useCallback(function(b){a.current=Hc(b),o.current=void 0},[]),w=d.useCallback(function(b){p(b.type,oy(b),b.target,f(b,t.lockRef.current))},[]),v=d.useCallback(function(b){p(b.type,Hc(b),b.target,f(b,t.lockRef.current))},[]);d.useEffect(function(){return yo.push(c),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:v}),document.addEventListener("wheel",x,vo),document.addEventListener("touchmove",x,vo),document.addEventListener("touchstart",y,vo),function(){yo=yo.filter(function(b){return b!==c}),document.removeEventListener("wheel",x,vo),document.removeEventListener("touchmove",x,vo),document.removeEventListener("touchstart",y,vo)}},[]);var S=t.removeScrollBar,N=t.inert;return d.createElement(d.Fragment,null,N?d.createElement(c,{styles:C5(l)}):null,S?d.createElement(Id,{gapMode:t.gapMode}):null)}function P5(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const R5=Dd(AN,E5);var IN=d.forwardRef(function(t,n){return d.createElement(Hd,xt({},t,{ref:n,sideCar:R5}))});IN.classNames=Hd.classNames;var Zm=["Enter"," "],A5=["ArrowDown","PageUp","Home"],LN=["ArrowUp","PageDown","End"],T5=[...A5,...LN],D5={ltr:[...Zm,"ArrowRight"],rtl:[...Zm,"ArrowLeft"]},M5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vl="Menu",[el,I5,L5]=ud(vl),[Aa,ON]=dr(vl,[L5,Go,Jo]),Wd=Go(),_N=Jo(),[O5,Ta]=Aa(vl),[_5,yl]=Aa(vl),FN=t=>{const{__scopeMenu:n,open:a=!1,children:o,dir:l,onOpenChange:c,modal:m=!0}=t,f=Wd(n),[x,p]=d.useState(null),y=d.useRef(!1),w=kt(c),v=pl(l);return d.useEffect(()=>{const S=()=>{y.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>y.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),e.jsx(jh,{...f,children:e.jsx(O5,{scope:n,open:a,onOpenChange:w,content:x,onContentChange:p,children:e.jsx(_5,{scope:n,onClose:d.useCallback(()=>w(!1),[w]),isUsingKeyboardRef:y,dir:v,modal:m,children:o})})})};FN.displayName=vl;var F5="MenuAnchor",Jh=d.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t,l=Wd(a);return e.jsx(Nh,{...l,...o,ref:n})});Jh.displayName=F5;var Zh="MenuPortal",[$5,$N]=Aa(Zh,{forceMount:void 0}),BN=t=>{const{__scopeMenu:n,forceMount:a,children:o,container:l}=t,c=Ta(Zh,n);return e.jsx($5,{scope:n,forceMount:a,children:e.jsx(Hr,{present:a||c.open,children:e.jsx(RN,{asChild:!0,container:l,children:o})})})};BN.displayName=Zh;var Ur="MenuContent",[B5,ep]=Aa(Ur),zN=d.forwardRef((t,n)=>{const a=$N(Ur,t.__scopeMenu),{forceMount:o=a.forceMount,...l}=t,c=Ta(Ur,t.__scopeMenu),m=yl(Ur,t.__scopeMenu);return e.jsx(el.Provider,{scope:t.__scopeMenu,children:e.jsx(Hr,{present:o||c.open,children:e.jsx(el.Slot,{scope:t.__scopeMenu,children:m.modal?e.jsx(z5,{...l,ref:n}):e.jsx(U5,{...l,ref:n})})})})}),z5=d.forwardRef((t,n)=>{const a=Ta(Ur,t.__scopeMenu),o=d.useRef(null),l=We(n,o);return d.useEffect(()=>{const c=o.current;if(c)return Ld(c)},[]),e.jsx(tp,{...t,ref:l,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:le(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),U5=d.forwardRef((t,n)=>{const a=Ta(Ur,t.__scopeMenu);return e.jsx(tp,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),tp=d.forwardRef((t,n)=>{const{__scopeMenu:a,loop:o=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:m,disableOutsidePointerEvents:f,onEntryFocus:x,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:w,onInteractOutside:v,onDismiss:S,disableOutsideScroll:N,...b}=t,j=Ta(Ur,a),C=yl(Ur,a),k=Wd(a),P=_N(a),A=I5(a),[T,L]=d.useState(null),D=d.useRef(null),$=We(n,D,j.onContentChange),X=d.useRef(0),V=d.useRef(""),ne=d.useRef(0),Z=d.useRef(null),he=d.useRef("right"),q=d.useRef(0),Q=N?IN:d.Fragment,te=N?{as:Hn,allowPinchZoom:!0}:void 0,xe=U=>{var me,je;const re=V.current+U,M=A().filter(Ee=>!Ee.disabled),H=document.activeElement,fe=(me=M.find(Ee=>Ee.ref.current===H))==null?void 0:me.textValue,be=M.map(Ee=>Ee.textValue),ke=eD(be,re,fe),ve=(je=M.find(Ee=>Ee.textValue===ke))==null?void 0:je.ref.current;(function Ee(Oe){V.current=Oe,window.clearTimeout(X.current),Oe!==""&&(X.current=window.setTimeout(()=>Ee(""),1e3))})(re),ve&&setTimeout(()=>ve.focus())};d.useEffect(()=>()=>window.clearTimeout(X.current),[]),p5();const F=d.useCallback(U=>{var M,H;return he.current===((M=Z.current)==null?void 0:M.side)&&rD(U,(H=Z.current)==null?void 0:H.area)},[]);return e.jsx(B5,{scope:a,searchRef:V,onItemEnter:d.useCallback(U=>{F(U)&&U.preventDefault()},[F]),onItemLeave:d.useCallback(U=>{var re;F(U)||((re=D.current)==null||re.focus(),L(null))},[F]),onTriggerLeave:d.useCallback(U=>{F(U)&&U.preventDefault()},[F]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:d.useCallback(U=>{Z.current=U},[]),children:e.jsx(Q,{...te,children:e.jsx(ul,{asChild:!0,trapped:l,onMountAutoFocus:le(c,U=>{var re;U.preventDefault(),(re=D.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:m,children:e.jsx(EN,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:w,onInteractOutside:v,onDismiss:S,children:e.jsx(Bh,{asChild:!0,...P,dir:C.dir,orientation:"vertical",loop:o,currentTabStopId:T,onCurrentTabStopIdChange:L,onEntryFocus:le(x,U=>{C.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Sh,{role:"menu","aria-orientation":"vertical","data-state":n1(j.open),"data-radix-menu-content":"",dir:C.dir,...k,...b,ref:$,style:{outline:"none",...b.style},onKeyDown:le(b.onKeyDown,U=>{const M=U.target.closest("[data-radix-menu-content]")===U.currentTarget,H=U.ctrlKey||U.altKey||U.metaKey,fe=U.key.length===1;M&&(U.key==="Tab"&&U.preventDefault(),!H&&fe&&xe(U.key));const be=D.current;if(U.target!==be||!T5.includes(U.key))return;U.preventDefault();const ve=A().filter(me=>!me.disabled).map(me=>me.ref.current);LN.includes(U.key)&&ve.reverse(),J5(ve)}),onBlur:le(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(X.current),V.current="")}),onPointerMove:le(t.onPointerMove,tl(U=>{const re=U.target,M=q.current!==U.clientX;if(U.currentTarget.contains(re)&&M){const H=U.clientX>q.current?"right":"left";he.current=H,q.current=U.clientX}}))})})})})})})});zN.displayName=Ur;var V5="MenuGroup",rp=d.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Ne.div,{role:"group",...o,ref:n})});rp.displayName=V5;var H5="MenuLabel",UN=d.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Ne.div,{...o,ref:n})});UN.displayName=H5;var ld="MenuItem",ly="menu.itemSelect",Gd=d.forwardRef((t,n)=>{const{disabled:a=!1,onSelect:o,...l}=t,c=d.useRef(null),m=yl(ld,t.__scopeMenu),f=ep(ld,t.__scopeMenu),x=We(n,c),p=d.useRef(!1),y=()=>{const w=c.current;if(!a&&w){const v=new CustomEvent(ly,{bubbles:!0,cancelable:!0});w.addEventListener(ly,S=>o==null?void 0:o(S),{once:!0}),Ra(w,v),v.defaultPrevented?p.current=!1:m.onClose()}};return e.jsx(VN,{...l,ref:x,disabled:a,onClick:le(t.onClick,y),onPointerDown:w=>{var v;(v=t.onPointerDown)==null||v.call(t,w),p.current=!0},onPointerUp:le(t.onPointerUp,w=>{var v;p.current||(v=w.currentTarget)==null||v.click()}),onKeyDown:le(t.onKeyDown,w=>{const v=f.searchRef.current!=="";a||v&&w.key===" "||Zm.includes(w.key)&&(w.currentTarget.click(),w.preventDefault())})})});Gd.displayName=ld;var VN=d.forwardRef((t,n)=>{const{__scopeMenu:a,disabled:o=!1,textValue:l,...c}=t,m=ep(ld,a),f=_N(a),x=d.useRef(null),p=We(n,x),[y,w]=d.useState(!1),[v,S]=d.useState("");return d.useEffect(()=>{const N=x.current;N&&S((N.textContent??"").trim())},[c.children]),e.jsx(el.ItemSlot,{scope:a,disabled:o,textValue:l??v,children:e.jsx(zh,{asChild:!0,...f,focusable:!o,children:e.jsx(Ne.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:p,onPointerMove:le(t.onPointerMove,tl(N=>{o?m.onItemLeave(N):(m.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:le(t.onPointerLeave,tl(N=>m.onItemLeave(N))),onFocus:le(t.onFocus,()=>w(!0)),onBlur:le(t.onBlur,()=>w(!1))})})})}),W5="MenuCheckboxItem",HN=d.forwardRef((t,n)=>{const{checked:a=!1,onCheckedChange:o,...l}=t;return e.jsx(qN,{scope:t.__scopeMenu,checked:a,children:e.jsx(Gd,{role:"menuitemcheckbox","aria-checked":cd(a)?"mixed":a,...l,ref:n,"data-state":sp(a),onSelect:le(l.onSelect,()=>o==null?void 0:o(cd(a)?!0:!a),{checkForDefaultPrevented:!1})})})});HN.displayName=W5;var WN="MenuRadioGroup",[G5,K5]=Aa(WN,{value:void 0,onValueChange:()=>{}}),GN=d.forwardRef((t,n)=>{const{value:a,onValueChange:o,...l}=t,c=kt(o);return e.jsx(G5,{scope:t.__scopeMenu,value:a,onValueChange:c,children:e.jsx(rp,{...l,ref:n})})});GN.displayName=WN;var KN="MenuRadioItem",YN=d.forwardRef((t,n)=>{const{value:a,...o}=t,l=K5(KN,t.__scopeMenu),c=a===l.value;return e.jsx(qN,{scope:t.__scopeMenu,checked:c,children:e.jsx(Gd,{role:"menuitemradio","aria-checked":c,...o,ref:n,"data-state":sp(c),onSelect:le(o.onSelect,()=>{var m;return(m=l.onValueChange)==null?void 0:m.call(l,a)},{checkForDefaultPrevented:!1})})})});YN.displayName=KN;var np="MenuItemIndicator",[qN,Y5]=Aa(np,{checked:!1}),QN=d.forwardRef((t,n)=>{const{__scopeMenu:a,forceMount:o,...l}=t,c=Y5(np,a);return e.jsx(Hr,{present:o||cd(c.checked)||c.checked===!0,children:e.jsx(Ne.span,{...l,ref:n,"data-state":sp(c.checked)})})});QN.displayName=np;var q5="MenuSeparator",XN=d.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});XN.displayName=q5;var Q5="MenuArrow",JN=d.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t,l=Wd(a);return e.jsx(Ch,{...l,...o,ref:n})});JN.displayName=Q5;var X5="MenuSub",[xM,ZN]=Aa(X5),zi="MenuSubTrigger",e1=d.forwardRef((t,n)=>{const a=Ta(zi,t.__scopeMenu),o=yl(zi,t.__scopeMenu),l=ZN(zi,t.__scopeMenu),c=ep(zi,t.__scopeMenu),m=d.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:x}=c,p={__scopeMenu:t.__scopeMenu},y=d.useCallback(()=>{m.current&&window.clearTimeout(m.current),m.current=null},[]);return d.useEffect(()=>y,[y]),d.useEffect(()=>{const w=f.current;return()=>{window.clearTimeout(w),x(null)}},[f,x]),e.jsx(Jh,{asChild:!0,...p,children:e.jsx(VN,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":l.contentId,"data-state":n1(a.open),...t,ref:dd(n,l.onTriggerChange),onClick:w=>{var v;(v=t.onClick)==null||v.call(t,w),!(t.disabled||w.defaultPrevented)&&(w.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:le(t.onPointerMove,tl(w=>{c.onItemEnter(w),!w.defaultPrevented&&!t.disabled&&!a.open&&!m.current&&(c.onPointerGraceIntentChange(null),m.current=window.setTimeout(()=>{a.onOpenChange(!0),y()},100))})),onPointerLeave:le(t.onPointerLeave,tl(w=>{var S,N;y();const v=(S=a.content)==null?void 0:S.getBoundingClientRect();if(v){const b=(N=a.content)==null?void 0:N.dataset.side,j=b==="right",C=j?-5:5,k=v[j?"left":"right"],P=v[j?"right":"left"];c.onPointerGraceIntentChange({area:[{x:w.clientX+C,y:w.clientY},{x:k,y:v.top},{x:P,y:v.top},{x:P,y:v.bottom},{x:k,y:v.bottom}],side:b}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(w),w.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:le(t.onKeyDown,w=>{var S;const v=c.searchRef.current!=="";t.disabled||v&&w.key===" "||D5[o.dir].includes(w.key)&&(a.onOpenChange(!0),(S=a.content)==null||S.focus(),w.preventDefault())})})})});e1.displayName=zi;var t1="MenuSubContent",r1=d.forwardRef((t,n)=>{const a=$N(Ur,t.__scopeMenu),{forceMount:o=a.forceMount,...l}=t,c=Ta(Ur,t.__scopeMenu),m=yl(Ur,t.__scopeMenu),f=ZN(t1,t.__scopeMenu),x=d.useRef(null),p=We(n,x);return e.jsx(el.Provider,{scope:t.__scopeMenu,children:e.jsx(Hr,{present:o||c.open,children:e.jsx(el.Slot,{scope:t.__scopeMenu,children:e.jsx(tp,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:p,align:"start",side:m.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var w;m.isUsingKeyboardRef.current&&((w=x.current)==null||w.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:le(t.onFocusOutside,y=>{y.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:le(t.onEscapeKeyDown,y=>{m.onClose(),y.preventDefault()}),onKeyDown:le(t.onKeyDown,y=>{var S;const w=y.currentTarget.contains(y.target),v=M5[m.dir].includes(y.key);w&&v&&(c.onOpenChange(!1),(S=f.trigger)==null||S.focus(),y.preventDefault())})})})})})});r1.displayName=t1;function n1(t){return t?"open":"closed"}function cd(t){return t==="indeterminate"}function sp(t){return cd(t)?"indeterminate":t?"checked":"unchecked"}function J5(t){const n=document.activeElement;for(const a of t)if(a===n||(a.focus(),document.activeElement!==n))return}function Z5(t,n){return t.map((a,o)=>t[(n+o)%t.length])}function eD(t,n,a){const l=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,c=a?t.indexOf(a):-1;let m=Z5(t,Math.max(c,0));l.length===1&&(m=m.filter(p=>p!==a));const x=m.find(p=>p.toLowerCase().startsWith(l.toLowerCase()));return x!==a?x:void 0}function tD(t,n){const{x:a,y:o}=t;let l=!1;for(let c=0,m=n.length-1;c<n.length;m=c++){const f=n[c].x,x=n[c].y,p=n[m].x,y=n[m].y;x>o!=y>o&&a<(p-f)*(o-x)/(y-x)+f&&(l=!l)}return l}function rD(t,n){if(!n)return!1;const a={x:t.clientX,y:t.clientY};return tD(a,n)}function tl(t){return n=>n.pointerType==="mouse"?t(n):void 0}var nD=FN,sD=Jh,aD=BN,oD=zN,iD=rp,lD=UN,cD=Gd,dD=HN,uD=GN,fD=YN,mD=QN,hD=XN,pD=JN,xD=e1,gD=r1,ap="DropdownMenu",[vD,gM]=dr(ap,[ON]),ur=ON(),[yD,s1]=vD(ap),a1=t=>{const{__scopeDropdownMenu:n,children:a,dir:o,open:l,defaultOpen:c,onOpenChange:m,modal:f=!0}=t,x=ur(n),p=d.useRef(null),[y=!1,w]=Vr({prop:l,defaultProp:c,onChange:m});return e.jsx(yD,{scope:n,triggerId:br(),triggerRef:p,contentId:br(),open:y,onOpenChange:w,onOpenToggle:d.useCallback(()=>w(v=>!v),[w]),modal:f,children:e.jsx(nD,{...x,open:y,onOpenChange:w,dir:o,modal:f,children:a})})};a1.displayName=ap;var o1="DropdownMenuTrigger",i1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,disabled:o=!1,...l}=t,c=s1(o1,a),m=ur(a);return e.jsx(sD,{asChild:!0,...m,children:e.jsx(Ne.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...l,ref:dd(n,c.triggerRef),onPointerDown:le(t.onPointerDown,f=>{!o&&f.button===0&&f.ctrlKey===!1&&(c.onOpenToggle(),c.open||f.preventDefault())}),onKeyDown:le(t.onKeyDown,f=>{o||(["Enter"," "].includes(f.key)&&c.onOpenToggle(),f.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});i1.displayName=o1;var wD="DropdownMenuPortal",l1=t=>{const{__scopeDropdownMenu:n,...a}=t,o=ur(n);return e.jsx(aD,{...o,...a})};l1.displayName=wD;var c1="DropdownMenuContent",d1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=s1(c1,a),c=ur(a),m=d.useRef(!1);return e.jsx(oD,{id:l.contentId,"aria-labelledby":l.triggerId,...c,...o,ref:n,onCloseAutoFocus:le(t.onCloseAutoFocus,f=>{var x;m.current||(x=l.triggerRef.current)==null||x.focus(),m.current=!1,f.preventDefault()}),onInteractOutside:le(t.onInteractOutside,f=>{const x=f.detail.originalEvent,p=x.button===0&&x.ctrlKey===!0,y=x.button===2||p;(!l.modal||y)&&(m.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});d1.displayName=c1;var bD="DropdownMenuGroup",jD=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(iD,{...l,...o,ref:n})});jD.displayName=bD;var ND="DropdownMenuLabel",u1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(lD,{...l,...o,ref:n})});u1.displayName=ND;var SD="DropdownMenuItem",f1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(cD,{...l,...o,ref:n})});f1.displayName=SD;var CD="DropdownMenuCheckboxItem",m1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(dD,{...l,...o,ref:n})});m1.displayName=CD;var kD="DropdownMenuRadioGroup",ED=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(uD,{...l,...o,ref:n})});ED.displayName=kD;var PD="DropdownMenuRadioItem",h1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(fD,{...l,...o,ref:n})});h1.displayName=PD;var RD="DropdownMenuItemIndicator",p1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(mD,{...l,...o,ref:n})});p1.displayName=RD;var AD="DropdownMenuSeparator",x1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(hD,{...l,...o,ref:n})});x1.displayName=AD;var TD="DropdownMenuArrow",DD=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(pD,{...l,...o,ref:n})});DD.displayName=TD;var MD="DropdownMenuSubTrigger",g1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(xD,{...l,...o,ref:n})});g1.displayName=MD;var ID="DropdownMenuSubContent",v1=d.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,l=ur(a);return e.jsx(gD,{...l,...o,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});v1.displayName=ID;var LD=a1,OD=i1,_D=l1,y1=d1,w1=u1,b1=f1,j1=m1,N1=h1,S1=p1,C1=x1,k1=g1,E1=v1;const dm=LD,um=OD,FD=d.forwardRef(({className:t,inset:n,children:a,...o},l)=>e.jsxs(k1,{ref:l,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",t),...o,children:[a,e.jsx(qy,{className:"ml-auto h-4 w-4"})]}));FD.displayName=k1.displayName;const $D=d.forwardRef(({className:t,...n},a)=>e.jsx(E1,{ref:a,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));$D.displayName=E1.displayName;const qc=d.forwardRef(({className:t,sideOffset:n=4,...a},o)=>e.jsx(_D,{children:e.jsx(y1,{ref:o,sideOffset:n,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));qc.displayName=y1.displayName;const rn=d.forwardRef(({className:t,inset:n,...a},o)=>e.jsx(b1,{ref:o,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",t),...a}));rn.displayName=b1.displayName;const eh=d.forwardRef(({className:t,children:n,checked:a,...o},l)=>e.jsxs(j1,{ref:l,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(S1,{children:e.jsx(lh,{className:"h-4 w-4"})})}),n]}));eh.displayName=j1.displayName;const BD=d.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(N1,{ref:o,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(S1,{children:e.jsx(Qy,{className:"h-2 w-2 fill-current"})})}),n]}));BD.displayName=N1.displayName;const th=d.forwardRef(({className:t,inset:n,...a},o)=>e.jsx(w1,{ref:o,className:Me("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",t),...a}));th.displayName=w1.displayName;const Ui=d.forwardRef(({className:t,...n},a)=>e.jsx(C1,{ref:a,className:Me("-mx-1 my-1 h-px bg-muted",t),...n}));Ui.displayName=C1.displayName;function zD(){var Sl,Cl;const{user:t,logout:n}=Lt(),a=jr(),[o,l]=d.useState("overview"),[c,m]=d.useState(!0),[f,x]=d.useState({totalBooks:0,totalLoans:0,overdueLoans:0,pendingReservations:0,totalFines:0,systemStatus:"healthy"}),[p,y]=d.useState([]),[w,v]=d.useState([]),[S,N]=d.useState([]),[b,j]=d.useState([]),[C,k]=d.useState([]),[P,A]=d.useState(Date.now()),[T,L]=d.useState(""),[D,$]=d.useState(""),[X,V]=d.useState({userId:"",bookId:"",loanDays:14}),[ne,Z]=d.useState({userId:"",bookId:"",loanDays:""}),[he,q]=d.useState(new Set(["available","low-stock","out-of-stock"])),[Q,te]=d.useState(new Set),[xe,F]=d.useState(new Set(["has-copies","all-on-loan"])),[U,re]=d.useState(new Set),[M,H]=d.useState({}),[fe,be]=d.useState(null),[ke,ve]=d.useState(!1),[me,je]=d.useState([]),[Ee,Oe]=d.useState([]),[Qe,qe]=d.useState(!1),[Y,Fe]=d.useState(!1),[He,J]=d.useState(null),[Ae,Je]=d.useState({title:"",message:"",type:"general"}),[ze,ct]=d.useState(!1),[rt,gt]=d.useState("all"),[Tt,Wr]=d.useState(null),[kn,fr]=d.useState(!1),[W,Ie]=d.useState(null),[Ke,vt]=d.useState("add"),[En,Qn]=d.useState(!1),[dn,Pn]=d.useState(null),{toast:Ot}=yy(),[mr,Xn]=d.useState(!1),[Ge,dt]=d.useState({}),[ot,$t]=d.useState(null),[Dt,un]=d.useState(!1),[Da,Ma]=d.useState(!1),[Jn,Ia]=d.useState(null),[La,Zn]=d.useState([]),[Gs,Oa]=d.useState(!1);d.useEffect(()=>{if(!t||!["librarian","admin"].includes(t.role)){a("/");return}Gr()},[t,a]);const Gr=async()=>{m(!0);try{const R=localStorage.getItem("token")||sessionStorage.getItem("token");if(!R){a("/");return}const ee=await fetch("/api/librarian/dashboard",{headers:{Authorization:`Bearer ${R}`}});if(ee.ok){const se=await ee.json();x(se)}await Kr(),await Rn(),await Ks(),await es()}catch(R){console.error("Error loading dashboard data:",R)}finally{m(!1)}},Kr=async()=>{try{const R=localStorage.getItem("token")||sessionStorage.getItem("token");if(!R)return;const ee=await fetch("/api/librarian/books?limit=50",{headers:{Authorization:`Bearer ${R}`}});if(ee.ok){const se=await ee.json();y(se.books),A(Date.now());const Re=new Set;se.books.forEach(Ce=>{Ce.genre&&Re.add(Ce.genre)}),re(Re),te(new Set(Re))}}catch(R){console.error("Error loading books:",R)}},Rn=async()=>{try{const R=localStorage.getItem("token")||sessionStorage.getItem("token"),ee=await fetch("/api/librarian/loans?limit=50",{headers:{Authorization:`Bearer ${R}`}});if(ee.ok){const se=await ee.json();v(se.loans)}}catch(R){console.error("Error loading loans:",R)}},Ks=async()=>{try{const R=localStorage.getItem("token")||sessionStorage.getItem("token"),ee=await fetch("/api/librarian/overdue",{headers:{Authorization:`Bearer ${R}`}});if(ee.ok){const se=await ee.json();N(se)}}catch(R){console.error("Error loading overdue books:",R)}},es=async()=>{try{const R=localStorage.getItem("token")||sessionStorage.getItem("token"),ee=await fetch("/api/librarian/reservations",{headers:{Authorization:`Bearer ${R}`}});if(ee.ok){const se=await ee.json();j(se);const Re=se.filter(nt=>nt.status==="pending"),Ce=p.filter(nt=>nt.availableCopies>0),at=Re.filter(nt=>Ce.some(zt=>zt.id===nt.bookId._id));if(at.length>0&&confirm(`Found ${at.length} pending reservation(s) for books that are now available.

Would you like to automatically mark them as ready for pickup?`))for(const zt of at)await Qs(zt._id,"ready","Automatically marked as ready - book now available")}}catch(R){console.error("Error loading reservations:",R)}},ti=async()=>{if(D.trim())try{const R=localStorage.getItem("token")||sessionStorage.getItem("token"),ee=await fetch(`/api/librarian/users/search?q=${encodeURIComponent(D)}`,{headers:{Authorization:`Bearer ${R}`}});if(ee.ok){const se=await ee.json();k(se)}}catch(R){console.error("Error searching users:",R)}},Yd=()=>{const R={userId:"",bookId:"",loanDays:""};return X.userId.trim()||(R.userId="Student ID is required"),X.bookId.trim()||(R.bookId="Book ID is required"),(!X.loanDays||X.loanDays<1||X.loanDays>30)&&(R.loanDays="Loan period must be between 1 and 30 days"),Z(R),!R.userId&&!R.bookId&&!R.loanDays},qd=async()=>{if(Yd())try{const R=localStorage.getItem("token")||sessionStorage.getItem("token"),ee=await fetch("/api/librarian/loans/issue",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify(X)});if(ee.ok)Ot({title:"Success",description:"Book issued successfully!"}),V({userId:"",bookId:"",loanDays:14}),Z({userId:"",bookId:"",loanDays:""}),await Promise.all([Rn(),Kr(),Gr()]);else{const se=await ee.json();Ot({variant:"destructive",title:"Error",description:se.message||"Failed to issue book"})}}catch(R){console.error("Error issuing book:",R),Ot({variant:"destructive",title:"Error",description:"Error issuing book"})}},wl=async R=>{try{const ee=localStorage.getItem("token")||sessionStorage.getItem("token"),se=await fetch("/api/librarian/loans/return",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({loanId:R})});if(se.ok){const Re=await se.json();Re.fine?Ot({title:"Book Returned",description:`Book returned successfully! Fine of $${Re.fine.toFixed(2)} has been applied for overdue.`}):Ot({title:"Success",description:"Book returned successfully!"}),await Promise.all([Rn(),Kr(),Ks(),Gr()])}else{const Re=await se.json();Ot({variant:"destructive",title:"Error",description:Re.message||"Failed to return book"})}}catch(ee){console.error("Error returning book:",ee),Ot({variant:"destructive",title:"Error",description:"Error returning book"})}},Yr=R=>{q(ee=>{const se=new Set(ee);return se.has(R)?se.delete(R):se.add(R),se})},bl=R=>{te(ee=>{const se=new Set(ee);return se.has(R)?se.delete(R):se.add(R),se})},ri=R=>{F(ee=>{const se=new Set(ee);return se.has(R)?se.delete(R):se.add(R),se})},ni=p.filter(R=>!(Q.size>0&&!Q.has(R.genre))),Ys=ni.filter(R=>{if(xe.size>0){const ee=R.availableCopies>0,se=R.availableCopies===0&&R.currentLoans>0;if(!(xe.has("has-copies")&&ee||xe.has("all-on-loan")&&se))return!1}return!0}),_a=Ys.filter(R=>he.has(R.status)),Fa=R=>{switch(R){case"healthy":case"active":case"available":case"returned":return"bg-green-100 text-green-800";case"warning":case"low-stock":case"overdue":return"bg-yellow-100 text-yellow-800";case"error":case"out-of-stock":case"lost":case"damaged":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},qs=async R=>{ve(!0);try{const ee=localStorage.getItem("token")||sessionStorage.getItem("token"),se=await fetch(`/api/librarian/inventory-audits?bookId=${R}`,{headers:{Authorization:`Bearer ${ee}`}});if(se.ok){const Re=await se.json();H(Ce=>({...Ce,[R]:Re.audits}))}else{const Re=await se.json();alert(`Error fetching audit history: ${Re.message}`)}}catch(ee){console.error("Error fetching audit history:",ee),alert("Error fetching audit history")}finally{ve(!1)}},Qd=async R=>{const ee=prompt(`Enter actual count for "${R.title}":
Expected: ${R.totalCopies}
Currently Available: ${R.availableCopies}
On Loan: ${R.currentLoans}

Enter the actual count found:`,`${R.availableCopies+R.currentLoans}`);if(ee===null)return;const se=parseInt(ee);if(isNaN(se)||se<0){alert("Please enter a valid number");return}const Re=prompt("Enter any notes about this audit (optional):","");be(R.id),ve(!0);try{const Ce=localStorage.getItem("token")||sessionStorage.getItem("token"),at=await fetch("/api/librarian/inventory-audits",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ce}`},body:JSON.stringify({bookId:R.id,expectedCount:R.totalCopies,actualCount:se,notes:Re||""})});if(at.ok){const nt=await at.json();await qs(R.id),await Kr();const zt=nt.quantitiesUpdated?`

✅ Book quantities updated in real-time!`:`

📊 No quantity changes needed (counts match).`;alert(`Audit logged successfully!
Expected: ${R.totalCopies}
Actual: ${se}
Discrepancy: ${nt.audit.discrepancy}
Status: ${nt.audit.status}${zt}`)}else{const nt=await at.json();alert(`Failed to log audit: ${nt.message}`)}}catch(Ce){console.error("Error logging audit:",Ce),alert("Error logging audit")}finally{be(null),ve(!1)}},Xd=async(R,ee)=>{const se=prompt("Enter resolution notes (optional):","");try{const Re=localStorage.getItem("token")||sessionStorage.getItem("token"),Ce=await fetch(`/api/librarian/inventory-audits/${R}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Re}`},body:JSON.stringify({resolved:!0,notes:se||""})});if(Ce.ok){const at=await Ce.json();await qs(ee),await Kr();const nt=at.currentBookState,zt=nt?`

Current Book State:
Total Copies: ${nt.totalCopies}
Available: ${nt.availableCopies}
On Loan: ${nt.activeLoans}`:"";alert(`Audit resolved and confirmed successfully!${zt}`)}else{const at=await Ce.json();alert(`Failed to resolve audit: ${at.message}`)}}catch(Re){console.error("Error resolving audit:",Re),alert("Error resolving audit")}},Pt=()=>{dt({}),$t(null),Xn(!0)},Jd=(R,ee)=>{dt(se=>({...se,[R]:ee}))},si=async()=>{un(!0);const R=p.filter(Ce=>Ce.status==="low-stock"||Ce.status==="out-of-stock");let ee=0,se=0,Re=[];for(const Ce of R){const at=Ge[Ce.id];if(at===void 0||at.trim()===""){Re.push({book:Ce,status:"error",message:"Skipped (no input)"}),se++;continue}const nt=parseInt(at);if(isNaN(nt)||nt<0){Re.push({book:Ce,status:"error",message:"Invalid number"}),se++;continue}try{const zt=localStorage.getItem("token")||sessionStorage.getItem("token");(await fetch("/api/librarian/inventory-audits",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${zt}`},body:JSON.stringify({bookId:Ce.id,expectedCount:Ce.totalCopies,actualCount:nt,notes:"Bulk audit"})})).ok?(ee++,Re.push({book:Ce,status:"success",message:"Audit logged"})):(se++,Re.push({book:Ce,status:"error",message:"API error"}))}catch{se++,Re.push({book:Ce,status:"error",message:"Network error"})}}$t({success:ee,error:se,details:Re}),un(!1);for(const Ce of R)await qs(Ce.id)},jl=async()=>{qe(!0);try{const R=localStorage.getItem("token")||sessionStorage.getItem("token"),ee=await fetch("/api/librarian/fines?limit=5",{headers:{Authorization:`Bearer ${R}`}});if(ee.ok){const Re=await ee.json();je(Re.fines||[])}const se=await fetch("/api/librarian/loans?limit=5",{headers:{Authorization:`Bearer ${R}`}});if(se.ok){const Re=await se.json();Oe(Re.loans||[])}}finally{qe(!1)}};d.useEffect(()=>{o==="reports"&&jl()},[o]);const $a=async()=>{if(He){ct(!0);try{const R=localStorage.getItem("token")||sessionStorage.getItem("token");(await fetch("/api/librarian/notifications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({userId:He._id,type:Ae.type,title:Ae.title,message:Ae.message})})).ok?(alert("Notification sent!"),Fe(!1),Je({title:"",message:"",type:"general"})):alert("Failed to send notification.")}finally{ct(!1)}}},Qs=async(R,ee,se)=>{Wr(R);try{const Re=localStorage.getItem("token")||sessionStorage.getItem("token"),Ce=await fetch(`/api/librarian/reservations/${R}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Re}`},body:JSON.stringify({status:ee,notes:se})});if(Ce.ok){const at=await Ce.json();alert(`Reservation status updated to ${ee}
${at.message}`),es(),Gr(),Kr()}else{const at=await Ce.json();alert(`Error: ${at.message}`)}}catch(Re){console.error("Error updating reservation:",Re),alert("Error updating reservation status")}finally{Wr(null)}},Nl=async R=>{try{const ee=localStorage.getItem("token")||sessionStorage.getItem("token"),se=await fetch("/api/librarian/notifications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({userId:R.userId._id,type:"overdue",title:"Overdue Book Reminder",message:`Your book "${R.bookId.title}" is ${R.overdueDays} days overdue. Please return it as soon as possible to avoid additional fines.`})});if(se.ok)alert("Overdue reminder sent successfully!");else{const Re=await se.json();alert(`Error: ${Re.message}`)}}catch(ee){console.error("Error sending overdue reminder:",ee),alert("Error sending reminder")}},Ba=async R=>{const ee=localStorage.getItem("token")||sessionStorage.getItem("token");if(ee)try{let se={...R};Ke==="edit"&&(W!=null&&W.coverImage)&&!R.coverImage&&(se.coverImage=W.coverImage);const Re=Ke==="add"?"/api/librarian/books":`/api/librarian/books/${W==null?void 0:W.id}`,at=await fetch(Re,{method:Ke==="add"?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify(se)});if(at.ok){const nt=await at.json();Ot({title:"Success",description:Ke==="add"?"Book added successfully!":"Book updated successfully!"}),fr(!1),Ie(null),await Promise.all([Gr(),Kr()]),A(Date.now()),dn&&Ke==="edit"&&dn.id===(W==null?void 0:W.id)&&Pn({...dn,...nt.book})}else{const nt=await at.json();nt.message&&nt.message.includes("reservation")?Ot({variant:"destructive",title:"Error",description:`${nt.message}

Please handle all reservations before making this change.`}):Ot({variant:"destructive",title:"Error",description:nt.message||"Failed to save book"})}}catch(se){console.error("Error saving book:",se),Ot({variant:"destructive",title:"Error",description:"An error occurred while saving the book"})}},Mr=()=>{Ie(null),vt("add"),fr(!0)},Zd=R=>{Ie(R),vt("edit"),fr(!0)},Nr=R=>{Pn(R),Qn(!0)},eu=async R=>{Oa(!0);try{const ee=localStorage.getItem("token")||sessionStorage.getItem("token"),se=await fetch(`/api/librarian/users/${R}/activity`,{headers:{Authorization:`Bearer ${ee}`}});if(se.ok){const Re=await se.json();Zn(Re.activity||[])}else Zn([])}catch{Zn([])}finally{Oa(!1)}};return!t||!["librarian","admin"].includes(t.role)?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Xe,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsx(B,{onClick:()=>a("/"),children:"Go to Homepage"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Librarian Dashboard"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(B,{variant:"outline",onClick:()=>a("/"),className:"flex items-center gap-2",children:[e.jsx(il,{className:"w-4 h-4"}),"Back to Library"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Welcome, ",e.jsx("span",{className:"font-semibold",children:t.name})]}),e.jsx(B,{onClick:n,variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:"Logout"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(xl,{value:o,onValueChange:l,children:[e.jsxs(Zo,{className:"grid w-full grid-cols-9",children:[e.jsxs(ft,{value:"overview",className:"flex items-center gap-1",children:[e.jsx(dh,{className:"w-3 h-3"}),"Overview"]}),e.jsxs(ft,{value:"books",className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),"Books"]}),e.jsxs(ft,{value:"loans",className:"flex items-center gap-1",children:[e.jsx(ca,{className:"w-3 h-3"}),"Loans"]}),e.jsxs(ft,{value:"overdue",className:"flex items-center gap-1",children:[e.jsx(ir,{className:"w-3 h-3"}),"Overdue"]}),e.jsxs(ft,{value:"reservations",className:"flex items-center gap-1",children:[e.jsx(As,{className:"w-3 h-3"}),"Reservations"]}),e.jsxs(ft,{value:"users",className:"flex items-center gap-1",children:[e.jsx(zr,{className:"w-3 h-3"}),"Users"]}),e.jsxs(ft,{value:"inventory",className:"flex items-center gap-1",children:[e.jsx($i,{className:"w-3 h-3"}),"Inventory"]}),e.jsxs(ft,{value:"reports",className:"flex items-center gap-1",children:[e.jsx(Xy,{className:"w-3 h-3"}),"Reports"]}),e.jsxs(ft,{value:"communication",className:"flex items-center gap-1",children:[e.jsx(Ss,{className:"w-3 h-3"}),"Messages"]})]}),e.jsx(mt,{value:"overview",className:"space-y-6",children:c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(lr,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Books"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.totalBooks})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ca,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Loans"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.totalLoans})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ir,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Array.isArray(S)?S.filter(R=>{if(!R.dueDate||!R.userId||!R.bookId)return!1;const ee=new Date(R.dueDate),se=new Date;return(R.status==="active"||R.status==="overdue")&&ee<se}).length:0})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(As,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reservations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.pendingReservations})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(No,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding Fines"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₱",(Sl=f.totalFines)!=null&&Sl.toFixed?f.totalFines.toFixed(2):"0.00"]})]})]})})})]}),e.jsxs(de,{children:[e.jsx($e,{children:e.jsx(Be,{children:"Quick Actions"})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(B,{onClick:()=>l("loans"),className:"flex items-center gap-2",children:[e.jsx(Uf,{className:"w-4 h-4"}),"Issue Book"]}),e.jsxs(B,{onClick:()=>l("overdue"),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ir,{className:"w-4 h-4"}),"View Overdue"]}),e.jsxs(B,{onClick:()=>l("users"),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Vn,{className:"w-4 h-4"}),"Find User"]}),e.jsxs(B,{onClick:()=>l("books"),variant:"outline",className:"flex items-center gap-2",children:[e.jsx($i,{className:"w-4 h-4"}),"Manage Books"]})]})})]})]})}),e.jsxs(mt,{value:"books",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Book Management"}),e.jsxs("p",{className:"text-gray-600",children:["Manage library inventory (",_a.length," of ",p.length," books shown)"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ze,{placeholder:"Search books...",value:T,onChange:R=>L(R.target.value),className:"w-64"}),e.jsx(B,{onClick:Kr,children:"Search"}),e.jsxs(B,{onClick:Mr,className:"flex items-center gap-2",children:[e.jsx(wo,{className:"w-4 h-4"}),"Add Book"]})]})]}),e.jsx(de,{children:e.jsx(ue,{className:"py-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(da,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(B,{variant:he.has("available")?"default":"outline",size:"sm",onClick:()=>Yr("available"),className:"flex items-center gap-1",children:[e.jsx(bn,{className:"w-3 h-3"}),"Available",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:Ys.filter(R=>R.status==="available").length})]}),e.jsxs(B,{variant:he.has("low-stock")?"default":"outline",size:"sm",onClick:()=>Yr("low-stock"),className:"flex items-center gap-1",children:[e.jsx(hd,{className:"w-3 h-3"}),"Low Stock",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:Ys.filter(R=>R.status==="low-stock").length})]}),e.jsxs(B,{variant:he.has("out-of-stock")?"default":"outline",size:"sm",onClick:()=>Yr("out-of-stock"),className:"flex items-center gap-1",children:[e.jsx(xa,{className:"w-3 h-3"}),"Out of Stock",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:Ys.filter(R=>R.status==="out-of-stock").length})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t0,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Genre:"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(dm,{children:[e.jsx(um,{asChild:!0,children:e.jsxs(B,{variant:"outline",className:"flex items-center gap-2 min-w-[200px] justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pC,{className:"w-4 h-4"}),e.jsx("span",{children:Q.size===0?"No genres selected":Q.size===U.size?"All genres":Q.size===1?Array.from(Q)[0]:`${Q.size} genres selected`})]}),e.jsx(pa,{className:"w-4 h-4 opacity-50"})]})}),e.jsxs(qc,{className:"w-56 max-h-72 overflow-y-auto",children:[e.jsx(th,{children:"Select Genres"}),e.jsx(Ui,{}),e.jsxs(eh,{checked:Q.size===U.size,onCheckedChange:R=>{te(R?new Set(U):new Set)},className:"font-medium",children:["All Genres",e.jsx(we,{variant:"secondary",className:"ml-auto",children:p.length})]}),e.jsx(Ui,{}),Array.from(U).sort().map(R=>e.jsxs(eh,{checked:Q.has(R),onCheckedChange:()=>bl(R),children:[R,e.jsx(we,{variant:"secondary",className:"ml-auto",children:p.filter(ee=>ee.genre===R).length})]},R))]})]})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($i,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Availability:"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(B,{variant:xe.has("has-copies")?"default":"outline",size:"sm",onClick:()=>ri("has-copies"),className:"flex items-center gap-1",children:[e.jsx(bn,{className:"w-3 h-3"}),"Has Copies",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:ni.filter(R=>R.availableCopies>0).length})]}),e.jsxs(B,{variant:xe.has("all-on-loan")?"default":"outline",size:"sm",onClick:()=>ri("all-on-loan"),className:"flex items-center gap-1",children:[e.jsx(ca,{className:"w-3 h-3"}),"All On Loan",e.jsx(we,{variant:"secondary",className:"ml-1 text-xs",children:ni.filter(R=>R.availableCopies===0&&R.currentLoans>0).length})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[e.jsx(B,{variant:"outline",size:"sm",onClick:()=>{q(new Set(["available","low-stock","out-of-stock"])),te(new Set(Array.from(U))),F(new Set(["has-copies","all-on-loan"]))},className:"text-xs",children:"Show All"}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>{q(new Set),te(new Set),F(new Set)},className:"text-xs",children:"Clear All Filters"})]})]})})}),e.jsx(de,{children:e.jsxs(ue,{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:_a.map(R=>{var ee;return e.jsx("div",{className:"group relative bg-white border border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all duration-200 hover:border-blue-300",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"w-20 h-28 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg shadow-md overflow-hidden border-2 border-gray-100 group-hover:border-blue-200 transition-colors",children:[R.coverImage?e.jsx("img",{src:`${R.coverImage}${R.coverImage.includes("?")?"&":"?"}t=${P}`,alt:R.title,className:"w-full h-full object-cover",onError:se=>{var Re;se.currentTarget.style.display="none",(Re=se.currentTarget.nextElementSibling)==null||Re.classList.remove("hidden")}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(Xe,{className:"w-8 h-8 text-gray-400"})}),!R.coverImage&&e.jsx("div",{className:"hidden w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(Xe,{className:"w-8 h-8 text-gray-400"})})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg leading-tight mb-1 group-hover:text-blue-600 transition-colors",children:R.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["by ",R.author]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.jsx(we,{className:`${Fa(R.status)} text-xs`,children:(ee=R.status)==null?void 0:ee.replace("-"," ")}),e.jsx(we,{variant:"outline",className:"text-xs",children:R.genre})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"ISBN:"})," ",R.isbn]}),R.publisher&&e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Publisher:"})," ",R.publisher]}),R.publishedYear&&e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Year:"})," ",R.publishedYear]}),R.location&&e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",R.location]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:R.availableCopies}),e.jsxs("span",{className:"text-gray-500",children:[" of ",R.totalCopies," available"]}),R.currentLoans&&R.currentLoans>0&&e.jsxs("span",{className:"text-blue-600 text-xs block",children:[R.currentLoans," on loan"]})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(B,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",title:"View Details",onClick:()=>Nr(R),children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>Zd(R),className:"h-8 w-8 p-0",title:"Edit Book",children:e.jsx($o,{className:"w-4 h-4"})})]})]})},R.id)})}),_a.length===0&&p.length>0&&e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(da,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No books match your filters"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters to see more books in the library."}),e.jsxs(B,{variant:"outline",onClick:()=>{q(new Set(["available","low-stock","out-of-stock"])),te(new Set(Array.from(U))),F(new Set(["has-copies","all-on-loan"]))},className:"flex items-center gap-2",children:[e.jsx(lr,{className:"w-4 h-4"}),"Reset All Filters"]})]}),p.length===0&&e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(Xe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No books found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search query or load more books."}),e.jsxs(B,{onClick:Kr,className:"flex items-center gap-2",children:[e.jsx(lr,{className:"w-4 h-4"}),"Reload Books"]})]})]})})]}),e.jsxs(mt,{value:"loans",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Uf,{className:"w-5 h-5"}),"Issue New Book to Student"]}),e.jsx(wt,{children:"Complete all required fields to issue a book to a student. All fields are mandatory."})]}),e.jsxs(ue,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"userId",className:"text-sm font-medium flex items-center gap-1",children:[e.jsx(cC,{className:"w-4 h-4"}),"Student ID *"]}),e.jsx(Ze,{id:"userId",placeholder:"e.g., STD-25CS-0714-001 or student@email.com",value:X.userId,onChange:R=>{V({...X,userId:R.target.value}),ne.userId&&Z({...ne,userId:""})},className:ne.userId?"border-red-500":""}),ne.userId&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[e.jsx(ir,{className:"w-3 h-3"}),ne.userId]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(co,{className:"w-3 h-3"}),"Enter the student's ID (e.g., STD-25CS-0714-001) or email"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"bookId",className:"text-sm font-medium flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Book ID *"]}),e.jsx("input",{id:"bookId",type:"text",placeholder:"Enter book title or ISBN",value:X.bookId,onChange:R=>{V({...X,bookId:R.target.value}),ne.bookId&&Z({...ne,bookId:""})},className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm ${ne.bookId?"border-red-500":""}`,disabled:!1}),ne.bookId&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[e.jsx(ir,{className:"w-3 h-3"}),ne.bookId]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(co,{className:"w-3 h-3"}),"Enter the book's title or ISBN"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ye,{htmlFor:"loanDays",className:"text-sm font-medium flex items-center gap-1",children:[e.jsx(Ls,{className:"w-4 h-4"}),"Loan Period (Days) *"]}),e.jsx(Ze,{id:"loanDays",type:"number",min:"1",max:"30",placeholder:"14",value:X.loanDays,onChange:R=>{V({...X,loanDays:parseInt(R.target.value)||14}),ne.loanDays&&Z({...ne,loanDays:""})},className:ne.loanDays?"border-red-500":""}),ne.loanDays&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[e.jsx(ir,{className:"w-3 h-3"}),ne.loanDays]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(co,{className:"w-3 h-3"}),"Standard: 14 days (1-30 days allowed)"]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t",children:[e.jsx(B,{variant:"outline",onClick:()=>{V({userId:"",bookId:"",loanDays:14}),Z({userId:"",bookId:"",loanDays:""})},children:"Clear Form"}),e.jsxs(B,{onClick:qd,className:"flex items-center gap-2",children:[e.jsx(Uf,{className:"w-4 h-4"}),"Issue Book to Student"]})]})]})]}),e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"w-5 h-5"}),"Active Loans"]})}),e.jsx(ue,{children:Array.isArray(w)&&w.filter(R=>R.status==="active").length>0?w.filter(R=>R.status==="active").map(R=>{var ee,se,Re,Ce;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:((ee=R.userId)==null?void 0:ee.name)||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:((se=R.userId)==null?void 0:se.email)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:((Re=R.bookId)==null?void 0:Re.title)||"N/A"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",((Ce=R.bookId)==null?void 0:Ce.author)||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:["Issued: ",R.issueDate?new Date(R.issueDate).toLocaleDateString():"N/A"]}),e.jsxs("p",{className:"text-sm",children:["Due: ",R.dueDate?new Date(R.dueDate).toLocaleDateString():"N/A"]})]}),e.jsx("div",{children:e.jsx(we,{className:Fa(R.status),children:R.status})})]}),e.jsx(B,{onClick:()=>wl(R._id),variant:"outline",size:"sm",children:"Return Book"})]},R._id)}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ca,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No active loans"}),e.jsx("p",{className:"text-sm text-gray-500",children:"All books have been returned or no books are currently on loan."})]})})]})]}),e.jsx(mt,{value:"overdue",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(ir,{className:"w-5 h-5"}),"Overdue Books (",S.filter(R=>{if(!R.dueDate||!R.userId||!R.bookId)return!1;const ee=new Date(R.dueDate),se=new Date;return(R.status==="active"||R.status==="overdue")&&ee<se}).length,")"]})}),e.jsx(ue,{children:Array.isArray(S)&&S.filter(R=>{if(!R.dueDate||!R.userId||!R.bookId)return!1;const ee=new Date(R.dueDate),se=new Date;return(R.status==="active"||R.status==="overdue")&&ee<se}).length>0?S.filter(R=>{if(!R.dueDate||!R.userId||!R.bookId)return!1;const ee=new Date(R.dueDate),se=new Date;return(R.status==="active"||R.status==="overdue")&&ee<se}).map(R=>{var nt,zt,fn,qr;const ee=R.dueDate?new Date(R.dueDate):null,Re=ee?Math.max(0,Math.ceil((new Date().getTime()-ee.getTime())/(1e3*60*60*24))):0,at=Re*.5;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-red-50",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:((nt=R.userId)==null?void 0:nt.name)||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:((zt=R.userId)==null?void 0:zt.email)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:((fn=R.bookId)==null?void 0:fn.title)||"N/A"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",((qr=R.bookId)==null?void 0:qr.author)||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:["Due: ",R.dueDate?new Date(R.dueDate).toLocaleDateString():"N/A"]}),e.jsx("p",{className:"text-sm font-medium text-red-600",children:Re>0?`${Re} days overdue`:"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Potential Fine:"}),e.jsxs("p",{className:"font-medium text-red-600",children:["₱",at.toFixed(2)]})]}),e.jsx("div",{children:e.jsx(we,{className:"bg-red-100 text-red-800",children:"Overdue"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{size:"sm",variant:"outline",onClick:()=>Nl(R),children:"Send Reminder"}),e.jsx(B,{onClick:()=>wl(R._id),size:"sm",children:"Return Book"})]})]},R._id)}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ir,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No overdue books!"}),e.jsx("p",{className:"text-sm text-gray-500",children:"All books are returned on time."})]})})]})}),e.jsx(mt,{value:"users",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(zr,{className:"w-5 h-5"}),"Student Support & Search"]})}),e.jsxs(ue,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx(Ze,{placeholder:"Search users by name or email...",value:D,onChange:R=>$(R.target.value),className:"flex-1"}),e.jsxs(B,{onClick:ti,className:"flex items-center gap-2",children:[e.jsx(Vn,{className:"w-4 h-4"}),"Search"]})]}),e.jsx("div",{className:"space-y-4",children:C.map(R=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Sa,{user:{id:R._id,name:R.name,profilePicture:R.profilePicture},size:"md"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:R.name}),e.jsx("p",{className:"text-sm text-gray-600",children:R.email}),e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-xs",children:R.userId}),R.department&&` • ${R.department}`]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:["Role: ",R.role]}),e.jsx(we,{className:"bg-blue-100 text-blue-800",children:R.role})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:["Active Loans: ",R.activeLoans]}),e.jsxs("p",{className:"text-sm",children:["Overdue: ",R.overdueLoans]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Outstanding Fines:"}),e.jsxs("p",{className:"font-medium text-red-600",children:["₱",R.totalFines.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{size:"sm",variant:"outline",onClick:async()=>{Ia(R),Ma(!0),await eu(R._id)},children:"View History"}),e.jsx(B,{size:"sm",variant:"outline",children:"Send Message"}),e.jsx(B,{size:"sm",onClick:()=>{J(R),Fe(!0)},children:"Send Notification"})]})]},R._id))}),Y&&He&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Send Notification to ",He.name]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(ye,{children:"Type"}),e.jsxs("select",{className:"w-full border rounded px-2 py-1 mt-1",value:Ae.type,onChange:R=>Je(ee=>({...ee,type:R.target.value})),children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"reservation_ready",children:"Reservation Ready"}),e.jsx("option",{value:"fine",children:"Fine"}),e.jsx("option",{value:"book_reminder",children:"Book Reminder"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(ye,{children:"Title"}),e.jsx(Ze,{value:Ae.title,onChange:R=>Je(ee=>({...ee,title:R.target.value})),placeholder:"Notification title"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(ye,{children:"Message"}),e.jsx("textarea",{className:"w-full border rounded px-2 py-1 mt-1",rows:3,value:Ae.message,onChange:R=>Je(ee=>({...ee,message:R.target.value})),placeholder:"Notification message"})]}),e.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[e.jsx(B,{variant:"outline",onClick:()=>Fe(!1),disabled:ze,children:"Cancel"}),e.jsx(B,{onClick:$a,disabled:ze||!Ae.title||!Ae.message,children:ze?"Sending...":"Send"})]})]})})]})]})}),e.jsx(mt,{value:"inventory",className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsxs(Be,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Inventory Checking & Audit"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(B,{variant:"outline",onClick:Pt,className:"flex items-center gap-2",children:[e.jsx($i,{className:"w-4 h-4"}),"Bulk Audit"]}),e.jsxs(B,{variant:"outline",onClick:()=>{const R=p.filter(ee=>ee.status==="low-stock"||ee.status==="out-of-stock").length;alert(`Inventory Summary:
Total Books: ${p.length}
Low Stock: ${p.filter(ee=>ee.status==="low-stock").length}
Out of Stock: ${p.filter(ee=>ee.status==="out-of-stock").length}
Books Needing Audit: ${R}`)},children:[e.jsx(co,{className:"w-4 h-4"}),"Summary"]})]})]}),e.jsx(wt,{children:"View all books, check stock, and log inventory audits. Use bulk audit for low stock books."})]}),e.jsxs(ue,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Author"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Total"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Available"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"On Loan"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Audit"})]})}),e.jsx("tbody",{children:p.map(R=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-4 py-2",children:R.title}),e.jsx("td",{className:"px-4 py-2",children:R.author}),e.jsx("td",{className:"px-4 py-2",children:R.totalCopies}),e.jsx("td",{className:"px-4 py-2",children:R.availableCopies}),e.jsx("td",{className:"px-4 py-2",children:R.currentLoans}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 rounded ${Fa(R.status)}`,children:R.status})}),e.jsxs("td",{className:"px-4 py-2",children:[e.jsx(B,{size:"sm",onClick:()=>Qd(R),disabled:ke&&fe===R.id,children:ke&&fe===R.id?"Auditing...":"Audit"}),e.jsxs(Gf,{children:[e.jsx(Kf,{asChild:!0,children:e.jsx(B,{size:"sm",variant:"outline",className:"ml-2",onClick:async()=>{const ee=localStorage.getItem("token")||sessionStorage.getItem("token"),se=await fetch(`/api/librarian/inventory-audits?bookId=${R.id}`,{headers:{Authorization:`Bearer ${ee}`}});if(se.ok){const Re=await se.json();H(Ce=>({...Ce,[R.id]:Re.audits})),!Re.audits||Re.audits.length===0?Ot({title:"No Audit History",description:`No audit history found for '${R.title}'.`}):Ot({title:"Audit History Loaded",description:`Showing audit history for '${R.title}'.`})}else Ot({title:"Error",description:`Failed to fetch audit history for '${R.title}'.`})},children:"History"})}),e.jsx(Yc,{children:"Show audit history for this book"})]})]})]},R.id))})]})}),Object.entries(M).map(([R,ee])=>{const se=p.find(Ce=>Ce.id===R),Re=ke&&fe===R;return e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:["Audit History for: ",(se==null?void 0:se.title)||`Book ID: ${R}`]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Gf,{children:[e.jsx(Kf,{asChild:!0,children:e.jsxs(B,{size:"sm",variant:"outline",onClick:async()=>{await qs(R),Ot({title:"Audit History Refreshed",description:`Audit history for '${(se==null?void 0:se.title)||R}' has been refreshed.`})},disabled:Re,children:[Re?e.jsx(lr,{className:"w-4 h-4 mr-1 animate-spin"}):e.jsx(lr,{className:"w-4 h-4 mr-1"})," Refresh"]})}),e.jsx(Yc,{children:"Refresh audit history"})]}),e.jsxs(Gf,{children:[e.jsx(Kf,{asChild:!0,children:e.jsx(B,{size:"sm",variant:"destructive",onClick:()=>{window.confirm("Remove audit history for this book from the UI? This does not delete data from the database.")&&H(Ce=>{const at={...Ce};return delete at[R],at})},children:"Remove from View"})}),e.jsx(Yc,{children:"Remove audit history for this book from view (does not delete data)"})]})]})]}),!ee||ee.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(co,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"No audit history found for this book."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-2 py-1",children:"Date"}),e.jsx("th",{className:"px-2 py-1",children:"Audited By"}),e.jsx("th",{className:"px-2 py-1",children:"Expected"}),e.jsx("th",{className:"px-2 py-1",children:"Actual"}),e.jsx("th",{className:"px-2 py-1",children:"Discrepancy"}),e.jsx("th",{className:"px-2 py-1",children:"Status"}),e.jsx("th",{className:"px-2 py-1",children:"Resolved"}),e.jsx("th",{className:"px-2 py-1",children:"Notes"}),e.jsx("th",{className:"px-2 py-1",children:"Actions"})]})}),e.jsx("tbody",{children:ee.map(Ce=>{var at;return e.jsxs("tr",{className:Ce.resolved?"bg-green-50":"bg-yellow-50",children:[e.jsx("td",{className:"px-2 py-1",children:new Date(Ce.auditDate).toLocaleString()}),e.jsx("td",{className:"px-2 py-1",children:((at=Ce.auditedBy)==null?void 0:at.name)||"Unknown"}),e.jsx("td",{className:"px-2 py-1",children:Ce.expectedCount}),e.jsx("td",{className:"px-2 py-1",children:Ce.actualCount}),e.jsx("td",{className:"px-2 py-1",children:e.jsxs("span",{className:`font-semibold ${Ce.discrepancy===0?"text-green-600":Ce.discrepancy<0?"text-red-600":"text-blue-600"}`,children:[Ce.discrepancy>0?"+":"",Ce.discrepancy]})}),e.jsx("td",{className:"px-2 py-1",children:e.jsx("span",{className:`px-1 py-0.5 rounded text-xs ${Ce.status==="match"?"bg-green-100 text-green-800":Ce.status==="shortage"?"bg-red-100 text-red-800":Ce.status==="surplus"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Ce.status})}),e.jsx("td",{className:"px-2 py-1",children:Ce.resolved?e.jsx("span",{className:"text-green-600 text-xs",children:"✓ Resolved"}):e.jsx("span",{className:"text-yellow-600 text-xs",children:"⚠ Pending"})}),e.jsx("td",{className:"px-2 py-1 max-w-xs truncate",title:Ce.notes,children:Ce.notes||"-"}),e.jsx("td",{className:"px-2 py-1",children:!Ce.resolved&&e.jsx(B,{size:"sm",variant:"outline",onClick:()=>Xd(Ce._id,R),className:"text-xs",children:"Resolve"})})]},Ce._id)})})]})})]},R)})]})]})}),e.jsx(mt,{value:"reservations",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(As,{className:"w-5 h-5"}),"Reservation Management"]})}),e.jsxs(ue,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Reservations (",b.length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(dm,{children:[e.jsx(um,{asChild:!0,children:e.jsxs(B,{variant:"outline",children:["Filter: ",rt==="all"?"All Statuses":rt,e.jsx(pa,{className:"w-4 h-4 ml-1"})]})}),e.jsxs(qc,{children:[e.jsx(rn,{onClick:()=>gt("all"),children:"All Statuses"}),e.jsx(Ui,{}),e.jsx(rn,{onClick:()=>gt("pending"),children:"Pending"}),e.jsx(rn,{onClick:()=>gt("ready"),children:"Ready"}),e.jsx(rn,{onClick:()=>gt("fulfilled"),children:"Fulfilled"}),e.jsx(rn,{onClick:()=>gt("cancelled"),children:"Cancelled"}),e.jsx(rn,{onClick:()=>gt("expired"),children:"Expired"})]})]}),e.jsxs(B,{onClick:()=>es(),children:[e.jsx(lr,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"User"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Book"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Priority"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Request Date"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Expiry Date"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:b.filter(R=>rt==="all"||R.status===rt).map(R=>{var ee,se;return e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-4 py-2",children:((ee=R.userId)==null?void 0:ee.name)||"N/A"}),e.jsx("td",{className:"px-4 py-2",children:((se=R.bookId)==null?void 0:se.title)||"N/A"}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(we,{className:`px-2 py-1 rounded ${R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="ready"?"bg-green-100 text-green-800":R.status==="fulfilled"?"bg-blue-100 text-blue-800":R.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:R.status})}),e.jsx("td",{className:"px-4 py-2",children:R.priority}),e.jsx("td",{className:"px-4 py-2",children:new Date(R.requestDate).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-2",children:R.expiryDate?new Date(R.expiryDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(dm,{children:[e.jsx(um,{asChild:!0,children:e.jsxs(B,{variant:"outline",size:"sm",disabled:Tt===R._id,children:[Tt===R._id?"Updating...":"Update Status",e.jsx(pa,{className:"w-4 h-4 ml-1"})]})}),e.jsxs(qc,{children:[e.jsx(th,{children:"Change Status"}),e.jsx(Ui,{}),R.status==="pending"&&e.jsx(rn,{onClick:()=>Qs(R._id,"ready"),children:"Mark as Ready"}),R.status==="ready"&&e.jsx(rn,{onClick:()=>Qs(R._id,"fulfilled"),children:"Mark as Fulfilled"}),R.status!=="cancelled"&&R.status!=="expired"&&e.jsx(rn,{onClick:()=>Qs(R._id,"cancelled"),children:"Cancel"}),R.status==="ready"&&e.jsx(rn,{onClick:()=>Qs(R._id,"expired"),children:"Mark as Expired"})]})]}),e.jsx(B,{variant:"outline",size:"sm",onClick:()=>{var Re,Ce;alert(`Reservation Details:
User: ${(Re=R.userId)==null?void 0:Re.name}
Book: ${(Ce=R.bookId)==null?void 0:Ce.title}
Status: ${R.status}
Priority: ${R.priority}
Request Date: ${new Date(R.requestDate).toLocaleDateString()}`)},children:e.jsx(Kt,{className:"w-4 h-4"})})]})})]},R._id)})})]})}),b.filter(R=>rt==="all"||R.status===rt).length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(As,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:rt==="all"?"No reservations found.":`No ${rt} reservations found.`}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reservations will appear here when students request books"})]})]})]})}),e.jsx(mt,{value:"reports",className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs($e,{children:[e.jsx(Be,{children:"Library Reports"}),e.jsx(wt,{children:"Basic statistics and recent activity."})]}),e.jsx(ue,{children:Qe?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(lr,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Books"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.totalBooks})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ca,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Loans"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.totalLoans})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ir,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Array.isArray(S)?S.filter(R=>{if(!R.dueDate||!R.userId||!R.bookId)return!1;const ee=new Date(R.dueDate),se=new Date;return(R.status==="active"||R.status==="overdue")&&ee<se}).length:0})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(No,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding Fines"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₱",(Cl=f.totalFines)!=null&&Cl.toFixed?f.totalFines.toFixed(2):"0.00"]})]})]})})})]})})})]})}),e.jsx(mt,{value:"communication",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"w-5 h-5"}),"Communication & Notifications"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Send Notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(B,{className:"w-full justify-start",onClick:()=>alert("Send Overdue Reminders feature coming soon!"),children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Send Overdue Reminders"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>alert("New Arrivals Announcement feature coming soon!"),children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"New Arrivals Announcement"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>alert("General Announcement feature coming soon!"),children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"General Announcement"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>alert("Reservation Ready feature coming soon!"),children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Reservation Ready"]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Quick Messages"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>alert("Due Date Reminders feature coming soon!"),children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Due Date Reminders"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>alert("Fine Notifications feature coming soon!"),children:[e.jsx(No,{className:"w-4 h-4 mr-2"}),"Fine Notifications"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>alert("Book Recommendations feature coming soon!"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Book Recommendations"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>alert("Policy Updates feature coming soon!"),children:[e.jsx(ir,{className:"w-4 h-4 mr-2"}),"Policy Updates"]})]})]})]})})]})})]})}),e.jsx(CN,{isOpen:kn,onClose:()=>{fr(!1),Ie(null)},onSave:Ba,book:W,mode:Ke}),e.jsx(Od,{isOpen:En,onClose:()=>{Qn(!1),Pn(null)},book:dn,imageKey:P,onEdit:R=>{Qn(!1),Pn(null),Ie(R),vt("edit"),fr(!0)}}),e.jsx(hl,{open:mr,onOpenChange:Xn,children:e.jsxs(qo,{children:[e.jsxs(Qo,{children:[e.jsx(Xo,{children:"Bulk Inventory Audit"}),e.jsxs(Fh,{children:["Enter the ",e.jsx("span",{className:"font-semibold text-blue-700",children:"actual count"})," for each ",e.jsx("span",{className:"font-semibold text-yellow-700",children:"low stock"})," or ",e.jsx("span",{className:"font-semibold text-red-700",children:"out-of-stock"})," book. Leave blank to skip a book.",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-500",children:"You can submit only the books you want to audit now."})]})]}),ot?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 font-semibold text-lg text-gray-800 flex items-center gap-2",children:[e.jsx(bn,{className:"w-5 h-5 text-green-600"})," Success: ",e.jsx("span",{className:"text-green-700",children:ot.success}),e.jsx(xa,{className:"w-5 h-5 text-red-600 ml-4"})," Errors/Skipped: ",e.jsx("span",{className:"text-red-700",children:ot.error})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto border rounded p-2 text-sm bg-gray-50",children:ot.details.map(({book:R,status:ee,message:se})=>e.jsxs("div",{className:"flex items-center gap-2 mb-1 "+(ee==="success"?"text-green-700":"text-red-700"),children:[ee==="success"?e.jsx(bn,{className:"w-4 h-4"}):e.jsx(xa,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:R.title}),e.jsxs("span",{className:"text-xs",children:["(",se,")"]})]},R.id))}),e.jsx(sd,{className:"mt-4",children:e.jsx(Ov,{asChild:!0,children:e.jsx(B,{children:"Close"})})})]}):e.jsxs("form",{onSubmit:R=>{R.preventDefault(),si()},children:[e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-4 mb-4 divide-y divide-gray-200",children:p.filter(R=>R.status==="low-stock"||R.status==="out-of-stock").length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"No low stock or out-of-stock books found for bulk audit."}):p.filter(R=>R.status==="low-stock"||R.status==="out-of-stock").map(R=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 pt-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate",children:R.title}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",e.jsx("span",{className:"font-semibold",children:R.totalCopies}),", Available: ",e.jsx("span",{className:"font-semibold",children:R.availableCopies}),", On Loan: ",e.jsx("span",{className:"font-semibold",children:R.currentLoans})]})]}),e.jsx(Ze,{type:"number",min:"0",placeholder:"Actual count",value:Ge[R.id]||"",onChange:ee=>Jd(R.id,ee.target.value),className:"w-32 border-blue-400 focus:border-blue-600 focus:ring-2 focus:ring-blue-200","aria-label":`Actual count for ${R.title}`})]},R.id))}),e.jsxs(sd,{className:"mt-4 flex-col sm:flex-row gap-2",children:[e.jsxs(B,{type:"submit",disabled:Dt,className:"w-full sm:w-auto flex items-center justify-center",children:[Dt&&e.jsx(Wn,{className:"w-4 h-4 mr-2 animate-spin"}),Dt?"Submitting...":"Submit Audits"]}),e.jsx(Ov,{asChild:!0,children:e.jsx(B,{type:"button",variant:"outline",disabled:Dt,className:"w-full sm:w-auto",children:"Cancel"})})]})]})]})}),Da&&Jn&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",onClick:R=>{R.target===R.currentTarget&&(Ma(!1),Ia(null),Zn([]))},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Sa,{user:{id:Jn._id,name:Jn.name,profilePicture:Jn.profilePicture},size:"sm"}),"Activity Log for ",Jn.name]}),Gs?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(lr,{className:"w-8 h-8 animate-spin text-blue-600"})}):La.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(co,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"No activity found for this user."})]}):e.jsx("ul",{className:"space-y-4",children:La.map((R,ee)=>{var se,Re,Ce,at,nt,zt,fn,qr;return e.jsxs("li",{className:"border-b pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold capitalize",children:R.type.replace(/[-_]/g," ")}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(R.date).toLocaleString()})]}),e.jsxs("div",{className:"ml-4 text-sm text-gray-700",children:[R.type==="loan-issued"&&e.jsxs("span",{children:["Borrowed ",e.jsx("b",{children:((se=R.details.book)==null?void 0:se.title)||"Unknown Book"})," (Due: ",R.details.dueDate?new Date(R.details.dueDate).toLocaleDateString():"N/A",")"]}),R.type==="loan-returned"&&e.jsxs("span",{children:["Returned ",e.jsx("b",{children:((Re=R.details.book)==null?void 0:Re.title)||"Unknown Book"}),R.details.fineAmount>0?` (Fine: ₱${R.details.fineAmount.toFixed(2)})`:""]}),R.type==="fine"&&e.jsxs("span",{children:["Fine issued: ",e.jsxs("b",{children:["₱",R.details.amount.toFixed(2)]})," for ",e.jsx("i",{children:R.details.reason})," (",R.details.status,")"]}),R.type==="fine-paid"&&e.jsxs("span",{children:["Fine paid: ",e.jsxs("b",{children:["₱",((Ce=R.details.paidAmount)==null?void 0:Ce.toFixed(2))||((at=R.details.amount)==null?void 0:at.toFixed(2))]})]}),R.type==="reservation"&&e.jsxs("span",{children:["Reserved ",e.jsx("b",{children:((nt=R.details.book)==null?void 0:nt.title)||"Unknown Book"})," (Status: ",R.details.status,")"]}),R.type==="reservation-fulfilled"&&e.jsxs("span",{children:["Reservation fulfilled for ",e.jsx("b",{children:((zt=R.details.book)==null?void 0:zt.title)||"Unknown Book"})]}),R.type==="inventory-audit"&&e.jsxs("span",{children:["Performed inventory audit on ",e.jsx("b",{children:((fn=R.details.book)==null?void 0:fn.title)||"Unknown Book"})," (Expected: ",R.details.expectedCount,", Actual: ",R.details.actualCount,", Discrepancy: ",R.details.discrepancy,")"]}),R.type==="inventory-audit-resolved"&&e.jsxs("span",{children:["Resolved inventory audit for ",e.jsx("b",{children:((qr=R.details.book)==null?void 0:qr.title)||"Unknown Book"})]})]})]},ee)})}),e.jsx("div",{className:"flex gap-2 justify-end mt-4",children:e.jsx(B,{variant:"outline",onClick:()=>{Ma(!1),Ia(null),Zn([])},children:"Close"})})]})})]})}function UD({book:t,variant:n="grid",showActions:a=!0,onView:o,onBorrow:l,onReserve:c,onEdit:m,onSave:f,onCite:x,imageKey:p=Date.now(),canBorrow:y=!0,canReserve:w=!0,showEditButton:v=!1,className:S=""}){t._id||t.id;const N=P=>{switch(P){case"available":return"bg-green-100 text-green-800 border-green-200";case"low-stock":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"out-of-stock":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=()=>t.availableCopies>0?"available":"out-of-stock",j=()=>e.jsx("div",{className:"w-full h-full relative",children:t.coverImage?e.jsx("img",{src:`${t.coverImage}?t=${p}`,alt:`Cover of ${t.title}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:P=>{const A=P.target;A.style.display="none";const T=A.parentElement;T&&(T.innerHTML=`
                <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 text-gray-400">
                  <div class="text-center p-4">
                    <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                    </svg>
                    <p class="text-xs font-medium">No Cover</p>
                  </div>
                </div>
              `)}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 text-gray-400",children:e.jsxs("div",{className:"text-center p-4",children:[e.jsx(ih,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-xs font-medium",children:"No Cover"})]})})}),C=()=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 leading-tight line-clamp-2 group-hover:text-blue-700 transition-colors",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["by ",t.author]}),n!=="compact"&&e.jsxs("div",{className:"space-y-1",children:[t.description&&e.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[t.publishedYear&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(As,{className:"w-3 h-3"}),t.publishedYear]}),t.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(pd,{className:"w-3 h-3"}),t.location]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.availableCopies," of ",t.totalCopies," copies available"]})]})]}),k=()=>{if(!a)return null;const P="h-9 px-4 text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95",A=`${P} bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg`,T=`${P} bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow-md`,L=`${P} bg-transparent hover:bg-gray-50 text-gray-600 hover:text-gray-800 border border-gray-200 hover:border-gray-400`;return e.jsxs("div",{className:`flex gap-2 ${n==="compact"?"flex-col":"flex-wrap"}`,children:[o&&e.jsxs(B,{size:"sm",onClick:()=>o(t),className:A,title:"View full book details",children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"View Details"]}),l&&y&&t.availableCopies>0&&e.jsxs(B,{size:"sm",onClick:()=>l(t._id||t.id||""),className:T,title:"Borrow this book",children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Borrow"]}),c&&w&&t.availableCopies===0&&e.jsxs(B,{size:"sm",onClick:()=>c(t._id||t.id||""),className:L,title:"Reserve this book",children:[e.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Reserve"]}),f&&e.jsxs(B,{size:"sm",onClick:()=>f(t),className:L,title:"Save to your library",children:[e.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Save"]}),x&&e.jsxs(B,{size:"sm",onClick:()=>x(t),className:L,title:"Copy citation",children:[e.jsx(xd,{className:"w-4 h-4 mr-2"}),"Cite"]}),v&&m&&e.jsxs(B,{size:"sm",onClick:()=>m(t),className:L,title:"Edit book details",children:[e.jsx($o,{className:"w-4 h-4 mr-2"}),"Edit"]}),t.hasDownload&&e.jsxs(B,{size:"sm",onClick:()=>{},className:L,title:"Download book",children:[e.jsx(ga,{className:"w-4 h-4 mr-2"}),"Download"]})]})};return n==="list"?e.jsxs(de,{className:`
        group relative overflow-hidden transition-all duration-300 
        hover:shadow-lg hover:shadow-blue-100 hover:-translate-y-1
        flex book-card-hover ${S} border-gray-100 hover:border-blue-200
      `,children:[e.jsx("div",{className:"flex-shrink-0 w-28 h-40 relative overflow-hidden bg-white",children:j()}),e.jsx(ue,{className:"flex-1 p-6",children:e.jsxs("div",{className:"flex justify-between items-start h-full",children:[e.jsx("div",{className:"flex-1 mr-6",children:C()}),e.jsxs("div",{className:"flex flex-col gap-3 items-end",children:[e.jsx(we,{className:`${N()} text-xs px-3 py-1 font-medium shadow-sm`,children:b()}),e.jsx("div",{className:"flex flex-col gap-2",children:k()})]})]})})]}):n==="compact"?e.jsx(de,{className:`
        group relative overflow-hidden transition-all duration-300 
        hover:shadow-lg hover:shadow-blue-100 hover:-translate-y-1
        book-card-hover ${S} border-gray-100 hover:border-blue-200
      `,children:e.jsx(ue,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-14 h-20 relative overflow-hidden bg-white rounded",children:j()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900 truncate mb-1",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-600 truncate mb-3",children:["by ",t.author]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx(we,{className:`${N()} text-xs px-2 py-1`,children:b()}),e.jsx("div",{className:"flex gap-1",children:o&&e.jsx(B,{size:"sm",onClick:()=>o(t),className:"h-7 px-2 text-xs bg-blue-600 hover:bg-blue-700 text-white",title:"View full book details",children:e.jsx(Kt,{className:"w-3 h-3"})})})]})]})]})})}):e.jsx(de,{className:`
      group relative overflow-hidden transition-all duration-300 
      hover:shadow-xl hover:shadow-blue-100 hover:-translate-y-2
      book-card-hover ${S} border-gray-100 hover:border-blue-200
    `,children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative overflow-hidden aspect-[3/4] bg-white",children:[j(),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(we,{className:`${N()} text-xs font-medium shadow-lg backdrop-blur-sm bg-white/90`,children:b()})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs(ue,{className:"p-4",children:[C(),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:k()})})]})]})})}function VD(){const{user:t,logout:n}=Lt(),a=jr(),[o,l]=d.useState("browse"),[c,m]=d.useState(!0),[f,x]=d.useState([]),[p,y]=d.useState([]),[w,v]=d.useState([]),[S,N]=d.useState([]),[b,j]=d.useState([]),[C,k]=d.useState({currentLoans:0,totalBorrowed:0,outstandingFines:0,activeReservations:0,borrowingLimit:5,availableToLoan:5}),[P,A]=d.useState(""),[T,L]=d.useState(null),[D,$]=d.useState(""),[X,V]=d.useState({title:"",author:"",reason:""}),[ne,Z]=d.useState("all"),[he,q]=d.useState(Date.now()),[Q,te]=d.useState(!1),[xe,F]=d.useState("grid"),[U,re]=d.useState("title"),[M,H]=d.useState("all"),[fe,be]=d.useState(!1),[ke,ve]=d.useState({name:"",email:""});d.useEffect(()=>{if(!t||t.role!=="user"){a("/");return}me()},[t,a]);const me=async()=>{m(!0);try{if(!(localStorage.getItem("token")||sessionStorage.getItem("token"))){a("/");return}await Promise.all([je(),Ee(),Oe(),Qe(),qe(),Y()])}catch(W){console.error("Error loading student data:",W)}finally{m(!1)}},je=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token"),Ie=await fetch(`/api/student/books?search=${P}&filter=${M}`,{headers:{Authorization:`Bearer ${W}`}});if(Ie.ok){const Ke=await Ie.json();x(Ke.books||[])}}catch(W){console.error("Error loading books:",W)}},Ee=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token"),Ie=await fetch("/api/student/loans",{headers:{Authorization:`Bearer ${W}`}});if(Ie.ok){const Ke=await Ie.json();y(Ke)}}catch(W){console.error("Error loading loans:",W)}},Oe=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token"),Ie=await fetch("/api/student/reservations",{headers:{Authorization:`Bearer ${W}`}});if(Ie.ok){const Ke=await Ie.json();v(Ke)}}catch(W){console.error("Error loading reservations:",W)}},Qe=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token"),Ie=await fetch("/api/student/fines",{headers:{Authorization:`Bearer ${W}`}});if(Ie.ok){const Ke=await Ie.json();N(Ke)}}catch(W){console.error("Error loading fines:",W)}},qe=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token"),Ie=await fetch("/api/student/notifications",{headers:{Authorization:`Bearer ${W}`}});if(Ie.ok){const Ke=await Ie.json();j(Ke)}}catch(W){console.error("Error loading notifications:",W)}},Y=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token"),Ie=await fetch("/api/student/stats",{headers:{Authorization:`Bearer ${W}`}});if(Ie.ok){const Ke=await Ie.json();k(Ke)}}catch(W){console.error("Error loading student stats:",W)}},Fe=async W=>{try{const Ie=localStorage.getItem("token")||sessionStorage.getItem("token"),Ke=await fetch("/api/student/loans",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify({bookId:W,loanDays:14})});if(Ke.ok){const vt=await Ke.json();q(Date.now()),await Promise.all([Ee(),je(),Y()]),yt({title:"Success",description:`Book borrowed successfully! Due date: ${new Date(vt.dueDate).toLocaleDateString()}`})}else{const vt=await Ke.json();yt({title:"Error",description:vt.message||"Failed to borrow book",variant:"destructive"})}}catch(Ie){console.error("Error borrowing book:",Ie),yt({title:"Error",description:"Error borrowing book",variant:"destructive"})}},He=async W=>{try{const Ie=localStorage.getItem("token")||sessionStorage.getItem("token"),Ke=await fetch("/api/student/reservations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify({bookId:W})});if(Ke.ok)await Promise.all([Oe(),Y()]),yt({title:"Success",description:"Book reserved successfully! You will be notified when it becomes available."});else{const vt=await Ke.json();yt({title:"Error",description:vt.message||"Failed to reserve book",variant:"destructive"})}}catch(Ie){console.error("Error reserving book:",Ie),yt({title:"Error",description:"Error reserving book",variant:"destructive"})}},J=async W=>{try{const Ie=localStorage.getItem("token")||sessionStorage.getItem("token"),Ke=await fetch(`/api/student/loans/${W}/return`,{method:"POST",headers:{Authorization:`Bearer ${Ie}`}});if(Ke.ok){const vt=await Ke.json();vt.fine?alert(`Book returned successfully! Fine of ₱${vt.fine.toFixed(2)} has been applied for overdue.`):alert("Book returned successfully!"),Ee(),je(),Y()}else{const vt=await Ke.json();alert(`Error: ${vt.message}`)}}catch(Ie){console.error("Error returning book:",Ie),alert("Error returning book")}},Ae=async W=>{try{const Ie=localStorage.getItem("token")||sessionStorage.getItem("token"),Ke=await fetch(`/api/student/loans/${W}/renew`,{method:"POST",headers:{Authorization:`Bearer ${Ie}`}});if(Ke.ok)alert("Book renewed successfully!"),Ee();else{const vt=await Ke.json();alert(`Error: ${vt.message}`)}}catch(Ie){console.error("Error renewing loan:",Ie),alert("Error renewing book")}},Je=async W=>{try{const Ie=localStorage.getItem("token")||sessionStorage.getItem("token"),Ke=await fetch(`/api/student/reservations/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ie}`}});if(Ke.ok)alert("Reservation cancelled successfully!"),Oe(),Y();else{const vt=await Ke.json();alert(`Error: ${vt.message}`)}}catch(Ie){console.error("Error cancelling reservation:",Ie),alert("Error cancelling reservation")}},ze=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token");(await fetch("/api/student/feedback",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({message:D})})).ok?(alert("Feedback submitted successfully! Thank you for your input."),$("")):alert("Error submitting feedback")}catch(W){console.error("Error submitting feedback:",W),alert("Error submitting feedback")}},ct=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token");(await fetch("/api/student/suggestions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify(X)})).ok?(alert("Book suggestion submitted successfully! We will review your recommendation."),V({title:"",author:"",reason:""})):alert("Error submitting book suggestion")}catch(W){console.error("Error submitting suggestion:",W),alert("Error submitting book suggestion")}},rt=async W=>{try{const Ie=localStorage.getItem("token")||sessionStorage.getItem("token");await fetch(`/api/student/notifications/${W}/read`,{method:"POST",headers:{Authorization:`Bearer ${Ie}`}}),qe()}catch(Ie){console.error("Error marking notification as read:",Ie)}},gt=W=>{L(W),te(!0)},Tt=W=>{switch(W){case"active":case"ready":case"paid":return"bg-green-100 text-green-800";case"overdue":case"pending":return"bg-yellow-100 text-yellow-800";case"lost":case"damaged":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Wr=()=>{be(!0),ve({name:t.name,email:t.email})},kn=async()=>{try{const W=localStorage.getItem("token")||sessionStorage.getItem("token"),Ie=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({name:ke.name,email:ke.email})});if(Ie.ok)yt({title:"Success",description:"Profile updated successfully!"}),be(!1),await me();else{const Ke=await Ie.json();yt({title:"Error",description:Ke.message||"Failed to update profile",variant:"destructive"})}}catch(W){console.error("Error updating profile:",W),yt({title:"Error",description:"Error updating profile",variant:"destructive"})}},fr=()=>{be(!1),ve({name:t.name,email:t.email})};return!t||t.role!=="user"?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Xe,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsx(B,{onClick:()=>a("/"),children:"Go to Homepage"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Library"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(B,{variant:"outline",onClick:()=>a("/"),className:"flex items-center gap-2",children:[e.jsx(il,{className:"w-4 h-4"}),"Back to Library"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Welcome, ",e.jsx("span",{className:"font-semibold",children:t.name})]}),e.jsx(B,{onClick:n,variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:"Logout"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Loans"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.currentLoans})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nn,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reservations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.activeReservations})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(No,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding Fines"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₱",C.outstandingFines.toFixed(2)]})]})]})})}),e.jsx(de,{children:e.jsx(ue,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bn,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available to Loan"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.availableToLoan})]})]})})})]}),e.jsxs(xl,{value:o,onValueChange:l,children:[e.jsxs(Zo,{className:"grid w-full grid-cols-8",children:[e.jsxs(ft,{value:"browse",className:"flex items-center gap-1",children:[e.jsx(Vn,{className:"w-3 h-3"}),"Browse"]}),e.jsxs(ft,{value:"loans",className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),"My Loans"]}),e.jsxs(ft,{value:"reservations",className:"flex items-center gap-1",children:[e.jsx(Nn,{className:"w-3 h-3"}),"Reservations"]}),e.jsxs(ft,{value:"fines",className:"flex items-center gap-1",children:[e.jsx(No,{className:"w-3 h-3"}),"Fines"]}),e.jsxs(ft,{value:"notifications",className:"flex items-center gap-1",children:[e.jsx(Qc,{className:"w-3 h-3"}),"Notifications"]}),e.jsxs(ft,{value:"feedback",className:"flex items-center gap-1",children:[e.jsx(Ss,{className:"w-3 h-3"}),"Feedback"]}),e.jsxs(ft,{value:"history",className:"flex items-center gap-1",children:[e.jsx(Gg,{className:"w-3 h-3"}),"History"]}),e.jsxs(ft,{value:"account",className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"w-3 h-3"}),"Account"]})]}),e.jsxs(mt,{value:"browse",className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Discover Books"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Explore our vast collection of books and resources"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(we,{variant:"secondary",className:"text-sm",children:[f.length," books available"]}),e.jsxs("div",{className:"flex bg-white rounded-lg p-1 shadow-sm border border-gray-200",children:[e.jsx(B,{variant:xe==="grid"?"default":"ghost",size:"sm",onClick:()=>F("grid"),className:`px-3 h-8 font-medium transition-all duration-200 ${xe==="grid"?"bg-blue-600 text-white shadow-sm hover:bg-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:e.jsx(mC,{className:"w-4 h-4"})}),e.jsx(B,{variant:xe==="list"?"default":"ghost",size:"sm",onClick:()=>F("list"),className:`px-3 h-8 font-medium transition-all duration-200 ${xe==="list"?"bg-blue-600 text-white shadow-sm hover:bg-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:e.jsx(xC,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(Ze,{placeholder:"Search by title, author, or category...",value:P,onChange:W=>A(W.target.value),className:"pl-10 h-12 text-lg rounded-xl border-2 border-gray-200 focus:border-blue-400 transition-colors"})]}),e.jsxs(B,{onClick:je,className:"h-12 px-6 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-medium transition-all duration-200 shadow-md hover:shadow-lg hover:scale-105 active:scale-95",children:[e.jsx(Vn,{className:"w-5 h-5 mr-2"}),"Search"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(da,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),e.jsxs("select",{value:M,onChange:W=>H(W.target.value),className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-200 hover:border-gray-300 hover:shadow-sm",children:[e.jsx("option",{value:"all",children:"All Books"}),e.jsx("option",{value:"available",children:"Available Now"}),e.jsx("option",{value:"new",children:"New Arrivals"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"fiction",children:"Fiction"}),e.jsx("option",{value:"non-fiction",children:"Non-Fiction"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vC,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sort by:"})]}),e.jsxs("select",{value:U,onChange:W=>re(W.target.value),className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-200 hover:border-gray-300 hover:shadow-sm",children:[e.jsx("option",{value:"title",children:"Title A-Z"}),e.jsx("option",{value:"author",children:"Author A-Z"}),e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"available",children:"Available First"})]}),e.jsxs(B,{variant:"outline",size:"sm",onClick:je,className:"ml-auto h-9 px-4 font-medium bg-white hover:bg-gray-50 border-gray-200 hover:border-gray-300 text-gray-700 hover:text-gray-800 transition-all duration-200 hover:shadow-sm",children:[e.jsx(lr,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})]}),e.jsx(de,{className:"shadow-lg border-0",children:e.jsxs(ue,{className:"p-6",children:[c?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Discovering amazing books for you..."})]})}):f.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Xe,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No books found"}),e.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Try adjusting your search terms or filters."}),e.jsxs(B,{onClick:je,variant:"outline",children:[e.jsx(lr,{className:"w-4 h-4 mr-2"}),"Refresh Collection"]})]}):e.jsx("div",{className:`
                    ${xe==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4"}
                    transition-all duration-300
                  `,children:f.map((W,Ie)=>e.jsx("div",{className:"animate-fadeIn",style:{animationDelay:`${Ie*50}ms`},children:e.jsx(UD,{book:W,variant:xe,onView:gt,onBorrow:Fe,onReserve:He,imageKey:he,canBorrow:C.availableToLoan>0,canReserve:C.availableToLoan>0})},W._id))}),f.length>0&&e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["Showing ",f.length," books"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dh,{className:"w-4 h-4"}),"Popular this week"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(e0,{className:"w-4 h-4 text-yellow-500"}),"Highly rated"]})]})]})})]})})]}),e.jsx(mt,{value:"loans",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),"My Current Loans (",p.filter(W=>W.status==="active").length,")"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[p.filter(W=>W.status==="active").map(W=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:W.bookId.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",W.bookId.author]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-sm",children:["Due: ",new Date(W.dueDate).toLocaleDateString()]}),e.jsx(we,{className:Tt(W.status),children:W.status}),new Date(W.dueDate)<new Date&&e.jsx(we,{className:"bg-red-100 text-red-800",children:"Overdue"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Renewals: ",W.renewalCount,"/",W.maxRenewals]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>Ae(W._id),disabled:W.renewalCount>=W.maxRenewals,children:[e.jsx(lr,{className:"w-4 h-4 mr-2"}),"Renew"]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>J(W._id),className:"text-red-600 hover:text-red-700 border-red-300",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Return"]})]})]},W._id)),p.filter(W=>W.status==="active").length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No current loans. Visit the library to borrow books!"})]})})]})}),e.jsx(mt,{value:"reservations",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Nn,{className:"w-5 h-5"}),"My Reservations (",w.length,")"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[w.map(W=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:W.bookId.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",W.bookId.author]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-sm",children:["Requested: ",new Date(W.requestDate).toLocaleDateString()]}),e.jsx(we,{className:Tt(W.status),children:W.status}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Priority: #",W.priority]})]})]}),e.jsxs(B,{size:"sm",variant:"outline",onClick:()=>Je(W._id),className:"text-red-600 hover:text-red-700",children:[e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Cancel"]})]},W._id)),w.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No active reservations."})]})})]})}),e.jsx(mt,{value:"fines",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(No,{className:"w-5 h-5"}),"My Fines"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[S.map(W=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:W.description}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Reason: ",W.reason]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-sm",children:["Issued: ",new Date(W.dateIssued).toLocaleDateString()]}),e.jsx(we,{className:Tt(W.status),children:W.status})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-red-600",children:["₱",W.amount.toFixed(2)]}),W.status==="pending"&&e.jsx(B,{size:"sm",className:"mt-2",children:"Pay Online"})]})]},W._id)),S.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No fines. Keep up the good work!"})]})})]})}),e.jsx(mt,{value:"notifications",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Qc,{className:"w-5 h-5"}),"Notifications"]})}),e.jsx(ue,{children:b.length===0?e.jsx("div",{className:"text-gray-500 text-center py-8",children:"No notifications yet."}):e.jsx("div",{className:"space-y-4",children:b.map(W=>e.jsxs("div",{className:`p-4 border rounded-lg flex items-start gap-4 ${W.read?"bg-gray-50":"bg-blue-50"}`,children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(we,{className:"capitalize",children:W.type.replace("_"," ")})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-lg",children:W.title}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(W.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-gray-700 mt-1 mb-2",children:W.message}),!W.read&&e.jsx(B,{size:"sm",onClick:()=>rt(W._id),children:"Mark as Read"})]})]},W._id))})})]})}),e.jsx(mt,{value:"feedback",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"w-5 h-5"}),"Submit Feedback"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(od,{placeholder:"Share your feedback about library services, suggest improvements, or report issues...",value:D,onChange:W=>$(W.target.value),rows:6}),e.jsx(B,{onClick:ze,disabled:!D.trim(),children:"Submit Feedback"})]})})]}),e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Suggest a Book"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ze,{placeholder:"Book Title",value:X.title,onChange:W=>V({...X,title:W.target.value})}),e.jsx(Ze,{placeholder:"Author",value:X.author,onChange:W=>V({...X,author:W.target.value})}),e.jsx(od,{placeholder:"Why should we add this book to our collection?",value:X.reason,onChange:W=>V({...X,reason:W.target.value}),rows:4}),e.jsx(B,{onClick:ct,disabled:!X.title||!X.author,children:"Submit Suggestion"})]})})]})]})}),e.jsx(mt,{value:"history",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Gg,{className:"w-5 h-5"}),"Borrowing History"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[p.filter(W=>W.status==="returned").slice(0,10).map(W=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:W.bookId.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",W.bookId.author]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-sm",children:["Borrowed: ",new Date(W.issueDate).toLocaleDateString()]}),e.jsxs("span",{className:"text-sm",children:["Due: ",new Date(W.dueDate).toLocaleDateString()]}),e.jsx(we,{className:Tt(W.status),children:"Returned"})]})]}),W.fineAmount>0&&e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-sm text-red-600",children:["Fine: ₱",W.fineAmount.toFixed(2)]})})]},W._id)),p.filter(W=>W.status==="returned").length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No borrowing history yet."})]})})]})}),e.jsx(mt,{value:"account",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx($e,{children:e.jsxs(Be,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-5 h-5"}),"Account Information"]})}),e.jsxs(ue,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(Sa,{user:t,size:"lg"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Full Name"}),fe?e.jsx(Ze,{value:ke.name,onChange:W=>ve({...ke,name:W.target.value}),className:"mt-1",placeholder:"Enter your full name"}):e.jsx("p",{className:"mt-1 text-lg",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email Address"}),fe?e.jsx(Ze,{type:"email",value:ke.email,onChange:W=>ve({...ke,email:W.target.value}),className:"mt-1",placeholder:"Enter your email address"}):e.jsx("p",{className:"mt-1",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Student ID"}),e.jsx("p",{className:"mt-1 font-mono bg-gray-100 px-2 py-1 rounded text-sm",children:t.userId||`STD-25CS-${new Date().getDate().toString().padStart(2,"0")}${(new Date().getMonth()+1).toString().padStart(2,"0")}-001`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Account Status"}),e.jsx(we,{className:"ml-2 bg-green-100 text-green-800",children:"Active"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Borrowing Limit"}),e.jsxs("p",{className:"mt-1",children:[C.borrowingLimit," books"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Currently Available"}),e.jsxs("p",{className:"mt-1",children:[C.availableToLoan," books"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Books Borrowed"}),e.jsxs("p",{className:"mt-1",children:[C.totalBorrowed," books"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Member Since"}),e.jsx("p",{className:"mt-1",children:new Date().toLocaleDateString()})]})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:fe?e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(B,{onClick:kn,className:"h-10 px-6 font-medium bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 active:scale-95",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),e.jsxs(B,{variant:"outline",onClick:fr,className:"h-10 px-6 font-medium bg-white hover:bg-gray-50 border-gray-200 hover:border-gray-300 text-gray-700 hover:text-gray-800 transition-all duration-200 hover:shadow-sm",children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}):e.jsxs(B,{variant:"outline",onClick:Wr,className:"h-10 px-6 font-medium bg-white hover:bg-gray-50 border-gray-200 hover:border-gray-300 text-gray-700 hover:text-gray-800 transition-all duration-200 hover:shadow-sm",children:[e.jsx($o,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]})]})})]})]}),T&&e.jsx(Od,{book:T,isOpen:Q,onClose:()=>te(!1),onBorrow:Fe,onReserve:He,imageKey:he,canBorrow:C.availableToLoan>0,canReserve:C.availableToLoan>0,showEditButton:!1})]})}function Kd({message:t="Loading..."}){return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-brand-orange border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-abhaya font-bold text-brand-text-primary mb-2",children:t}),e.jsx("p",{className:"text-brand-text-secondary font-actor",children:"Please wait while we load your content..."})]})})}const HD=ol("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),P1=d.forwardRef(({className:t,variant:n,...a},o)=>e.jsx("div",{ref:o,role:"alert",className:Me(HD({variant:n}),t),...a}));P1.displayName="Alert";const WD=d.forwardRef(({className:t,...n},a)=>e.jsx("h5",{ref:a,className:Me("mb-1 font-medium leading-none tracking-tight",t),...n}));WD.displayName="AlertTitle";const R1=d.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:Me("text-sm [&_p]:leading-relaxed",t),...n}));R1.displayName="AlertDescription";function GD(){const[t,n]=d.useState(navigator.onLine);return d.useEffect(()=>{const a=()=>n(!0),o=()=>n(!1);return window.addEventListener("online",a),window.addEventListener("offline",o),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",o)}},[]),t}class KD extends ge.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Error caught by boundary:",n,a)}render(){if(this.state.hasError){const n=this.props.fallback||YD;return e.jsx(n,{error:this.state.error,reset:()=>this.setState({hasError:!1,error:null})})}return this.props.children}}function YD({error:t,reset:n}){return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(de,{className:"max-w-md w-full",children:[e.jsxs($e,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(hd,{className:"w-8 h-8 text-red-600"})}),e.jsx(Be,{className:"text-xl font-abhaya",children:"Something went wrong"})]}),e.jsxs(ue,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"We encountered an unexpected error. Please try again."}),!1,e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsxs(B,{onClick:n,variant:"outline",children:[e.jsx(lr,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e.jsx(B,{onClick:()=>window.location.reload(),children:"Reload Page"})]})]})]})})}function qD(){const t=GD(),[n,a]=d.useState(!1);return d.useEffect(()=>{if(!t)a(!0);else{const o=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(o)}},[t]),n?e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(P1,{className:`${t?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[t?e.jsx(jC,{className:"w-4 h-4 text-green-600"}):e.jsx(bC,{className:"w-4 h-4 text-red-600"}),e.jsx(R1,{className:t?"text-green-800":"text-red-800",children:t?"Connection restored":"You are offline"})]})})}):null}function QD(){const t=jr(),n=Yn(),{fetchUser:a}=Lt();return d.useEffect(()=>{const l=new URLSearchParams(n.search).get("token");l?(localStorage.setItem("token",l),a().then(()=>{t("/my-account")})):t("/")},[n,a,t]),e.jsx("div",{children:"Logging you in..."})}const XD=new VP;function JD({children:t}){const{user:n,initialLoading:a}=Lt();return a?e.jsx(Kd,{message:"Loading your account..."}):n?t:e.jsx(Na,{to:"/",replace:!0})}function ZD({children:t}){const{user:n,initialLoading:a,isAdmin:o}=Lt();return a?e.jsx(Kd,{message:"Loading your account..."}):n?o?t:e.jsx(Na,{to:"/my-account",replace:!0}):e.jsx(Na,{to:"/",replace:!0})}function eM({children:t}){const{user:n,initialLoading:a,isLibrarian:o}=Lt();return a?e.jsx(Kd,{message:"Loading your account..."}):n?o?t:e.jsx(Na,{to:"/my-account",replace:!0}):e.jsx(Na,{to:"/",replace:!0})}function tM({children:t}){const{user:n,initialLoading:a,isUser:o}=Lt();return a?e.jsx(Kd,{message:"Loading your account..."}):n?o?t:e.jsx(Na,{to:"/my-account",replace:!0}):e.jsx(Na,{to:"/",replace:!0})}const rM=()=>e.jsx(KD,{children:e.jsx(K4,{children:e.jsx(WP,{client:XD,children:e.jsxs(jP,{children:[e.jsx(ok,{}),e.jsx(_k,{}),e.jsx(qD,{}),e.jsx(V4,{children:e.jsx(n3,{children:e.jsxs(L4,{children:[e.jsx(wr,{path:"/",element:e.jsx(rR,{})}),e.jsx(wr,{path:"/advanced-search",element:e.jsx(nR,{})}),e.jsx(wr,{path:"/search",element:e.jsx(vA,{})}),e.jsx(wr,{path:"/search-history",element:e.jsx(yA,{})}),e.jsx(wr,{path:"/book/the-great-gatsby",element:e.jsx(wA,{})}),e.jsx(wr,{path:"/settings",element:e.jsx(XA,{})}),e.jsx(wr,{path:"/my-account",element:e.jsx(JD,{children:e.jsx(s3,{})})}),e.jsx(wr,{path:"/admin",element:e.jsx(ZD,{children:e.jsx(i5,{})})}),e.jsx(wr,{path:"/librarian",element:e.jsx(eM,{children:e.jsx(zD,{})})}),e.jsx(wr,{path:"/student",element:e.jsx(tM,{children:e.jsx(VD,{})})}),e.jsx(wr,{path:"/reset-password",element:e.jsx(o3,{})}),e.jsx(wr,{path:"/login",element:e.jsx(QD,{})}),e.jsx(wr,{path:"*",element:e.jsx(bA,{})})]})})})]})})})});lk.createRoot(document.getElementById("root")).render(e.jsx(rM,{}));
